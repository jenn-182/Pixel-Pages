{"ast":null,"code":"import _objectSpread from\"/Users/jenn/Projects/Pixel-Pages/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import{X,FileText,Tag,Folder,BookOpen,Palette,Save,Plus,ArrowLeft,Download,FileDown,Archive,Bold,Italic,Underline,List,ListOrdered,Quote,Code,Highlighter,Eye,EyeOff,Trash2}from'lucide-react';import{useNotification}from'../../contexts/NotificationContext';import{insertFormatting,handleFormattingKeyDown}from'../../utils/markdownUtils';import MarkdownPreview from'../markdown/MarkdownPreview';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NoteModal=_ref=>{let{isOpen,onClose,onSave,onDelete,folders,notebooks,existingNote=null,defaultFolderId=null,defaultNotebookId=null,title:customTitle=null}=_ref;const[noteData,setNoteData]=useState({title:'',content:'',tags:'',color:'#4ADE80',folderId:null,notebookId:null});const[showPreview,setShowPreview]=useState(false);const[showDeleteConfirm,setShowDeleteConfirm]=useState(false);const{showNotification}=useNotification();const isEditing=existingNote!==null;const modalTitle=customTitle||(isEditing?'MODIFY LOG ENTRY':'CREATE NEW LOG ENTRY');// Calculate RGB values for dynamic theming\nconst noteColor=noteData.color||'#4ADE80';const noteRgb=noteColor.startsWith('#')?\"\".concat(parseInt(noteColor.slice(1,3),16),\", \").concat(parseInt(noteColor.slice(3,5),16),\", \").concat(parseInt(noteColor.slice(5,7),16)):'74, 222, 128';const colors=['#4ADE80','#60A5FA','#F472B6','#FBBF24','#A78BFA','#FB7185','#34D399','#FCD34D'];// Load existing note data when editing\nuseEffect(()=>{if(existingNote){setNoteData({title:existingNote.title||'',content:existingNote.content||'',tags:Array.isArray(existingNote.tags)?existingNote.tags.join(', '):existingNote.tags||'',color:existingNote.color||'#4ADE80',folderId:existingNote.folderId||null,notebookId:existingNote.notebookId||null});}else{setNoteData({title:'',content:'',tags:'',color:'#4ADE80',folderId:defaultFolderId,notebookId:defaultNotebookId});}},[existingNote,isOpen,defaultFolderId,defaultNotebookId]);// Keyboard shortcuts\nuseEffect(()=>{if(!isOpen)return;const handleKeyDown=e=>{// Escape to close\nif(e.key==='Escape'){e.preventDefault();onClose();}// Ctrl/Cmd + Enter to save\nif((e.ctrlKey||e.metaKey)&&e.key==='Enter'){e.preventDefault();handleSubmit(e);}};document.addEventListener('keydown',handleKeyDown);return()=>document.removeEventListener('keydown',handleKeyDown);},[isOpen,onClose,noteData]);// Helper function to insert formatting (using imported utility)\nconst insertFormattingHandler=function(before){let after=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';let placeholder=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'text';const textarea=document.getElementById('content-textarea');const result=insertFormatting(textarea,noteData.content,before,after,placeholder);setNoteData(_objectSpread(_objectSpread({},noteData),{},{content:result.newContent}));// Restore cursor position\nsetTimeout(()=>{textarea.focus();textarea.setSelectionRange(result.newCursorPosition,result.newCursorPosition);},0);};// Keyboard shortcuts for formatting (using imported utility)\nconst handleKeyDown=e=>{if((e.ctrlKey||e.metaKey)&&e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSubmit(e);return;}const textarea=document.getElementById('content-textarea');handleFormattingKeyDown(e,textarea,noteData.content,newContent=>{setNoteData(_objectSpread(_objectSpread({},noteData),{},{content:newContent}));});};const handleSubmit=async e=>{e.preventDefault();try{console.log('Submitting note data:',noteData);await onSave(noteData);onClose();// Close modal \n}catch(error){console.error('Failed to save note:',error);showNotification('Failed to save note. Please try again.','error');}};// delete handler\nconst handleDelete=async()=>{try{await onDelete(existingNote.id);showNotification(\"\\\"\".concat(existingNote.title,\"\\\" deleted successfully!\"),'success');onClose();}catch(error){console.error('Failed to delete note:',error);showNotification('Failed to delete note. Please try again.','error');}};return/*#__PURE__*/_jsx(AnimatePresence,{children:isOpen&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-black z-[9999] flex flex-col p-2\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},exit:{y:-50,opacity:0},className:\"w-full h-full overflow-hidden relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] relative rounded-lg h-full flex flex-col\",style:{backgroundColor:'rgba(0, 0, 0, 0.8)',borderColor:noteColor,boxShadow:\"0 0 20px rgba(\".concat(noteRgb,\", 0.6), 8px 8px 0px 0px rgba(0,0,0,1)\")},children:[/*#__PURE__*/_jsxs(motion.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:\"border-b-2 border-white p-4 flex items-center justify-between flex-shrink-0 bg-black bg-opacity-60\",style:{borderColor:noteColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"bg-black border-2 border-white p-2 font-mono font-bold text-white hover:scale-105 transition-transform\",title:\"Back to Library (ESC)\",children:/*#__PURE__*/_jsx(ArrowLeft,{size:20,className:\"text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 border-2 border-white rounded\",style:{backgroundColor:noteColor,boxShadow:\"0 0 10px rgba(\".concat(noteRgb,\", 0.6)\")},children:/*#__PURE__*/_jsx(FileText,{size:24,className:\"text-black\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"font-mono text-2xl font-bold text-white\",children:modalTitle})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs font-mono text-gray-400 hidden sm:flex gap-4\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"ESC: Back\"}),/*#__PURE__*/_jsx(\"span\",{children:\"CTRL+ENTER: Save\"})]}),isEditing&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowDeleteConfirm(true),className:\"bg-black border-2 border-red-500 px-4 py-2 font-mono font-bold text-red-400 hover:scale-105 transition-transform flex items-center gap-2\",title:\"Delete Log Entry\",children:[/*#__PURE__*/_jsx(Trash2,{size:16,className:\"text-red-400\"}),/*#__PURE__*/_jsx(\"span\",{children:\"DELETE\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",form:\"note-form\",className:\"bg-black border-2 border-white px-6 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center gap-2\",children:[isEditing?/*#__PURE__*/_jsx(Save,{size:18,className:\"text-white\"}):/*#__PURE__*/_jsx(Plus,{size:18,className:\"text-white\"}),/*#__PURE__*/_jsx(\"span\",{children:isEditing?'SAVE CHANGES':'CREATE ENTRY'})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-hidden flex flex-col p-6\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"note-form\",onSubmit:handleSubmit,className:\"h-full flex flex-col space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0\",children:[/*#__PURE__*/_jsx(\"input\",{value:noteData.title,onChange:e=>setNoteData(_objectSpread(_objectSpread({},noteData),{},{title:e.target.value})),placeholder:\"Enter your log title...\",className:\"w-full text-3xl font-mono font-bold bg-transparent border-none outline-none text-white placeholder-gray-500 p-0\",required:true,autoFocus:true}),/*#__PURE__*/_jsx(\"div\",{className:\"h-1 mt-2 rounded\",style:{backgroundColor:noteColor}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 grid grid-cols-1 lg:grid-cols-6 gap-4 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-5 flex flex-col overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] relative flex-1 flex flex-col overflow-hidden rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.6)',borderColor:noteColor,boxShadow:\"0 0 15px rgba(\".concat(noteRgb,\", 0.4), 4px 4px 0px 0px rgba(0,0,0,1)\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-3 border-b-2 border-white relative z-10 flex-shrink-0\",style:{borderColor:noteColor},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FileText,{size:18,style:{color:noteColor}}),/*#__PURE__*/_jsx(\"span\",{className:\"font-mono text-sm font-bold text-white\",children:\"LOG CONTENT\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormattingHandler('**','**','bold text'),className:\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\",title:\"Bold (Ctrl+B)\",children:/*#__PURE__*/_jsx(Bold,{size:14,className:\"text-white\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormattingHandler('*','*','italic text'),className:\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\",title:\"Italic (Ctrl+I)\",children:/*#__PURE__*/_jsx(Italic,{size:14,className:\"text-white\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormattingHandler('<u>','</u>','underlined text'),className:\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\",title:\"Underline (Ctrl+U)\",children:/*#__PURE__*/_jsx(Underline,{size:14,className:\"text-white\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormattingHandler('==','==','highlighted text'),className:\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\",title:\"Highlight\",children:/*#__PURE__*/_jsx(Highlighter,{size:14,className:\"text-white\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-5 bg-white\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormattingHandler('- ','',''),className:\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\",title:\"Bullet List\",children:/*#__PURE__*/_jsx(List,{size:14,className:\"text-white\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormattingHandler('1. ','',''),className:\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\",title:\"Numbered List\",children:/*#__PURE__*/_jsx(ListOrdered,{size:14,className:\"text-white\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormattingHandler('> ','',''),className:\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\",title:\"Quote\",children:/*#__PURE__*/_jsx(Quote,{size:14,className:\"text-white\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>insertFormattingHandler('`','`','code'),className:\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\",title:\"Inline Code (Ctrl+`)\",children:/*#__PURE__*/_jsx(Code,{size:14,className:\"text-white\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-5 bg-white\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setShowPreview(!showPreview),className:\"p-1.5 bg-black border-2 border-white transition-transform hover:scale-105 rounded \".concat(showPreview?'text-white':'text-white'),title:\"Toggle Preview\",children:showPreview?/*#__PURE__*/_jsx(EyeOff,{size:14,className:\"text-white\"}):/*#__PURE__*/_jsx(Eye,{size:14,className:\"text-white\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex relative z-10 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(showPreview?'w-1/2':'w-full',\" flex flex-col\"),children:/*#__PURE__*/_jsx(\"textarea\",{id:\"content-textarea\",value:noteData.content,onChange:e=>setNoteData(_objectSpread(_objectSpread({},noteData),{},{content:e.target.value})),onKeyDown:handleKeyDown,placeholder:\"Start writing your log entry... **Bold text** or *italic text*\\n- Bullet points\\n1. Numbered lists\\n> Quoted text\\n`inline code`\\n==highlighted text== Use the toolbar above or keyboard shortcuts:\\n- Ctrl/Cmd + B: Bold\\n- Ctrl/Cmd + I: Italic  \\n- Ctrl/Cmd + U: Underline\\n- Ctrl/Cmd + `: Code\",className:\"w-full flex-1 bg-transparent border-none outline-none text-white placeholder-gray-400 font-mono text-base resize-none leading-relaxed overflow-y-auto p-4\",style:{color:'#ffffff !important',WebkitTextFillColor:'#ffffff',textFillColor:'#ffffff'},required:true})}),showPreview&&/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 overflow-y-auto p-4 border-l-2 border-white\",style:{backgroundColor:'rgba(0, 0, 0, 0.8)',borderColor:noteColor},children:/*#__PURE__*/_jsx(\"div\",{className:\"font-mono text-white leading-relaxed text-base\",children:/*#__PURE__*/_jsx(MarkdownPreview,{content:noteData.content||'*Start typing to see preview...*'})})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-white p-3 rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.6)',borderColor:noteColor,boxShadow:\"0 0 10px rgba(\".concat(noteRgb,\", 0.3)\")},children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-xs font-mono font-bold text-white mb-2\",children:[/*#__PURE__*/_jsx(Tag,{size:12,className:\"inline mr-1\",style:{color:noteColor}}),\"TAGS\"]}),/*#__PURE__*/_jsx(\"input\",{value:noteData.tags,onChange:e=>setNoteData(_objectSpread(_objectSpread({},noteData),{},{tags:e.target.value})),placeholder:\"work, ideas...\",className:\"w-full px-2 py-1 bg-black border border-white text-white font-mono text-xs focus:border-white focus:outline-none transition-colors rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-white p-3 rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.6)',borderColor:noteColor,boxShadow:\"0 0 10px rgba(\".concat(noteRgb,\", 0.3)\")},children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-xs font-mono font-bold text-white mb-2\",children:[/*#__PURE__*/_jsx(Palette,{size:12,className:\"inline mr-1\",style:{color:noteColor}}),\"COLOR\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-4 border border-white rounded\",style:{backgroundColor:noteData.color},title:\"Current color\"}),/*#__PURE__*/_jsx(\"input\",{type:\"color\",value:noteData.color,onChange:e=>setNoteData(_objectSpread(_objectSpread({},noteData),{},{color:e.target.value})),className:\"w-6 h-4 border border-white bg-transparent cursor-pointer rounded\",title:\"Custom color picker\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-mono text-gray-400\",children:\"Custom\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 gap-1\",children:colors.map(color=>{const hexToRgb=hex=>{const result=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);return result?\"\".concat(parseInt(result[1],16),\", \").concat(parseInt(result[2],16),\", \").concat(parseInt(result[3],16)):'74, 222, 128';};const rgbColor=hexToRgb(color);return/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setNoteData(_objectSpread(_objectSpread({},noteData),{},{color})),className:\"w-full h-6 border-2 transition-all duration-300 relative \".concat(noteData.color===color?'border-white scale-105':'border-gray-600 hover:border-gray-400'),style:{backgroundColor:color,boxShadow:noteData.color===color?\"0 0 15px rgba(\".concat(rgbColor,\", 0.6), 2px 2px 0px 0px rgba(0,0,0,1)\"):\"0 0 5px rgba(\".concat(rgbColor,\", 0.3), 1px 1px 0px 0px rgba(0,0,0,1)\")},title:color,children:noteData.color===color&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 border-2 border-white opacity-60\"})},color);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-white p-3 rounded\",style:{backgroundColor:'rgba(0, 0, 0, 0.7)',borderColor:noteColor,boxShadow:\"0 0 10px rgba(\".concat(noteRgb,\", 0.3)\")},children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-xs font-mono font-bold text-white mb-2\",children:[/*#__PURE__*/_jsx(Folder,{size:12,className:\"inline mr-1\",style:{color:noteColor}}),\"ARCHIVE\"]}),/*#__PURE__*/_jsxs(\"select\",{value:noteData.folderId||'',onChange:e=>setNoteData(_objectSpread(_objectSpread({},noteData),{},{folderId:e.target.value?parseInt(e.target.value):null})),className:\"w-full px-3 py-2 bg-black border-2 border-white text-white font-mono text-xs focus:outline-none transition-colors rounded\",style:{borderColor:noteColor,boxShadow:\"0 0 10px rgba(\".concat(noteRgb,\", 0.3)\"),color:'#ffffff',WebkitTextFillColor:'#ffffff',textFillColor:'#ffffff'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"None\"}),folders.map(folder=>/*#__PURE__*/_jsx(\"option\",{value:folder.id,children:folder.name},folder.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 border-white p-3 rounded\",style:{backgroundColor:'rgba(0, 0, 0, 0.7)',borderColor:noteColor,boxShadow:\"0 0 10px rgba(\".concat(noteRgb,\", 0.3)\")},children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-xs font-mono font-bold text-white mb-2\",children:[/*#__PURE__*/_jsx(BookOpen,{size:12,className:\"inline mr-1\",style:{color:noteColor}}),\"COLLECTION\"]}),/*#__PURE__*/_jsxs(\"select\",{value:noteData.notebookId||'',onChange:e=>setNoteData(_objectSpread(_objectSpread({},noteData),{},{notebookId:e.target.value?parseInt(e.target.value):null})),className:\"w-full px-3 py-2 bg-black border-2 border-white text-white font-mono text-xs focus:outline-none transition-colors rounded\",style:{borderColor:noteColor,boxShadow:\"0 0 10px rgba(\".concat(noteRgb,\", 0.3)\"),color:'#ffffff',WebkitTextFillColor:'#ffffff',textFillColor:'#ffffff'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"None\"}),notebooks.map(notebook=>/*#__PURE__*/_jsx(\"option\",{value:notebook.id,children:notebook.name},notebook.id))]})]}),isEditing&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.3},className:\"border-2 border-white p-3 rounded\",style:{backgroundColor:'rgba(0, 0, 0, 0.7)',borderColor:noteColor,boxShadow:\"0 0 10px rgba(\".concat(noteRgb,\", 0.3)\")},children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-1 mb-2\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"font-mono text-xs font-bold text-white\",children:\"EXPORT\"})}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:async()=>{try{const response=await fetch(\"/api/notes/\".concat(existingNote.id,\"/export\"));if(response.ok){const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"\".concat(existingNote.title.replace(/[^a-zA-Z0-9\\s]/g,'').replace(/\\s+/g,'_'),\".md\");document.body.appendChild(a);a.click();window.URL.revokeObjectURL(url);document.body.removeChild(a);showNotification(\"\\\"\".concat(existingNote.title,\"\\\" exported successfully!\"),'success');}}catch(error){showNotification('Export failed. Please try again.','error');}},className:\"w-full bg-black border-2 border-white px-3 py-2 relative group cursor-pointer transition-all duration-300 hover:scale-105 font-mono font-bold text-white text-xs rounded\",style:{borderColor:noteColor,boxShadow:\"0 0 10px rgba(\".concat(noteRgb,\", 0.3), 2px 2px 0px 0px rgba(0,0,0,1)\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center gap-1\",children:[/*#__PURE__*/_jsx(FileDown,{size:12,className:\"text-white\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"EXPORT\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-10 transition-opacity\"})]})]})]})})]})]})})]}),showDeleteConfirm&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},className:\"bg-gray-800 border-2 border-red-500 p-6 max-w-md mx-4\",style:{boxShadow:'0 0 20px rgba(239, 68, 68, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Trash2,{size:48,className:\"text-red-500 mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-mono text-xl font-bold text-white mb-2\",children:\"DELETE LOG ENTRY\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-300 font-mono mb-4\",children:[\"Are you sure you want to permanently delete\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-cyan-400 font-bold\",children:[\"\\\"\",existingNote===null||existingNote===void 0?void 0:existingNote.title,\"\\\"\"]}),\"?\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-400 text-sm font-mono mb-6\",children:\"This action cannot be undone.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3 justify-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowDeleteConfirm(false),className:\"bg-gray-900 border-2 border-gray-600 px-4 py-2 font-mono font-bold text-gray-300 hover:border-gray-500 transition-colors\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-300\",children:\"CANCEL\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"bg-gray-900 border-2 border-red-500 px-4 py-2 font-mono font-bold text-red-500 hover:border-red-400 transition-colors\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500\",children:\"DELETE\"})})]})]})}),\"              \"]})]})})});};export default NoteModal;","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","X","FileText","Tag","Folder","BookOpen","Palette","Save","Plus","ArrowLeft","Download","FileDown","Archive","Bold","Italic","Underline","List","ListOrdered","Quote","Code","Highlighter","Eye","EyeOff","Trash2","useNotification","insertFormatting","handleFormattingKeyDown","MarkdownPreview","jsx","_jsx","jsxs","_jsxs","NoteModal","_ref","isOpen","onClose","onSave","onDelete","folders","notebooks","existingNote","defaultFolderId","defaultNotebookId","title","customTitle","noteData","setNoteData","content","tags","color","folderId","notebookId","showPreview","setShowPreview","showDeleteConfirm","setShowDeleteConfirm","showNotification","isEditing","modalTitle","noteColor","noteRgb","startsWith","concat","parseInt","slice","colors","Array","isArray","join","handleKeyDown","e","key","preventDefault","ctrlKey","metaKey","handleSubmit","document","addEventListener","removeEventListener","insertFormattingHandler","before","after","arguments","length","undefined","placeholder","textarea","getElementById","result","_objectSpread","newContent","setTimeout","focus","setSelectionRange","newCursorPosition","shiftKey","console","log","error","handleDelete","id","children","div","initial","opacity","animate","exit","className","y","style","backgroundColor","borderColor","boxShadow","onClick","size","type","form","onSubmit","value","onChange","target","required","autoFocus","onKeyDown","WebkitTextFillColor","textFillColor","map","hexToRgb","hex","exec","rgbColor","folder","name","notebook","transition","delay","response","fetch","ok","blob","url","window","URL","createObjectURL","a","createElement","href","download","replace","body","appendChild","click","revokeObjectURL","removeChild","scale"],"sources":["/Users/jenn/Projects/Pixel-Pages/frontend/src/components/notes/NoteModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, FileText, Tag, Folder, BookOpen, Palette, Save, Plus, ArrowLeft, Download, FileDown, Archive, Bold, Italic, Underline, List, ListOrdered, Quote, Code, Highlighter, Eye, EyeOff, Trash2 } from 'lucide-react';\nimport { useNotification } from '../../contexts/NotificationContext';\nimport { insertFormatting, handleFormattingKeyDown } from '../../utils/markdownUtils';\nimport MarkdownPreview from '../markdown/MarkdownPreview';\n\nconst NoteModal = ({ \n  isOpen, \n  onClose, \n  onSave, \n  onDelete, \n  folders, \n  notebooks, \n  existingNote = null,\n  defaultFolderId = null,\n  defaultNotebookId = null,\n  title: customTitle = null\n}) => {\n  const [noteData, setNoteData] = useState({\n    title: '',\n    content: '',\n    tags: '',\n    color: '#4ADE80',\n    folderId: null,\n    notebookId: null\n  });\n\n  const [showPreview, setShowPreview] = useState(false);\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false); \n  const { showNotification } = useNotification();\n\n  const isEditing = existingNote !== null;\n  const modalTitle = customTitle || (isEditing ? 'MODIFY LOG ENTRY' : 'CREATE NEW LOG ENTRY');\n\n  // Calculate RGB values for dynamic theming\n  const noteColor = noteData.color || '#4ADE80';\n  const noteRgb = noteColor.startsWith('#') \n    ? `${parseInt(noteColor.slice(1, 3), 16)}, ${parseInt(noteColor.slice(3, 5), 16)}, ${parseInt(noteColor.slice(5, 7), 16)}`\n    : '74, 222, 128';\n\n  const colors = [\n    '#4ADE80', '#60A5FA', '#F472B6', '#FBBF24',\n    '#A78BFA', '#FB7185', '#34D399', '#FCD34D'\n  ];\n\n  // Load existing note data when editing\n  useEffect(() => {\n    if (existingNote) {\n      setNoteData({\n        title: existingNote.title || '',\n        content: existingNote.content || '',\n        tags: Array.isArray(existingNote.tags) ? existingNote.tags.join(', ') : (existingNote.tags || ''),\n        color: existingNote.color || '#4ADE80',\n        folderId: existingNote.folderId || null,\n        notebookId: existingNote.notebookId || null\n      });\n    } else {\n      setNoteData({\n        title: '',\n        content: '',\n        tags: '',\n        color: '#4ADE80',\n        folderId: defaultFolderId,\n        notebookId: defaultNotebookId,\n      });\n    }\n  }, [existingNote, isOpen, defaultFolderId, defaultNotebookId]);\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleKeyDown = (e) => {\n      // Escape to close\n      if (e.key === 'Escape') {\n        e.preventDefault();\n        onClose();\n      }\n      // Ctrl/Cmd + Enter to save\n      if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {\n        e.preventDefault();\n        handleSubmit(e);\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isOpen, onClose, noteData]);\n\n  // Helper function to insert formatting (using imported utility)\n  const insertFormattingHandler = (before, after = '', placeholder = 'text') => {\n    const textarea = document.getElementById('content-textarea');\n    const result = insertFormatting(textarea, noteData.content, before, after, placeholder);\n    \n    setNoteData({ ...noteData, content: result.newContent });\n    \n    // Restore cursor position\n    setTimeout(() => {\n      textarea.focus();\n      textarea.setSelectionRange(result.newCursorPosition, result.newCursorPosition);\n    }, 0);\n  };\n\n  // Keyboard shortcuts for formatting (using imported utility)\n  const handleKeyDown = (e) => {\n    if ((e.ctrlKey || e.metaKey) && e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n      return;\n    }\n    \n    const textarea = document.getElementById('content-textarea');\n    handleFormattingKeyDown(e, textarea, noteData.content, (newContent) => {\n      setNoteData({ ...noteData, content: newContent });\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      console.log('Submitting note data:', noteData);\n      await onSave(noteData);\n      onClose(); // Close modal \n    } catch (error) {\n      console.error('Failed to save note:', error);\n      showNotification('Failed to save note. Please try again.', 'error');\n    }\n  };\n\n  // delete handler\n  const handleDelete = async () => {\n    try {\n      await onDelete(existingNote.id);\n      showNotification(`\"${existingNote.title}\" deleted successfully!`, 'success');\n      onClose();\n    } catch (error) {\n      console.error('Failed to delete note:', error);\n      showNotification('Failed to delete note. Please try again.', 'error');\n    }\n  };\n\n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          className=\"fixed inset-0 bg-black z-[9999] flex flex-col p-2\"\n        >\n          <motion.div\n            initial={{ y: -50, opacity: 0 }}\n            animate={{ y: 0, opacity: 1 }}\n            exit={{ y: -50, opacity: 0 }}\n            className=\"w-full h-full overflow-hidden relative\"\n          >\n            {/* Main Container */}\n            <div \n              className=\"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] relative rounded-lg h-full flex flex-col\"\n              style={{\n                backgroundColor: 'rgba(0, 0, 0, 0.8)',\n                borderColor: noteColor,\n                boxShadow: `0 0 20px rgba(${noteRgb}, 0.6), 8px 8px 0px 0px rgba(0,0,0,1)`\n              }}\n            >\n              {/* Header Bar */}\n              <motion.div \n                initial={{ y: -50, opacity: 0 }}\n                animate={{ y: 0, opacity: 1 }}\n                className=\"border-b-2 border-white p-4 flex items-center justify-between flex-shrink-0 bg-black bg-opacity-60\"\n                style={{\n                  borderColor: noteColor\n                }}\n              >\n            <div className=\"flex items-center gap-4\">\n              {/* Back button */}\n              <button\n                onClick={onClose}\n                className=\"bg-black border-2 border-white p-2 font-mono font-bold text-white hover:scale-105 transition-transform\"\n                title=\"Back to Library (ESC)\"\n              >\n                <ArrowLeft size={20} className=\"text-white\" />\n              </button>\n              \n                <div className=\"flex items-center gap-3\">\n                  <div \n                    className=\"p-2 border-2 border-white rounded\"\n                    style={{\n                      backgroundColor: noteColor,\n                      boxShadow: `0 0 10px rgba(${noteRgb}, 0.6)`\n                    }}\n                  >\n                    <FileText size={24} className=\"text-black\" />\n                  </div>\n                  <h1 className=\"font-mono text-2xl font-bold text-white\">\n                    {modalTitle}\n                  </h1>\n                </div>\n            </div>\n\n            <div className=\"flex items-center gap-3\">\n              <div className=\"text-xs font-mono text-gray-400 hidden sm:flex gap-4\">\n                <span>ESC: Back</span>\n                <span>CTRL+ENTER: Save</span>\n              </div>\n              \n              {/* delete button for editing mode */}\n              {isEditing && (\n                <button\n                  onClick={() => setShowDeleteConfirm(true)}\n                  className=\"bg-black border-2 border-red-500 px-4 py-2 font-mono font-bold text-red-400 hover:scale-105 transition-transform flex items-center gap-2\"\n                  title=\"Delete Log Entry\"\n                >\n                  <Trash2 size={16} className=\"text-red-400\" />\n                  <span>DELETE</span>\n                </button>\n              )}\n              \n              {/* Save/Create button */}\n              <button\n                type=\"submit\"\n                form=\"note-form\"\n                className=\"bg-black border-2 border-white px-6 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center gap-2\"\n              >\n                {isEditing ? <Save size={18} className=\"text-white\" /> : <Plus size={18} className=\"text-white\" />}\n                <span>{isEditing ? 'SAVE CHANGES' : 'CREATE ENTRY'}</span>\n              </button>\n            </div>\n          </motion.div>\n\n              {/* Main Content Area */}\n              <div className=\"flex-1 overflow-hidden flex flex-col p-6\">\n                <form id=\"note-form\" onSubmit={handleSubmit} className=\"h-full flex flex-col space-y-4\">\n                  {/* Title Input */}\n                  <div className=\"flex-shrink-0\">\n                    <input\n                      value={noteData.title}\n                      onChange={(e) => setNoteData({ ...noteData, title: e.target.value })}\n                      placeholder=\"Enter your log title...\"\n                      className=\"w-full text-3xl font-mono font-bold bg-transparent border-none outline-none text-white placeholder-gray-500 p-0\"\n                      required\n                      autoFocus\n                    />\n                    <div \n                      className=\"h-1 mt-2 rounded\"\n                      style={{ backgroundColor: noteColor }}\n                    />\n                  </div>\n\n                  {/* Main Content Layout */}\n                  <div className=\"flex-1 grid grid-cols-1 lg:grid-cols-6 gap-4 overflow-hidden\">\n                    {/* Content Area - Takes up 5/6 of space */}\n                    <div className=\"lg:col-span-5 flex flex-col overflow-hidden\">\n                      <div \n                        className=\"border-2 border-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] relative flex-1 flex flex-col overflow-hidden rounded-lg\"\n                        style={{\n                          backgroundColor: 'rgba(0, 0, 0, 0.6)',\n                          borderColor: noteColor,\n                          boxShadow: `0 0 15px rgba(${noteRgb}, 0.4), 4px 4px 0px 0px rgba(0,0,0,1)`\n                        }}\n                      >\n                      \n                        {/* Header with formatting toolbar */}\n                        <div \n                          className=\"flex items-center justify-between p-3 border-b-2 border-white relative z-10 flex-shrink-0\"\n                          style={{ borderColor: noteColor }}\n                        >\n                          <div className=\"flex items-center gap-2\">\n                            <FileText size={18} style={{ color: noteColor }} />\n                            <span className=\"font-mono text-sm font-bold text-white\">LOG CONTENT</span>\n                          </div>\n                        \n                        {/* Formatting Toolbar */}\n                        <div className=\"flex items-center gap-1\">\n                          <button\n                            type=\"button\"\n                            onClick={() => insertFormattingHandler('**', '**', 'bold text')}\n                            className=\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\"\n                            title=\"Bold (Ctrl+B)\"\n                          >\n                            <Bold size={14} className=\"text-white\" />\n                          </button>\n                          \n                          <button\n                            type=\"button\"\n                            onClick={() => insertFormattingHandler('*', '*', 'italic text')}\n                            className=\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\"\n                            title=\"Italic (Ctrl+I)\"\n                          >\n                            <Italic size={14} className=\"text-white\" />\n                          </button>\n                          \n                          <button\n                            type=\"button\"\n                            onClick={() => insertFormattingHandler('<u>', '</u>', 'underlined text')}\n                            className=\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\"\n                            title=\"Underline (Ctrl+U)\"\n                          >\n                            <Underline size={14} className=\"text-white\" />\n                          </button>\n                          \n                          <button\n                            type=\"button\"\n                            onClick={() => insertFormattingHandler('==', '==', 'highlighted text')}\n                            className=\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\"\n                            title=\"Highlight\"\n                          >\n                            <Highlighter size={14} className=\"text-white\" />\n                          </button>\n                          \n                          <div className=\"w-px h-5 bg-white\" />\n                          \n                          <button\n                            type=\"button\"\n                            onClick={() => insertFormattingHandler('- ', '', '')}\n                            className=\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\"\n                            title=\"Bullet List\"\n                          >\n                            <List size={14} className=\"text-white\" />\n                          </button>\n                          \n                          <button\n                            type=\"button\"\n                            onClick={() => insertFormattingHandler('1. ', '', '')}\n                            className=\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\"\n                            title=\"Numbered List\"\n                          >\n                            <ListOrdered size={14} className=\"text-white\" />\n                          </button>\n                          \n                          <button\n                            type=\"button\"\n                            onClick={() => insertFormattingHandler('> ', '', '')}\n                            className=\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\"\n                            title=\"Quote\"\n                          >\n                            <Quote size={14} className=\"text-white\" />\n                          </button>\n                          \n                          <button\n                            type=\"button\"\n                            onClick={() => insertFormattingHandler('`', '`', 'code')}\n                            className=\"p-1.5 bg-black border-2 border-white text-white hover:scale-105 transition-transform rounded\"\n                            title=\"Inline Code (Ctrl+`)\"\n                          >\n                            <Code size={14} className=\"text-white\" />\n                          </button>\n                          \n                          <div className=\"w-px h-5 bg-white\" />\n                          \n                          <button\n                            type=\"button\"\n                            onClick={() => setShowPreview(!showPreview)}\n                            className={`p-1.5 bg-black border-2 border-white transition-transform hover:scale-105 rounded ${\n                              showPreview \n                                ? 'text-white' \n                                : 'text-white'\n                            }`}\n                            title=\"Toggle Preview\"\n                          >\n                            {showPreview ? <EyeOff size={14} className=\"text-white\" /> : <Eye size={14} className=\"text-white\" />}\n                          </button>\n                        </div>\n                      </div>\n                      \n                      {/* Content Area */}\n                      <div className=\"flex-1 flex relative z-10 overflow-hidden\">\n                        {/* Editor Side */}\n                        <div className={`${showPreview ? 'w-1/2' : 'w-full'} flex flex-col`}>\n                          <textarea\n                            id=\"content-textarea\"\n                            value={noteData.content}\n                            onChange={(e) => setNoteData({ ...noteData, content: e.target.value })}\n                            onKeyDown={handleKeyDown}\n                            placeholder=\"Start writing your log entry...\n\n**Bold text** or *italic text*\n- Bullet points\n1. Numbered lists\n> Quoted text\n`inline code`\n==highlighted text==\n\nUse the toolbar above or keyboard shortcuts:\n- Ctrl/Cmd + B: Bold\n- Ctrl/Cmd + I: Italic  \n- Ctrl/Cmd + U: Underline\n- Ctrl/Cmd + `: Code\"\n                            className=\"w-full flex-1 bg-transparent border-none outline-none text-white placeholder-gray-400 font-mono text-base resize-none leading-relaxed overflow-y-auto p-4\"\n                            style={{ \n                              color: '#ffffff !important',\n                              WebkitTextFillColor: '#ffffff',\n                              textFillColor: '#ffffff'\n                            }}\n                            required\n                          />\n                        </div>\n                        \n                        {/* Preview Side */}\n                        {showPreview && (\n                          <div \n                            className=\"w-1/2 overflow-y-auto p-4 border-l-2 border-white\"\n                            style={{\n                              backgroundColor: 'rgba(0, 0, 0, 0.8)',\n                              borderColor: noteColor\n                            }}\n                          >\n                            <div className=\"font-mono text-white leading-relaxed text-base\">\n                              <MarkdownPreview content={noteData.content || '*Start typing to see preview...*'} />\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Sidebar - Takes up 1/6 of space, much smaller and compact */}\n                  <div className=\"lg:col-span-1 overflow-y-auto\">\n                    <div className=\"space-y-2\">\n                      {/* Tags */}\n                      <div \n                        className=\"border-2 border-white p-3 rounded-lg\"\n                        style={{\n                          backgroundColor: 'rgba(0, 0, 0, 0.6)',\n                          borderColor: noteColor,\n                          boxShadow: `0 0 10px rgba(${noteRgb}, 0.3)`\n                        }}\n                      >\n                        <label className=\"block text-xs font-mono font-bold text-white mb-2\">\n                          <Tag size={12} className=\"inline mr-1\" style={{ color: noteColor }} />\n                          TAGS\n                        </label>\n                        <input\n                          value={noteData.tags}\n                          onChange={(e) => setNoteData({ ...noteData, tags: e.target.value })}\n                          placeholder=\"work, ideas...\"\n                          className=\"w-full px-2 py-1 bg-black border border-white text-white font-mono text-xs focus:border-white focus:outline-none transition-colors rounded\"\n                        />\n                      </div>\n\n                      {/* Color Picker */}\n                      <div \n                        className=\"border-2 border-white p-3 rounded-lg\"\n                        style={{\n                          backgroundColor: 'rgba(0, 0, 0, 0.6)',\n                          borderColor: noteColor,\n                          boxShadow: `0 0 10px rgba(${noteRgb}, 0.3)`\n                        }}\n                      >\n                        <label className=\"block text-xs font-mono font-bold text-white mb-2\">\n                          <Palette size={12} className=\"inline mr-1\" style={{ color: noteColor }} />\n                          COLOR\n                        </label>\n                        \n                        {/* Current Color Display */}\n                        <div className=\"flex items-center gap-2 mb-2\">\n                          <div \n                            className=\"w-6 h-4 border border-white rounded\"\n                            style={{ backgroundColor: noteData.color }}\n                            title=\"Current color\"\n                          />\n                          <input\n                            type=\"color\"\n                            value={noteData.color}\n                            onChange={(e) => setNoteData({ ...noteData, color: e.target.value })}\n                            className=\"w-6 h-4 border border-white bg-transparent cursor-pointer rounded\"\n                            title=\"Custom color picker\"\n                          />\n                          <span className=\"text-xs font-mono text-gray-400\">Custom</span>\n                        </div>\n\n                        {/* Preset Colors Grid */}\n                        <div className=\"grid grid-cols-2 gap-1\">\n                          {colors.map(color => {\n                            const hexToRgb = (hex) => {\n                              const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n                              return result ? \n                                `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` :\n                                '74, 222, 128';\n                            };\n                            \n                            const rgbColor = hexToRgb(color);\n                            \n                            return (\n                              <button\n                                key={color}\n                                type=\"button\"\n                                onClick={() => setNoteData({ ...noteData, color })}\n                                className={`w-full h-6 border-2 transition-all duration-300 relative ${\n                                  noteData.color === color \n                                    ? 'border-white scale-105' \n                                    : 'border-gray-600 hover:border-gray-400'\n                                }`}\n                                style={{ \n                                  backgroundColor: color,\n                                  boxShadow: noteData.color === color \n                                    ? `0 0 15px rgba(${rgbColor}, 0.6), 2px 2px 0px 0px rgba(0,0,0,1)`\n                                    : `0 0 5px rgba(${rgbColor}, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)`\n                                }}\n                                title={color}\n                              >\n                                {noteData.color === color && (\n                                  <div className=\"absolute inset-0 border-2 border-white opacity-60\" />\n                                )}\n                              </button>\n                            );\n                          })}\n                        </div>\n                      </div>\n\n                      {/* Archive Assignment */}\n                      <div \n                        className=\"border-2 border-white p-3 rounded\"\n                        style={{\n                          backgroundColor: 'rgba(0, 0, 0, 0.7)',\n                          borderColor: noteColor,\n                          boxShadow: `0 0 10px rgba(${noteRgb}, 0.3)`\n                        }}\n                      >\n                        <label className=\"block text-xs font-mono font-bold text-white mb-2\">\n                          <Folder size={12} className=\"inline mr-1\" style={{ color: noteColor }} />\n                          ARCHIVE\n                        </label>\n                        <select\n                          value={noteData.folderId || ''}\n                          onChange={(e) => setNoteData({ \n                            ...noteData, \n                            folderId: e.target.value ? parseInt(e.target.value) : null \n                          })}\n                          className=\"w-full px-3 py-2 bg-black border-2 border-white text-white font-mono text-xs focus:outline-none transition-colors rounded\"\n                          style={{\n                            borderColor: noteColor,\n                            boxShadow: `0 0 10px rgba(${noteRgb}, 0.3)`,\n                            color: '#ffffff',\n                            WebkitTextFillColor: '#ffffff',\n                            textFillColor: '#ffffff'\n                          }}\n                        >\n                          <option value=\"\">None</option>\n                          {folders.map(folder => (\n                            <option key={folder.id} value={folder.id}>\n                              {folder.name}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n\n                      {/* Collection Assignment */}\n                      <div \n                        className=\"border-2 border-white p-3 rounded\"\n                        style={{\n                          backgroundColor: 'rgba(0, 0, 0, 0.7)',\n                          borderColor: noteColor,\n                          boxShadow: `0 0 10px rgba(${noteRgb}, 0.3)`\n                        }}\n                      >\n                        <label className=\"block text-xs font-mono font-bold text-white mb-2\">\n                          <BookOpen size={12} className=\"inline mr-1\" style={{ color: noteColor }} />\n                          COLLECTION\n                        </label>\n                        <select\n                          value={noteData.notebookId || ''}\n                          onChange={(e) => setNoteData({ \n                            ...noteData, \n                            notebookId: e.target.value ? parseInt(e.target.value) : null \n                          })}\n                          className=\"w-full px-3 py-2 bg-black border-2 border-white text-white font-mono text-xs focus:outline-none transition-colors rounded\"\n                          style={{\n                            borderColor: noteColor,\n                            boxShadow: `0 0 10px rgba(${noteRgb}, 0.3)`,\n                            color: '#ffffff',\n                            WebkitTextFillColor: '#ffffff',\n                            textFillColor: '#ffffff'\n                          }}\n                        >\n                          <option value=\"\">None</option>\n                          {notebooks.map(notebook => (\n                            <option key={notebook.id} value={notebook.id}>\n                              {notebook.name}\n                            </option>\n                          ))}\n                        </select>\n                      </div>\n\n                      {/* Export Section - More compact */}\n                      {isEditing && (\n                        <motion.div \n                          initial={{ opacity: 0, y: 20 }}\n                          animate={{ opacity: 1, y: 0 }}\n                          transition={{ delay: 0.3 }}\n                          className=\"border-2 border-white p-3 rounded\"\n                          style={{\n                            backgroundColor: 'rgba(0, 0, 0, 0.7)',\n                            borderColor: noteColor,\n                            boxShadow: `0 0 10px rgba(${noteRgb}, 0.3)`\n                          }}\n                        >\n                          <div className=\"flex items-center gap-1 mb-2\">\n                            <h3 className=\"font-mono text-xs font-bold text-white\">EXPORT</h3>\n                          </div>\n                          \n                          <button\n                            type=\"button\"\n                            onClick={async () => {\n                              try {\n                                const response = await fetch(`/api/notes/${existingNote.id}/export`);\n                                if (response.ok) {\n                                  const blob = await response.blob();\n                                  const url = window.URL.createObjectURL(blob);\n                                  const a = document.createElement('a');\n                                  a.href = url;\n                                  a.download = `${existingNote.title.replace(/[^a-zA-Z0-9\\s]/g, '').replace(/\\s+/g, '_')}.md`;\n                                  document.body.appendChild(a);\n                                  a.click();\n                                  window.URL.revokeObjectURL(url);\n                                  document.body.removeChild(a);\n                                  showNotification(`\"${existingNote.title}\" exported successfully!`, 'success');\n                                }\n                              } catch (error) {\n                                showNotification('Export failed. Please try again.', 'error');\n                              }\n                            }}\n                            className=\"w-full bg-black border-2 border-white px-3 py-2 relative group cursor-pointer transition-all duration-300 hover:scale-105 font-mono font-bold text-white text-xs rounded\"\n                            style={{\n                              borderColor: noteColor,\n                              boxShadow: `0 0 10px rgba(${noteRgb}, 0.3), 2px 2px 0px 0px rgba(0,0,0,1)`\n                            }}\n                          >\n                            <div className=\"flex items-center justify-center gap-1\">\n                              <FileDown size={12} className=\"text-white\" />\n                              <span className=\"text-white\">EXPORT</span>\n                            </div>\n                            <div className=\"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-10 transition-opacity\" />\n                          </button>\n                        </motion.div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n            </div>\n            \n            {/* Delete Confirmation Modal */}\n          {showDeleteConfirm && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60\"\n            >\n              <motion.div\n                initial={{ scale: 0.9, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                className=\"bg-gray-800 border-2 border-red-500 p-6 max-w-md mx-4\"\n                style={{\n                  boxShadow: '0 0 20px rgba(239, 68, 68, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)'\n                }}\n              >\n                <div className=\"text-center\">\n                  <Trash2 size={48} className=\"text-red-500 mx-auto mb-4\" />\n                  <h3 className=\"font-mono text-xl font-bold text-white mb-2\">DELETE LOG ENTRY</h3>\n                  <p className=\"text-gray-300 font-mono mb-4\">\n                    Are you sure you want to permanently delete<br />\n                    <span className=\"text-cyan-400 font-bold\">\"{existingNote?.title}\"</span>?\n                  </p>\n                  <p className=\"text-red-400 text-sm font-mono mb-6\">\n                    This action cannot be undone.\n                  </p>\n                  \n                  <div className=\"flex gap-3 justify-center\">\n                    <button\n                      onClick={() => setShowDeleteConfirm(false)}\n                      className=\"bg-gray-900 border-2 border-gray-600 px-4 py-2 font-mono font-bold text-gray-300 hover:border-gray-500 transition-colors\"\n                    >\n                      <span className=\"text-gray-300\">CANCEL</span>\n                    </button>\n                    <button\n                      onClick={handleDelete}\n                      className=\"bg-gray-900 border-2 border-red-500 px-4 py-2 font-mono font-bold text-red-500 hover:border-red-400 transition-colors\"\n                    >\n                      <span className=\"text-red-500\">DELETE</span>\n                    </button>\n                  </div>\n                </div>\n              </motion.div>              </motion.div>\n            )}\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default NoteModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}