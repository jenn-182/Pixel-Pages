{"ast":null,"code":"// src/services/api.js\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080';\nclass ApiService {\n  async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    console.log('Making request to:', url); // Debug log\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers\n      },\n      ...options\n    };\n    try {\n      const response = await fetch(url, config);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const contentType = response.headers.get('content-type');\n      if (contentType && contentType.includes('application/json')) {\n        return await response.json();\n      }\n      return response;\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Note operations\n  async getAllNotes() {\n    return this.request('/api/notes');\n  }\n  async getNoteById(filename) {\n    return this.request(`/api/notes/${encodeURIComponent(filename)}`);\n  }\n  async createNote(note) {\n    const response = await this.request('/api/notes', {\n      method: 'POST',\n      body: JSON.stringify(note)\n    });\n    return response.data || response; // Extract note from gaming response\n  }\n  async updateNote(id, note) {\n    const response = await this.request(`/api/notes/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(note)\n    });\n    return response.data || response;\n  }\n  async deleteNote(id) {\n    const response = await this.request(`/api/notes/${id}`, {\n      method: 'DELETE'\n    });\n    return response.data || response;\n  }\n  async searchNotes(query) {\n    return this.request(`/api/notes/search?query=${encodeURIComponent(query)}`);\n  }\n\n  // Player operations - Fix the endpoint paths\n  async getPlayerStats() {\n    return this.request('/api/stats'); // Changed from /api/player/stats\n  }\n\n  // Achievement operations\n  async getAchievements() {\n    const response = await this.request('/api/achievements');\n    return response.data ? response : {\n      data: response\n    }; // Handle gaming response format\n  }\n  async getAchievementsByCategory(category) {\n    return this.request(`/api/achievements/category/${category}`);\n  }\n  async getAchievementsByRarity(rarity) {\n    return this.request(`/api/achievements/rarity/${rarity}`);\n  }\n}\nexport const apiService = new ApiService();","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","request","endpoint","options","url","console","log","config","headers","response","fetch","ok","Error","status","contentType","get","includes","json","error","getAllNotes","getNoteById","filename","encodeURIComponent","createNote","note","method","body","JSON","stringify","data","updateNote","id","deleteNote","searchNotes","query","getPlayerStats","getAchievements","getAchievementsByCategory","category","getAchievementsByRarity","rarity","apiService"],"sources":["/Users/jenn/Projects/Pixel-Pages/frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080';\n\nclass ApiService {\n  async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    console.log('Making request to:', url); // Debug log\n    \n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers,\n      },\n      ...options,\n    };\n\n    try {\n      const response = await fetch(url, config);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const contentType = response.headers.get('content-type');\n      if (contentType && contentType.includes('application/json')) {\n        return await response.json();\n      }\n      \n      return response;\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Note operations\n  async getAllNotes() {\n    return this.request('/api/notes');\n  }\n\n  async getNoteById(filename) {\n    return this.request(`/api/notes/${encodeURIComponent(filename)}`);\n  }\n\n  async createNote(note) {\n    const response = await this.request('/api/notes', {\n      method: 'POST',\n      body: JSON.stringify(note),\n    });\n    return response.data || response; // Extract note from gaming response\n  }\n\n  async updateNote(id, note) {\n    const response = await this.request(`/api/notes/${id}`, {\n      method: 'PUT',\n      body: JSON.stringify(note),\n    });\n    return response.data || response;\n  }\n\n  async deleteNote(id) {\n    const response = await this.request(`/api/notes/${id}`, {\n      method: 'DELETE',\n    });\n    return response.data || response;\n  }\n\n  async searchNotes(query) {\n    return this.request(`/api/notes/search?query=${encodeURIComponent(query)}`);\n  }\n\n  // Player operations - Fix the endpoint paths\n  async getPlayerStats() {\n    return this.request('/api/stats'); // Changed from /api/player/stats\n  }\n\n  // Achievement operations\n  async getAchievements() {\n    const response = await this.request('/api/achievements');\n    return response.data ? response : { data: response }; // Handle gaming response format\n  }\n\n  async getAchievementsByCategory(category) {\n    return this.request(`/api/achievements/category/${category}`);\n  }\n\n  async getAchievementsByRarity(rarity) {\n    return this.request(`/api/achievements/rarity/${rarity}`);\n  }\n}\n\nexport const apiService = new ApiService();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}