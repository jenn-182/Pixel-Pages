{"ast":null,"code":"import _objectSpread from\"/Users/jenn/Projects/Pixel-Pages/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect,useCallback}from'react';import apiService from'../services/api';export const useFocusSessions=username=>{const[sessions,setSessions]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);// Load sessions\nconst loadSessions=useCallback(async function(){let options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!username)return;setLoading(true);setError(null);try{const data=await apiService.getFocusSessions(username,options);setSessions(data);}catch(err){setError(err.message);console.error('Error loading focus sessions:',err);}finally{setLoading(false);}},[username]);// Create session\nconst createSession=async sessionData=>{setLoading(true);setError(null);try{const newSession=await apiService.createFocusSession(_objectSpread(_objectSpread({},sessionData),{},{ownerUsername:username}));// Add to local state\nsetSessions(prev=>[newSession,...prev]);return newSession;}catch(err){setError(err.message);console.error('Error creating focus session:',err);throw err;}finally{setLoading(false);}};// Update session\nconst updateSession=async(sessionId,sessionData)=>{setLoading(true);setError(null);try{const updatedSession=await apiService.updateFocusSession(sessionId,sessionData);// Update local state\nsetSessions(prev=>prev.map(session=>session.id===sessionId?updatedSession:session));return updatedSession;}catch(err){setError(err.message);console.error('Error updating focus session:',err);throw err;}finally{setLoading(false);}};// Delete (deactivate) session\nconst deleteSession=async sessionId=>{setLoading(true);setError(null);try{await apiService.deleteFocusSession(sessionId);// Update local state (mark as inactive)\nsetSessions(prev=>prev.map(session=>session.id===sessionId?_objectSpread(_objectSpread({},session),{},{isActive:false}):session));return true;}catch(err){setError(err.message);console.error('Error deleting focus session:',err);throw err;}finally{setLoading(false);}};// Get session by ID\nconst getSession=useCallback(sessionId=>{return sessions.find(session=>session.id===sessionId);},[sessions]);// Filter sessions\nconst getActiveSessions=useCallback(()=>{return sessions.filter(session=>session.isActive);},[sessions]);const getSessionsByCategory=useCallback(category=>{return sessions.filter(session=>session.category===category);},[sessions]);// Load sessions on mount\nuseEffect(()=>{if(username){loadSessions();}},[username,loadSessions]);return{sessions,loading,error,loadSessions,createSession,updateSession,deleteSession,getSession,getActiveSessions,getSessionsByCategory,refreshSessions:loadSessions};};// Add default export for backward compatibility\nexport default useFocusSessions;","map":{"version":3,"names":["useState","useEffect","useCallback","apiService","useFocusSessions","username","sessions","setSessions","loading","setLoading","error","setError","loadSessions","options","arguments","length","undefined","data","getFocusSessions","err","message","console","createSession","sessionData","newSession","createFocusSession","_objectSpread","ownerUsername","prev","updateSession","sessionId","updatedSession","updateFocusSession","map","session","id","deleteSession","deleteFocusSession","isActive","getSession","find","getActiveSessions","filter","getSessionsByCategory","category","refreshSessions"],"sources":["/Users/jenn/Projects/Pixel-Pages/frontend/src/hooks/useFocusSessions.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\nimport apiService from '../services/api';\n\nexport const useFocusSessions = (username) => {\n  const [sessions, setSessions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Load sessions\n  const loadSessions = useCallback(async (options = {}) => {\n    if (!username) return;\n    \n    setLoading(true);\n    setError(null);\n    \n    try {\n      const data = await apiService.getFocusSessions(username, options);\n      setSessions(data);\n    } catch (err) {\n      setError(err.message);\n      console.error('Error loading focus sessions:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, [username]);\n\n  // Create session\n  const createSession = async (sessionData) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const newSession = await apiService.createFocusSession({\n        ...sessionData,\n        ownerUsername: username\n      });\n      \n      // Add to local state\n      setSessions(prev => [newSession, ...prev]);\n      return newSession;\n    } catch (err) {\n      setError(err.message);\n      console.error('Error creating focus session:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Update session\n  const updateSession = async (sessionId, sessionData) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const updatedSession = await apiService.updateFocusSession(sessionId, sessionData);\n      \n      // Update local state\n      setSessions(prev => prev.map(session => \n        session.id === sessionId ? updatedSession : session\n      ));\n      \n      return updatedSession;\n    } catch (err) {\n      setError(err.message);\n      console.error('Error updating focus session:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Delete (deactivate) session\n  const deleteSession = async (sessionId) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      await apiService.deleteFocusSession(sessionId);\n      \n      // Update local state (mark as inactive)\n      setSessions(prev => prev.map(session => \n        session.id === sessionId ? { ...session, isActive: false } : session\n      ));\n      \n      return true;\n    } catch (err) {\n      setError(err.message);\n      console.error('Error deleting focus session:', err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Get session by ID\n  const getSession = useCallback((sessionId) => {\n    return sessions.find(session => session.id === sessionId);\n  }, [sessions]);\n\n  // Filter sessions\n  const getActiveSessions = useCallback(() => {\n    return sessions.filter(session => session.isActive);\n  }, [sessions]);\n\n  const getSessionsByCategory = useCallback((category) => {\n    return sessions.filter(session => session.category === category);\n  }, [sessions]);\n\n  // Load sessions on mount\n  useEffect(() => {\n    if (username) {\n      loadSessions();\n    }\n  }, [username, loadSessions]);\n\n  return {\n    sessions,\n    loading,\n    error,\n    loadSessions,\n    createSession,\n    updateSession,\n    deleteSession,\n    getSession,\n    getActiveSessions,\n    getSessionsByCategory,\n    refreshSessions: loadSessions\n  };\n};\n\n// Add default export for backward compatibility\nexport default useFocusSessions;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}