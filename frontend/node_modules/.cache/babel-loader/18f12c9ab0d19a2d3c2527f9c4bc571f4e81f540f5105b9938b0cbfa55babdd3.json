{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useNotes.js\nimport { useState, useEffect, useCallback } from 'react';\nimport { apiService } from '../services/api';\nexport const useNotes = () => {\n  _s();\n  const [notes, setNotes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchNotes = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const notesData = await apiService.getAllNotes();\n      setNotes(notesData);\n    } catch (err) {\n      setError('Failed to fetch notes');\n      console.error('Error fetching notes:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const createNote = useCallback(async noteData => {\n    try {\n      const newNote = await apiService.createNote(noteData);\n      setNotes(prevNotes => [newNote, ...prevNotes]);\n      return newNote;\n    } catch (err) {\n      setError('Failed to create note');\n      throw err;\n    }\n  }, []);\n  const updateNote = useCallback(async (filename, noteData) => {\n    try {\n      const updatedNote = await apiService.updateNote(filename, noteData);\n      setNotes(prevNotes => prevNotes.map(note => note.filename === filename ? updatedNote : note));\n      return updatedNote;\n    } catch (err) {\n      setError('Failed to update note');\n      throw err;\n    }\n  }, []);\n  const deleteNote = useCallback(async filename => {\n    try {\n      await apiService.deleteNote(filename);\n      setNotes(prevNotes => prevNotes.filter(note => note.filename !== filename));\n    } catch (err) {\n      setError('Failed to delete note');\n      throw err;\n    }\n  }, []);\n  const searchNotes = useCallback(async query => {\n    try {\n      setLoading(true);\n      const results = await apiService.searchNotes(query);\n      setNotes(results);\n    } catch (err) {\n      setError('Failed to search notes');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  useEffect(() => {\n    fetchNotes();\n  }, [fetchNotes]);\n  return {\n    notes,\n    loading,\n    error,\n    createNote,\n    updateNote,\n    deleteNote,\n    searchNotes,\n    refreshNotes: fetchNotes\n  };\n};\n_s(useNotes, \"KmB33CnzZqKGpgrbkmbZzMShUq4=\");","map":{"version":3,"names":["useState","useEffect","useCallback","apiService","useNotes","_s","notes","setNotes","loading","setLoading","error","setError","fetchNotes","notesData","getAllNotes","err","console","createNote","noteData","newNote","prevNotes","updateNote","filename","updatedNote","map","note","deleteNote","filter","searchNotes","query","results","refreshNotes"],"sources":["/Users/jenn/Projects/Pixel-Pages/frontend/src/hooks/useNotes.js"],"sourcesContent":["// src/hooks/useNotes.js\nimport { useState, useEffect, useCallback } from 'react';\nimport { apiService } from '../services/api';\n\nexport const useNotes = () => {\n  const [notes, setNotes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchNotes = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const notesData = await apiService.getAllNotes();\n      setNotes(notesData);\n    } catch (err) {\n      setError('Failed to fetch notes');\n      console.error('Error fetching notes:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const createNote = useCallback(async (noteData) => {\n    try {\n      const newNote = await apiService.createNote(noteData);\n      setNotes(prevNotes => [newNote, ...prevNotes]);\n      return newNote;\n    } catch (err) {\n      setError('Failed to create note');\n      throw err;\n    }\n  }, []);\n\n  const updateNote = useCallback(async (filename, noteData) => {\n    try {\n      const updatedNote = await apiService.updateNote(filename, noteData);\n      setNotes(prevNotes => \n        prevNotes.map(note => \n          note.filename === filename ? updatedNote : note\n        )\n      );\n      return updatedNote;\n    } catch (err) {\n      setError('Failed to update note');\n      throw err;\n    }\n  }, []);\n\n  const deleteNote = useCallback(async (filename) => {\n    try {\n      await apiService.deleteNote(filename);\n      setNotes(prevNotes => \n        prevNotes.filter(note => note.filename !== filename)\n      );\n    } catch (err) {\n      setError('Failed to delete note');\n      throw err;\n    }\n  }, []);\n\n  const searchNotes = useCallback(async (query) => {\n    try {\n      setLoading(true);\n      const results = await apiService.searchNotes(query);\n      setNotes(results);\n    } catch (err) {\n      setError('Failed to search notes');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchNotes();\n  }, [fetchNotes]);\n\n  return {\n    notes,\n    loading,\n    error,\n    createNote,\n    updateNote,\n    deleteNote,\n    searchNotes,\n    refreshNotes: fetchNotes,\n  };\n};"],"mappings":";AAAA;AACA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACxD,SAASC,UAAU,QAAQ,iBAAiB;AAE5C,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMY,UAAU,GAAGV,WAAW,CAAC,YAAY;IACzC,IAAI;MACFO,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MACd,MAAME,SAAS,GAAG,MAAMV,UAAU,CAACW,WAAW,CAAC,CAAC;MAChDP,QAAQ,CAACM,SAAS,CAAC;IACrB,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZJ,QAAQ,CAAC,uBAAuB,CAAC;MACjCK,OAAO,CAACN,KAAK,CAAC,uBAAuB,EAAEK,GAAG,CAAC;IAC7C,CAAC,SAAS;MACRN,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMQ,UAAU,GAAGf,WAAW,CAAC,MAAOgB,QAAQ,IAAK;IACjD,IAAI;MACF,MAAMC,OAAO,GAAG,MAAMhB,UAAU,CAACc,UAAU,CAACC,QAAQ,CAAC;MACrDX,QAAQ,CAACa,SAAS,IAAI,CAACD,OAAO,EAAE,GAAGC,SAAS,CAAC,CAAC;MAC9C,OAAOD,OAAO;IAChB,CAAC,CAAC,OAAOJ,GAAG,EAAE;MACZJ,QAAQ,CAAC,uBAAuB,CAAC;MACjC,MAAMI,GAAG;IACX;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMM,UAAU,GAAGnB,WAAW,CAAC,OAAOoB,QAAQ,EAAEJ,QAAQ,KAAK;IAC3D,IAAI;MACF,MAAMK,WAAW,GAAG,MAAMpB,UAAU,CAACkB,UAAU,CAACC,QAAQ,EAAEJ,QAAQ,CAAC;MACnEX,QAAQ,CAACa,SAAS,IAChBA,SAAS,CAACI,GAAG,CAACC,IAAI,IAChBA,IAAI,CAACH,QAAQ,KAAKA,QAAQ,GAAGC,WAAW,GAAGE,IAC7C,CACF,CAAC;MACD,OAAOF,WAAW;IACpB,CAAC,CAAC,OAAOR,GAAG,EAAE;MACZJ,QAAQ,CAAC,uBAAuB,CAAC;MACjC,MAAMI,GAAG;IACX;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMW,UAAU,GAAGxB,WAAW,CAAC,MAAOoB,QAAQ,IAAK;IACjD,IAAI;MACF,MAAMnB,UAAU,CAACuB,UAAU,CAACJ,QAAQ,CAAC;MACrCf,QAAQ,CAACa,SAAS,IAChBA,SAAS,CAACO,MAAM,CAACF,IAAI,IAAIA,IAAI,CAACH,QAAQ,KAAKA,QAAQ,CACrD,CAAC;IACH,CAAC,CAAC,OAAOP,GAAG,EAAE;MACZJ,QAAQ,CAAC,uBAAuB,CAAC;MACjC,MAAMI,GAAG;IACX;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMa,WAAW,GAAG1B,WAAW,CAAC,MAAO2B,KAAK,IAAK;IAC/C,IAAI;MACFpB,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMqB,OAAO,GAAG,MAAM3B,UAAU,CAACyB,WAAW,CAACC,KAAK,CAAC;MACnDtB,QAAQ,CAACuB,OAAO,CAAC;IACnB,CAAC,CAAC,OAAOf,GAAG,EAAE;MACZJ,QAAQ,CAAC,wBAAwB,CAAC;IACpC,CAAC,SAAS;MACRF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAENR,SAAS,CAAC,MAAM;IACdW,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACA,UAAU,CAAC,CAAC;EAEhB,OAAO;IACLN,KAAK;IACLE,OAAO;IACPE,KAAK;IACLO,UAAU;IACVI,UAAU;IACVK,UAAU;IACVE,WAAW;IACXG,YAAY,EAAEnB;EAChB,CAAC;AACH,CAAC;AAACP,EAAA,CAnFWD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}