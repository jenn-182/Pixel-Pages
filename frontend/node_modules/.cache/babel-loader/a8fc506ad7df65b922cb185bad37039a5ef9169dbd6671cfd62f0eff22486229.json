{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion}from'framer-motion';import{Plus,Folder,BookOpen,FileText,Search,Download,Archive,Eye,Trash2}from'lucide-react';import PixelButton from'../PixelButton';import PixelInput from'../PixelInput';import useFolders from'../../hooks/useFolders';import useNotebooks from'../../hooks/useNotebooks';import useNotes from'../../hooks/useNotes';import NoteModal from'../notes/NoteModal';import NoteViewModal from'../notes/NoteViewModal';import FolderModal from'../modals/FolderModal';import NotebookModal from'../modals/NotebookModal';import FolderView from'../views/FolderView';import NotebookView from'../views/NotebookView';import NoteListView from'../views/NoteListView';import NotebookListView from'../views/NotebookListView';import FolderListView from'../views/FolderListView';import{useNotification}from'../../contexts/NotificationContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LibraryTab=_ref=>{let{tabColor='#3B82F6',navigationParams={}}=_ref;const[searchTerm,setSearchTerm]=useState('');const[viewMode,setViewMode]=useState('grid');const[isCreateNoteModalOpen,setIsCreateNoteModalOpen]=useState(false);const[isFolderModalOpen,setIsFolderModalOpen]=useState(false);const[isNotebookModalOpen,setIsNotebookModalOpen]=useState(false);const[isNoteViewModalOpen,setIsNoteViewModalOpen]=useState(false);const[viewingNote,setViewingNote]=useState(null);const[editingFolder,setEditingFolder]=useState(null);const[editingNotebook,setEditingNotebook]=useState(null);const[editingNote,setEditingNote]=useState(null);const[currentView,setCurrentView]=useState('library');const[selectedFolder,setSelectedFolder]=useState(null);const[selectedNotebook,setSelectedNotebook]=useState(null);const[defaultFolderId,setDefaultFolderId]=useState(null);const[defaultNotebookId,setDefaultNotebookId]=useState(null);// Use the hooks\nconst{folders,loading:foldersLoading,createFolder,updateFolder,deleteFolder}=useFolders();const{notebooks,loading:notebooksLoading,createNotebook,updateNotebook,deleteNotebook}=useNotebooks();const{notes,loading:notesLoading,createNote,updateNote,deleteNote}=useNotes();const{showNotification}=useNotification();const loading=foldersLoading||notebooksLoading||notesLoading;// Convert hex to RGB for dynamic styling\nconst hexToRgb=hex=>{const result=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);return result?\"\".concat(parseInt(result[1],16),\", \").concat(parseInt(result[2],16),\", \").concat(parseInt(result[3],16)):'59, 130, 246';// fallback for #3B82F6\n};const tabColorRgb=hexToRgb(tabColor);// All handlers remain the same...\nconst handleDeleteNote=async noteId=>{if(window.confirm('Are you sure you want to delete this log entry? This action cannot be undone.')){try{await deleteNote(noteId);showNotification('Log entry deleted successfully!','success');}catch(error){console.error('Failed to delete note:',error);showNotification('Failed to delete log entry. Please try again.','error');}}};const handleDeleteNotebook=async notebookId=>{if(window.confirm('Are you sure you want to delete this collection? All associated notes will become unorganized.')){try{console.log('Deleting notebook with ID:',notebookId);await deleteNotebook(notebookId);showNotification('Collection deleted successfully!','success');}catch(error){console.error('Failed to delete notebook:',error);console.error('Error details:',error.message);showNotification('Failed to delete collection. Please try again.','error');}}};const handleDeleteFolder=async folderId=>{if(window.confirm('Are you sure you want to delete this archive? All associated notes and collections will become unorganized.')){try{await deleteFolder(folderId);showNotification('Archive deleted successfully!','success');}catch(error){console.error('Failed to delete folder:',error);showNotification('Failed to delete archive. Please try again.','error');}}};// All other handlers remain the same...\nconst handleCreateFolder=async()=>{try{const folderData={name:\"New Archive \".concat(folders.length+1),description:'A new archive for organizing your intel',colorCode:'#FFD700',parentFolderId:null};await createFolder(folderData);}catch(error){console.error('Failed to initialize archive:',error);}};const handleCreateNotebook=async()=>{try{const notebookData={name:\"New Collection \".concat(notebooks.length+1),description:'A new log collection for your intel',colorCode:'#87CEEB'};await createNotebook(notebookData);}catch(error){console.error('Failed to deploy collection:',error);}};const handleCreateNote=()=>{setIsCreateNoteModalOpen(true);};const handleEditNote=note=>{setEditingNote(note);setIsCreateNoteModalOpen(true);};const handleViewNote=note=>{setViewingNote(note);setIsNoteViewModalOpen(true);};const handleEditNoteFromView=()=>{const noteToEdit=viewingNote;setIsNoteViewModalOpen(false);setViewingNote(null);handleEditNote(noteToEdit);};const handleDeleteNoteFromView=async()=>{if(viewingNote){await handleDeleteNote(viewingNote.id);setIsNoteViewModalOpen(false);setViewingNote(null);}};const handleCreateNoteSubmit=async noteData=>{try{console.log('Archiving log entry:',{editingNote,noteData});if(editingNote){console.log('Updating log entry with ID:',editingNote.id);await updateNote(editingNote.id,noteData);console.log('Log entry updated successfully');}else{console.log('Creating new log entry');await createNote(noteData);console.log('Log entry archived successfully');}setEditingNote(null);setIsCreateNoteModalOpen(false);}catch(error){console.error('Failed to archive log entry:',error);alert('Failed to archive log entry. Please try again.');}};const handleEditFolder=folder=>{setEditingFolder(folder);setIsFolderModalOpen(true);};const handleOpenFolder=folder=>{setSelectedFolder(folder);setCurrentView('folder');};const handleOpenNotebook=notebook=>{setSelectedNotebook(notebook);setCurrentView('notebook');};const handleBackToLibrary=()=>{// Clear all states when going back\nsetCurrentView('library');setSelectedFolder(null);setSelectedNotebook(null);setEditingNote(null);setEditingNotebook(null);setEditingFolder(null);setIsCreateNoteModalOpen(false);setIsNotebookModalOpen(false);setIsFolderModalOpen(false);};const handleViewAllNotes=()=>{setCurrentView('allNotes');};const handleEditNoteFromList=note=>{setEditingNote(note);setIsCreateNoteModalOpen(true);setCurrentView('library');};const handleViewAllNotebooks=()=>{setCurrentView('allNotebooks');};const handleViewAllFolders=()=>{setCurrentView('allFolders');};const handleFolderSave=async function(idOrData){let folderData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;try{if(editingFolder&&folderData){await updateFolder(idOrData,folderData);}else{await createFolder(idOrData);}setEditingFolder(null);}catch(error){console.error('Failed to save archive:',error);}};const handleEditNotebook=notebook=>{setEditingNotebook(notebook);setIsNotebookModalOpen(true);};const handleNotebookSave=async function(idOrData){let notebookData=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;try{console.log('handleNotebookSave called with:',{idOrData,notebookData,editingNotebook});if(editingNotebook&&notebookData){console.log('Updating notebook with folderId:',notebookData.folderId);await updateNotebook(idOrData,notebookData);}else{console.log('Creating notebook with folderId:',idOrData.folderId);await createNotebook(idOrData);}setEditingNotebook(null);setIsNotebookModalOpen(false);}catch(error){var _error$response;console.error('Failed to save collection:',error);console.error('Error details:',((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);}};// Helper functions to calculate counts\nconst getNotebookNoteCount=notebookId=>{return notes.filter(note=>note.notebookId===notebookId).length;};const getFolderItemCount=folderId=>{const folderNotes=notes.filter(note=>note.folderId===folderId);const folderNotebooks=notebooks.filter(notebook=>notebook.folderId===folderId);return folderNotes.length+folderNotebooks.length;};useEffect(()=>{if((navigationParams===null||navigationParams===void 0?void 0:navigationParams.view)==='allNotes'){setCurrentView('allNotes');}else if((navigationParams===null||navigationParams===void 0?void 0:navigationParams.view)==='folder'&&navigationParams!==null&&navigationParams!==void 0&&navigationParams.selectedFolder){setCurrentView('folder');setSelectedFolder(navigationParams.selectedFolder);}},[navigationParams]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"library-tab-container p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8 font-mono text-white\",children:/*#__PURE__*/_jsx(\"div\",{children:\"Accessing storage vault...\"})})});}// View routing remains the same but with updated colors...\nif(currentView==='folder'&&selectedFolder){// Get notebooks in this folder\nconst folderNotebooks=notebooks.filter(notebook=>notebook.folderId===selectedFolder.id);const notebookIds=folderNotebooks.map(nb=>nb.id);// Get notes that are either:\n// 1. Directly assigned to this folder (folderId matches)\n// 2. Belong to notebooks within this folder (notebookId matches)\nconst folderNotes=notes.filter(note=>note.folderId===selectedFolder.id||note.notebookId&&notebookIds.includes(note.notebookId));return/*#__PURE__*/_jsxs(\"div\",{className:\"library-tab-container p-6\",children:[/*#__PURE__*/_jsx(FolderView,{folder:selectedFolder,onBack:handleBackToLibrary,onCreateNote:()=>{setEditingNote(null);setDefaultFolderId(selectedFolder.id);// Set default folder\nsetIsCreateNoteModalOpen(true);},onEditNote:handleEditNote,onDeleteNote:handleDeleteNote,onDeleteNotebook:handleDeleteNotebook,onOpenNotebook:handleOpenNotebook,onCreateNotebook:()=>{setEditingNotebook(null);setDefaultFolderId(selectedFolder.id);// Set default folder\nsetIsNotebookModalOpen(true);},onEditNotebook:handleEditNotebook,folders:folders,notebooks:folderNotebooks,notes:folderNotes}),/*#__PURE__*/_jsx(NoteViewModal,{isOpen:isNoteViewModalOpen,onClose:()=>setIsNoteViewModalOpen(false),onEdit:handleEditNoteFromView,onDelete:handleDeleteNoteFromView,note:viewingNote}),/*#__PURE__*/_jsx(NoteModal,{isOpen:isCreateNoteModalOpen,onClose:()=>{setIsCreateNoteModalOpen(false);setEditingNote(null);setDefaultFolderId(null);setDefaultNotebookId(null);},onSave:handleCreateNoteSubmit,onDelete:handleDeleteNote,folders:folders,notebooks:notebooks,existingNote:editingNote,defaultFolderId:defaultFolderId,defaultNotebookId:defaultNotebookId}),/*#__PURE__*/_jsx(FolderModal,{isOpen:isFolderModalOpen,onClose:()=>{setIsFolderModalOpen(false);setEditingFolder(null);},onSave:handleFolderSave,existingFolder:editingFolder}),/*#__PURE__*/_jsx(NotebookModal,{isOpen:isNotebookModalOpen,onClose:()=>{setIsNotebookModalOpen(false);setEditingNotebook(null);setDefaultFolderId(null);},onSave:handleNotebookSave,existingNotebook:editingNotebook,folders:folders,defaultFolderId:defaultFolderId})]});}if(currentView==='notebook'&&selectedNotebook){return/*#__PURE__*/_jsxs(\"div\",{className:\"library-tab-container p-6\",children:[/*#__PURE__*/_jsx(NotebookView,{notebook:selectedNotebook,onBack:handleBackToLibrary,onCreateNote:handleCreateNoteSubmit,onEditNote:handleCreateNoteSubmit,onDeleteNote:handleDeleteNote,onDeleteNotebook:handleDeleteNotebook,folders:folders,notebooks:notebooks,notes:notes}),/*#__PURE__*/_jsx(NoteViewModal,{isOpen:isNoteViewModalOpen,onClose:()=>setIsNoteViewModalOpen(false),onEdit:handleEditNoteFromView,onDelete:handleDeleteNoteFromView,note:viewingNote}),/*#__PURE__*/_jsx(NoteModal,{isOpen:isCreateNoteModalOpen,onClose:()=>{setIsCreateNoteModalOpen(false);setEditingNote(null);setDefaultFolderId(null);setDefaultNotebookId(null);},onSave:handleCreateNoteSubmit,onDelete:handleDeleteNote,folders:folders,notebooks:notebooks,existingNote:editingNote,defaultFolderId:defaultFolderId,defaultNotebookId:defaultNotebookId}),/*#__PURE__*/_jsx(FolderModal,{isOpen:isFolderModalOpen,onClose:()=>{setIsFolderModalOpen(false);setEditingFolder(null);},onSave:handleFolderSave,existingFolder:editingFolder}),/*#__PURE__*/_jsx(NotebookModal,{isOpen:isNotebookModalOpen,onClose:()=>{setIsNotebookModalOpen(false);setEditingNotebook(null);setDefaultFolderId(null);},onSave:handleNotebookSave,existingNotebook:editingNotebook,folders:folders,defaultFolderId:defaultFolderId})]});}if(currentView==='allNotes'){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NoteListView,{notes:notes,onBack:()=>setCurrentView('library'),onCreateNote:()=>{setEditingNote(null);setIsCreateNoteModalOpen(true);},onEditNote:handleEditNoteFromList,onDeleteNote:handleDeleteNote,folders:folders,notebooks:notebooks}),/*#__PURE__*/_jsx(NoteModal,{isOpen:isCreateNoteModalOpen,onClose:()=>{setIsCreateNoteModalOpen(false);setEditingNote(null);setDefaultFolderId(null);// ✅ Reset on close\nsetDefaultNotebookId(null);// ✅ Reset on close\n},onSave:handleCreateNoteSubmit,onDelete:handleDeleteNote,folders:folders,notebooks:notebooks,existingNote:editingNote,defaultFolderId:defaultFolderId// ✅ Pass the default folder\n,defaultNotebookId:defaultNotebookId// ✅ Pass the default notebook\n})]});}if(currentView==='allNotebooks'){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NotebookListView,{notebooks:notebooks,onBack:()=>setCurrentView('library'),onCreateNotebook:()=>{setEditingNotebook(null);setIsNotebookModalOpen(true);},onEditNotebook:handleEditNotebook,onDeleteNotebook:handleDeleteNotebook,onOpenNotebook:handleOpenNotebook,folders:folders}),/*#__PURE__*/_jsx(NotebookModal,{isOpen:isNotebookModalOpen,onClose:()=>{setIsNotebookModalOpen(false);setEditingNotebook(null);setDefaultFolderId(null);// ✅ Reset on close\n},onSave:handleNotebookSave,existingNotebook:editingNotebook,folders:folders,defaultFolderId:defaultFolderId// ✅ Pass the default folder\n})]});}if(currentView==='allFolders'){return/*#__PURE__*/_jsxs(\"div\",{className:\"library-tab-container\",children:[/*#__PURE__*/_jsx(FolderListView,{folders:folders,onBack:handleBackToLibrary,onCreateFolder:()=>setIsFolderModalOpen(true),onEditFolder:handleEditFolder,onOpenFolder:handleOpenFolder}),/*#__PURE__*/_jsx(FolderModal,{isOpen:isFolderModalOpen,onClose:()=>{setIsFolderModalOpen(false);setEditingFolder(null);},onSave:handleFolderSave,existingFolder:editingFolder})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"library-tab-container p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-4 mb-6 relative rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.4)'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-mono font-bold text-white text-3xl\",children:\"STORAGE VAULT\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-mono text-xs text-gray-400\",children:\"Storage for logs, collections, and archives\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 text-xs font-mono text-gray-400\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold\",children:folders.length}),\" ARCHIVES\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold\",children:notebooks.length}),\" COLLECTIONS\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold\",children:notes.length}),\" LOGS\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-5 gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsCreateNoteModalOpen(true),className:\"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs\",children:[/*#__PURE__*/_jsx(FileText,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"NEW LOG\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsNotebookModalOpen(true),className:\"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs\",children:[/*#__PURE__*/_jsx(BookOpen,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"NEW COLLECTION\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setIsFolderModalOpen(true),className:\"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs\",children:[/*#__PURE__*/_jsx(Folder,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"NEW ARCHIVE\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:async()=>{try{console.log('Exporting all intelligence from Archive Terminal');const response=await fetch(\"/api/notes/export/all?username=user\");if(response.ok){const blob=await response.blob();const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"intelligence_export_\".concat(new Date().toISOString().slice(0,10),\".md\");document.body.appendChild(a);a.click();window.URL.revokeObjectURL(url);document.body.removeChild(a);showNotification('Intelligence data exported successfully! Check your Downloads folder.','success');}else{throw new Error('Export failed');}}catch(error){console.error('Export error:',error);showNotification('Export failed. Please try again later.','error');}},className:\"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs\",children:[/*#__PURE__*/_jsx(Download,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"EXPORT ALL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{size:14,className:\"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:\"Search...\",className:\"w-full pl-8 pr-3 py-2 bg-black border border-gray-600 text-white font-mono text-xs focus:border-white transition-colors\"})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:\"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.4)'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-mono font-bold text-white flex items-center\",children:[\"ARCHIVES (\",folders.length,\")\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-mono text-gray-400\",children:\"Archive systems for organizing multiple collections and logs.\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleViewAllFolders,className:\"bg-black border-2 border-white px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden text-white hover:scale-105\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Eye,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"VIEW ALL\"})]})})]}),folders.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\",children:folders.slice(0,4).map(folder=>{const folderColor=folder.colorCode||'#FFD700';const rgbColor=folderColor.startsWith('#')?\"\".concat(parseInt(folderColor.slice(1,3),16),\", \").concat(parseInt(folderColor.slice(3,5),16),\", \").concat(parseInt(folderColor.slice(5,7),16)):'251, 191, 36';const itemCount=getFolderItemCount(folder.id);return/*#__PURE__*/_jsxs(motion.div,{className:\"border-2 border-white p-4 cursor-pointer group relative transition-all duration-300 rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.6)',boxShadow:\"0 0 25px rgba(\".concat(rgbColor,\", 0.8), 4px 4px 0px 0px rgba(0,0,0,1)\")},whileHover:{scale:1.02,y:-2,boxShadow:\"0 0 40px rgba(\".concat(rgbColor,\", 1), 4px 4px 0px 0px rgba(0,0,0,1)\")},whileTap:{scale:0.98},onClick:()=>handleOpenFolder(folder),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsx(Folder,{size:24,style:{color:folderColor}}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-mono text-gray-400 bg-black px-2 py-1 border border-white\",children:\"ARCHIVE\"})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-mono font-bold text-white mb-2 truncate\",children:folder.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mb-3 line-clamp-2\",children:folder.description||'Access archive contents'}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400 mb-2\",children:[itemCount,\" ITEMS\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleEditFolder(folder);},className:\"p-1.5 bg-black hover:bg-gray-800 border border-white rounded-md transition-colors text-white\",title:\"Modify archive\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"14\",height:\"14\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2-2v-7\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDeleteFolder(folder.id);},className:\"p-1.5 bg-black hover:bg-red-600 border border-white rounded-md transition-colors text-gray-400 hover:text-red-400\",title:\"Delete archive\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},folder.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"border border-white p-8 text-center rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.6)'},children:[/*#__PURE__*/_jsx(Folder,{size:48,className:\"text-gray-500 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 font-mono\",children:\"No archive systems found. Initialize first archive storage.\"})]})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.1},className:\"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.4)'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-mono font-bold text-white flex items-center\",children:[\"COLLECTIONS (\",notebooks.length,\")\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-mono text-gray-400\",children:\"Organized collections for grouping logs by subject, project or types.\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleViewAllNotebooks,className:\"bg-black border-2 border-white px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden text-white hover:scale-105\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Eye,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"VIEW ALL\"})]})})]}),notebooks.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\",children:notebooks.slice(0,4).map(notebook=>{const notebookColor=notebook.colorCode||'#60A5FA';const rgbColor=notebookColor.startsWith('#')?\"\".concat(parseInt(notebookColor.slice(1,3),16),\", \").concat(parseInt(notebookColor.slice(3,5),16),\", \").concat(parseInt(notebookColor.slice(5,7),16)):'96, 165, 250';const noteCount=getNotebookNoteCount(notebook.id);return/*#__PURE__*/_jsxs(motion.div,{className:\"border-2 border-white p-4 cursor-pointer group relative transition-all duration-300 rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.6)',boxShadow:\"0 0 25px rgba(\".concat(rgbColor,\", 0.8), 4px 4px 0px 0px rgba(0,0,0,1)\")},whileHover:{scale:1.02,y:-2,boxShadow:\"0 0 40px rgba(\".concat(rgbColor,\", 1), 4px 4px 0px 0px rgba(0,0,0,1)\")},whileTap:{scale:0.98},onClick:()=>handleOpenNotebook(notebook),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsx(BookOpen,{size:24,style:{color:notebookColor}}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-mono text-gray-400 bg-black px-2 py-1 border border-white\",children:\"COLLECTION\"})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-mono font-bold text-white mb-2 truncate\",children:notebook.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mb-3 line-clamp-2\",children:notebook.description||'Access collection database'}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400 mb-2\",children:[noteCount,\" LOGS\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleEditNotebook(notebook);},className:\"p-1.5 bg-black hover:bg-gray-800 border border-white rounded-md transition-colors text-white\",title:\"Edit collection\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"14\",height:\"14\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2-2v-7\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDeleteNotebook(notebook.id);},className:\"p-1.5 bg-black hover:bg-red-600 border border-white rounded-md transition-colors text-gray-400 hover:text-red-400\",title:\"Delete collection\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},notebook.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"border border-white p-8 text-center rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.6)'},children:[/*#__PURE__*/_jsx(BookOpen,{size:48,className:\"text-gray-500 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 font-mono\",children:\"No log collections found. Deploy first collection to begin.\"})]})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:0.2},className:\"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.4)'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-mono font-bold text-white flex items-center\",children:[\"LOG ENTRIES (\",notes.length,\")\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-mono text-gray-400\",children:\"Individual log entries for storing notes, thoughts and ideas.\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleViewAllNotes,className:\"bg-black border-2 border-white px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden text-white hover:scale-105\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Eye,{size:16}),/*#__PURE__*/_jsx(\"span\",{children:\"VIEW ALL\"})]})})]}),notes.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\",children:notes.slice().sort((a,b)=>new Date(b.createdAt||b.updatedAt||0)-new Date(a.createdAt||a.updatedAt||0)).slice(0,4).map((note,index)=>{const noteColor=note.color||'#4ADE80';const rgbColor=hexToRgb(noteColor);const tagsArray=Array.isArray(note.tags)?note.tags:note.tags?note.tags.split(',').map(tag=>tag.trim()):[];return/*#__PURE__*/_jsxs(motion.div,{className:\"border-2 border-white p-4 cursor-pointer group relative transition-all duration-300 rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.6)',boxShadow:\"0 0 25px rgba(\".concat(rgbColor,\", 0.8), 4px 4px 0px 0px rgba(0,0,0,1)\")},whileHover:{scale:1.02,y:-2,boxShadow:\"0 0 40px rgba(\".concat(rgbColor,\", 1), 4px 4px 0px 0px rgba(0,0,0,1)\")},whileTap:{scale:0.98},onClick:()=>handleViewNote(note),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsx(FileText,{size:24,style:{color:noteColor}}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-mono text-gray-400 bg-black px-2 py-1 border border-white\",children:\"LOG\"})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-mono font-bold text-white mb-2 truncate\",title:note.title,children:note.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400 mb-3 line-clamp-2\",children:note.content&&note.content.length>100?\"\".concat(note.content.substring(0,100),\"...\"):note.content}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-400 mb-2\",children:new Date(note.createdAt||note.updatedAt).toLocaleDateString()}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleViewNote(note);},className:\"p-1.5 bg-black hover:bg-gray-800 border border-white rounded-md transition-colors text-white\",title:\"View log entry\",children:/*#__PURE__*/_jsx(Eye,{size:14})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleEditNote(note);},className:\"p-1.5 bg-black hover:bg-gray-800 border border-white rounded-md transition-colors text-white\",title:\"Edit log entry\",children:/*#__PURE__*/_jsxs(\"svg\",{width:\"14\",height:\"14\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2-2v-7\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\"})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDeleteNote(note.id);},className:\"p-1.5 bg-black hover:bg-red-600 border border-white rounded-md transition-colors text-gray-400 hover:text-red-400\",title:\"Delete log entry\",children:/*#__PURE__*/_jsx(Trash2,{size:14})})]})]},note.id);})}):/*#__PURE__*/_jsxs(\"div\",{className:\"border border-white p-8 text-center rounded-lg\",style:{backgroundColor:'rgba(0, 0, 0, 0.6)'},children:[/*#__PURE__*/_jsx(FileText,{size:48,className:\"text-gray-500 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 font-mono\",children:\"No log entries found. Create your first log entry to begin tracking.\"})]})]})})]}),/*#__PURE__*/_jsx(NoteViewModal,{isOpen:isNoteViewModalOpen,onClose:()=>setIsNoteViewModalOpen(false),onEdit:handleEditNoteFromView,onDelete:handleDeleteNoteFromView,note:viewingNote}),/*#__PURE__*/_jsx(NoteModal,{isOpen:isCreateNoteModalOpen,onClose:()=>{setIsCreateNoteModalOpen(false);setEditingNote(null);setDefaultFolderId(null);setDefaultNotebookId(null);},onSave:handleCreateNoteSubmit,onDelete:handleDeleteNote,folders:folders,notebooks:notebooks,existingNote:editingNote,defaultFolderId:defaultFolderId,defaultNotebookId:defaultNotebookId}),/*#__PURE__*/_jsx(FolderModal,{isOpen:isFolderModalOpen,onClose:()=>{setIsFolderModalOpen(false);setEditingFolder(null);},onSave:handleFolderSave,existingFolder:editingFolder}),/*#__PURE__*/_jsx(NotebookModal,{isOpen:isNotebookModalOpen,onClose:()=>{setIsNotebookModalOpen(false);setEditingNotebook(null);setDefaultFolderId(null);},onSave:handleNotebookSave,existingNotebook:editingNotebook,folders:folders,defaultFolderId:defaultFolderId})]});};export default LibraryTab;","map":{"version":3,"names":["React","useState","useEffect","motion","Plus","Folder","BookOpen","FileText","Search","Download","Archive","Eye","Trash2","PixelButton","PixelInput","useFolders","useNotebooks","useNotes","NoteModal","NoteViewModal","FolderModal","NotebookModal","FolderView","NotebookView","NoteListView","NotebookListView","FolderListView","useNotification","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LibraryTab","_ref","tabColor","navigationParams","searchTerm","setSearchTerm","viewMode","setViewMode","isCreateNoteModalOpen","setIsCreateNoteModalOpen","isFolderModalOpen","setIsFolderModalOpen","isNotebookModalOpen","setIsNotebookModalOpen","isNoteViewModalOpen","setIsNoteViewModalOpen","viewingNote","setViewingNote","editingFolder","setEditingFolder","editingNotebook","setEditingNotebook","editingNote","setEditingNote","currentView","setCurrentView","selectedFolder","setSelectedFolder","selectedNotebook","setSelectedNotebook","defaultFolderId","setDefaultFolderId","defaultNotebookId","setDefaultNotebookId","folders","loading","foldersLoading","createFolder","updateFolder","deleteFolder","notebooks","notebooksLoading","createNotebook","updateNotebook","deleteNotebook","notes","notesLoading","createNote","updateNote","deleteNote","showNotification","hexToRgb","hex","result","exec","concat","parseInt","tabColorRgb","handleDeleteNote","noteId","window","confirm","error","console","handleDeleteNotebook","notebookId","log","message","handleDeleteFolder","folderId","handleCreateFolder","folderData","name","length","description","colorCode","parentFolderId","handleCreateNotebook","notebookData","handleCreateNote","handleEditNote","note","handleViewNote","handleEditNoteFromView","noteToEdit","handleDeleteNoteFromView","id","handleCreateNoteSubmit","noteData","alert","handleEditFolder","folder","handleOpenFolder","handleOpenNotebook","notebook","handleBackToLibrary","handleViewAllNotes","handleEditNoteFromList","handleViewAllNotebooks","handleViewAllFolders","handleFolderSave","idOrData","arguments","undefined","handleEditNotebook","handleNotebookSave","_error$response","response","data","getNotebookNoteCount","filter","getFolderItemCount","folderNotes","folderNotebooks","view","className","children","notebookIds","map","nb","includes","onBack","onCreateNote","onEditNote","onDeleteNote","onDeleteNotebook","onOpenNotebook","onCreateNotebook","onEditNotebook","isOpen","onClose","onEdit","onDelete","onSave","existingNote","existingFolder","existingNotebook","onCreateFolder","onEditFolder","onOpenFolder","style","backgroundColor","onClick","size","fetch","ok","blob","url","URL","createObjectURL","a","document","createElement","href","download","Date","toISOString","slice","body","appendChild","click","revokeObjectURL","removeChild","Error","value","onChange","e","target","placeholder","div","initial","opacity","y","animate","folderColor","rgbColor","startsWith","itemCount","boxShadow","whileHover","scale","whileTap","color","stopPropagation","title","width","height","viewBox","fill","stroke","strokeWidth","d","transition","delay","notebookColor","noteCount","sort","b","createdAt","updatedAt","index","noteColor","tagsArray","Array","isArray","tags","split","tag","trim","content","substring","toLocaleDateString"],"sources":["/Users/jenn/Projects/Pixel-Pages/frontend/src/components/tabs/LibraryTab.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Plus, Folder, BookOpen, FileText, Search, Download, Archive, Eye, Trash2 } from 'lucide-react';\nimport PixelButton from '../PixelButton';\nimport PixelInput from '../PixelInput';\nimport useFolders from '../../hooks/useFolders';\nimport useNotebooks from '../../hooks/useNotebooks';\nimport useNotes from '../../hooks/useNotes';\nimport NoteModal from '../notes/NoteModal';\nimport NoteViewModal from '../notes/NoteViewModal';\nimport FolderModal from '../modals/FolderModal';\nimport NotebookModal from '../modals/NotebookModal';\nimport FolderView from '../views/FolderView';\nimport NotebookView from '../views/NotebookView';\nimport NoteListView from '../views/NoteListView';\nimport NotebookListView from '../views/NotebookListView';\nimport FolderListView from '../views/FolderListView';\nimport { useNotification } from '../../contexts/NotificationContext';\n\nconst LibraryTab = ({ tabColor = '#3B82F6', navigationParams = {} }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [viewMode, setViewMode] = useState('grid');\n  const [isCreateNoteModalOpen, setIsCreateNoteModalOpen] = useState(false);\n  const [isFolderModalOpen, setIsFolderModalOpen] = useState(false);\n  const [isNotebookModalOpen, setIsNotebookModalOpen] = useState(false);\n  const [isNoteViewModalOpen, setIsNoteViewModalOpen] = useState(false);\n  const [viewingNote, setViewingNote] = useState(null);\n  const [editingFolder, setEditingFolder] = useState(null);\n  const [editingNotebook, setEditingNotebook] = useState(null);\n  const [editingNote, setEditingNote] = useState(null);\n  const [currentView, setCurrentView] = useState('library');\n  const [selectedFolder, setSelectedFolder] = useState(null);\n  const [selectedNotebook, setSelectedNotebook] = useState(null);\n  const [defaultFolderId, setDefaultFolderId] = useState(null);\n  const [defaultNotebookId, setDefaultNotebookId] = useState(null);\n  \n  // Use the hooks\n  const { folders, loading: foldersLoading, createFolder, updateFolder, deleteFolder } = useFolders();\n  const { notebooks, loading: notebooksLoading, createNotebook, updateNotebook, deleteNotebook } = useNotebooks();\n  const { notes, loading: notesLoading, createNote, updateNote, deleteNote } = useNotes();\n  const { showNotification } = useNotification();\n\n  const loading = foldersLoading || notebooksLoading || notesLoading;\n\n  // Convert hex to RGB for dynamic styling\n  const hexToRgb = (hex) => {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? \n      `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` :\n      '59, 130, 246'; // fallback for #3B82F6\n  };\n\n  const tabColorRgb = hexToRgb(tabColor);\n\n  // All handlers remain the same...\n  const handleDeleteNote = async (noteId) => {\n    if (window.confirm('Are you sure you want to delete this log entry? This action cannot be undone.')) {\n      try {\n        await deleteNote(noteId);\n        showNotification('Log entry deleted successfully!', 'success');\n      } catch (error) {\n        console.error('Failed to delete note:', error);\n        showNotification('Failed to delete log entry. Please try again.', 'error');\n      }\n    }\n  };\n\n  const handleDeleteNotebook = async (notebookId) => {\n    if (window.confirm('Are you sure you want to delete this collection? All associated notes will become unorganized.')) {\n      try {\n        console.log('Deleting notebook with ID:', notebookId);\n        await deleteNotebook(notebookId);\n        showNotification('Collection deleted successfully!', 'success');\n      } catch (error) {\n        console.error('Failed to delete notebook:', error);\n        console.error('Error details:', error.message);\n        showNotification('Failed to delete collection. Please try again.', 'error');\n      }\n    }\n  };\n\n  const handleDeleteFolder = async (folderId) => {\n    if (window.confirm('Are you sure you want to delete this archive? All associated notes and collections will become unorganized.')) {\n      try {\n        await deleteFolder(folderId);\n        showNotification('Archive deleted successfully!', 'success');\n      } catch (error) {\n        console.error('Failed to delete folder:', error);\n        showNotification('Failed to delete archive. Please try again.', 'error');\n      }\n    }\n  };\n\n  // All other handlers remain the same...\n  const handleCreateFolder = async () => {\n    try {\n      const folderData = {\n        name: `New Archive ${folders.length + 1}`,\n        description: 'A new archive for organizing your intel',\n        colorCode: '#FFD700',\n        parentFolderId: null\n      };\n      await createFolder(folderData);\n    } catch (error) {\n      console.error('Failed to initialize archive:', error);\n    }\n  };\n\n  const handleCreateNotebook = async () => {\n    try {\n      const notebookData = {\n        name: `New Collection ${notebooks.length + 1}`,\n        description: 'A new log collection for your intel',\n        colorCode: '#87CEEB'\n      };\n      await createNotebook(notebookData);\n    } catch (error) {\n      console.error('Failed to deploy collection:', error);\n    }\n  };\n\n  const handleCreateNote = () => {\n    setIsCreateNoteModalOpen(true);\n  };\n\n  const handleEditNote = (note) => {\n    setEditingNote(note);\n    setIsCreateNoteModalOpen(true);\n  };\n\n  const handleViewNote = (note) => {\n    setViewingNote(note);\n    setIsNoteViewModalOpen(true);\n  };\n\n  const handleEditNoteFromView = () => {\n    const noteToEdit = viewingNote;\n    setIsNoteViewModalOpen(false);\n    setViewingNote(null);\n    handleEditNote(noteToEdit);\n  };\n\n  const handleDeleteNoteFromView = async () => {\n    if (viewingNote) {\n      await handleDeleteNote(viewingNote.id);\n      setIsNoteViewModalOpen(false);\n      setViewingNote(null);\n    }\n  };\n\n  const handleCreateNoteSubmit = async (noteData) => {\n    try {\n      console.log('Archiving log entry:', { editingNote, noteData });\n      \n      if (editingNote) {\n        console.log('Updating log entry with ID:', editingNote.id);\n        await updateNote(editingNote.id, noteData);\n        console.log('Log entry updated successfully');\n      } else {\n        console.log('Creating new log entry');\n        await createNote(noteData);\n        console.log('Log entry archived successfully');\n      }\n      \n      setEditingNote(null);\n      setIsCreateNoteModalOpen(false);\n      \n    } catch (error) {\n      console.error('Failed to archive log entry:', error);\n      alert('Failed to archive log entry. Please try again.');\n    }\n  };\n\n  const handleEditFolder = (folder) => {\n    setEditingFolder(folder);\n    setIsFolderModalOpen(true);\n  };\n\n  const handleOpenFolder = (folder) => {\n    setSelectedFolder(folder);\n    setCurrentView('folder');\n  };\n\n  const handleOpenNotebook = (notebook) => {\n    setSelectedNotebook(notebook);\n    setCurrentView('notebook');\n  };\n\n  const handleBackToLibrary = () => {\n    // Clear all states when going back\n    setCurrentView('library');\n    setSelectedFolder(null);\n    setSelectedNotebook(null);\n    setEditingNote(null);\n    setEditingNotebook(null);\n    setEditingFolder(null);\n    setIsCreateNoteModalOpen(false);\n    setIsNotebookModalOpen(false);\n    setIsFolderModalOpen(false);\n  };\n\n  const handleViewAllNotes = () => {\n    setCurrentView('allNotes');\n  };\n\n  const handleEditNoteFromList = (note) => {\n    setEditingNote(note);\n    setIsCreateNoteModalOpen(true);\n    setCurrentView('library');\n  };\n\n  const handleViewAllNotebooks = () => {\n    setCurrentView('allNotebooks');\n  };\n\n  const handleViewAllFolders = () => {\n    setCurrentView('allFolders');\n  };\n\n  const handleFolderSave = async (idOrData, folderData = null) => {\n    try {\n      if (editingFolder && folderData) {\n        await updateFolder(idOrData, folderData);\n      } else {\n        await createFolder(idOrData);\n      }\n      setEditingFolder(null);\n    } catch (error) {\n      console.error('Failed to save archive:', error);\n    }\n  };\n\n  const handleEditNotebook = (notebook) => {\n    setEditingNotebook(notebook);\n    setIsNotebookModalOpen(true);\n  };\n\n  const handleNotebookSave = async (idOrData, notebookData = null) => {\n    try {\n      console.log('handleNotebookSave called with:', { idOrData, notebookData, editingNotebook });\n      \n      if (editingNotebook && notebookData) {\n        console.log('Updating notebook with folderId:', notebookData.folderId);\n        await updateNotebook(idOrData, notebookData);\n      } else {\n        console.log('Creating notebook with folderId:', idOrData.folderId);\n        await createNotebook(idOrData);\n      }\n      setEditingNotebook(null);\n      setIsNotebookModalOpen(false);\n    } catch (error) {\n      console.error('Failed to save collection:', error);\n      console.error('Error details:', error.response?.data || error.message);\n    }\n  };\n\n  // Helper functions to calculate counts\n  const getNotebookNoteCount = (notebookId) => {\n    return notes.filter(note => note.notebookId === notebookId).length;\n  };\n\n  const getFolderItemCount = (folderId) => {\n    const folderNotes = notes.filter(note => note.folderId === folderId);\n    const folderNotebooks = notebooks.filter(notebook => notebook.folderId === folderId);\n    return folderNotes.length + folderNotebooks.length;\n  };\n\n  useEffect(() => {\n    if (navigationParams?.view === 'allNotes') {\n      setCurrentView('allNotes');\n    } else if (navigationParams?.view === 'folder' && navigationParams?.selectedFolder) {\n      setCurrentView('folder');\n      setSelectedFolder(navigationParams.selectedFolder);\n    }\n  }, [navigationParams]);\n\n  if (loading) {\n    return (\n      <div className=\"library-tab-container p-6\">\n        <div className=\"text-center py-8 font-mono text-white\">\n          <div>Accessing storage vault...</div>\n        </div>\n      </div>\n    );\n  }\n\n  // View routing remains the same but with updated colors...\n  if (currentView === 'folder' && selectedFolder) {\n    // Get notebooks in this folder\n    const folderNotebooks = notebooks.filter(notebook => notebook.folderId === selectedFolder.id);\n    const notebookIds = folderNotebooks.map(nb => nb.id);\n    \n    // Get notes that are either:\n    // 1. Directly assigned to this folder (folderId matches)\n    // 2. Belong to notebooks within this folder (notebookId matches)\n    const folderNotes = notes.filter(note => \n      note.folderId === selectedFolder.id || \n      (note.notebookId && notebookIds.includes(note.notebookId))\n    );\n    \n    return (\n      <div className=\"library-tab-container p-6\">\n        <FolderView \n          folder={selectedFolder}\n          onBack={handleBackToLibrary}\n          onCreateNote={() => {\n            setEditingNote(null);\n            setDefaultFolderId(selectedFolder.id);  // Set default folder\n            setIsCreateNoteModalOpen(true);\n          }}\n          onEditNote={handleEditNote}\n          onDeleteNote={handleDeleteNote}\n          onDeleteNotebook={handleDeleteNotebook}\n          onOpenNotebook={handleOpenNotebook}\n          onCreateNotebook={() => {\n            setEditingNotebook(null);\n            setDefaultFolderId(selectedFolder.id);  // Set default folder\n            setIsNotebookModalOpen(true);\n          }}\n          onEditNotebook={handleEditNotebook}\n          folders={folders}\n          notebooks={folderNotebooks}\n          notes={folderNotes}\n        />\n        \n        {/* Modals - Always render regardless of view */}\n        <NoteViewModal\n          isOpen={isNoteViewModalOpen}\n          onClose={() => setIsNoteViewModalOpen(false)}\n          onEdit={handleEditNoteFromView}\n          onDelete={handleDeleteNoteFromView}\n          note={viewingNote}\n        />\n\n        <NoteModal\n          isOpen={isCreateNoteModalOpen}\n          onClose={() => {\n            setIsCreateNoteModalOpen(false);\n            setEditingNote(null);\n            setDefaultFolderId(null);\n            setDefaultNotebookId(null);\n          }}\n          onSave={handleCreateNoteSubmit}\n          onDelete={handleDeleteNote}\n          folders={folders}\n          notebooks={notebooks}\n          existingNote={editingNote}\n          defaultFolderId={defaultFolderId}\n          defaultNotebookId={defaultNotebookId}\n        />\n\n        <FolderModal\n          isOpen={isFolderModalOpen}\n          onClose={() => {\n            setIsFolderModalOpen(false);\n            setEditingFolder(null);\n          }}\n          onSave={handleFolderSave}\n          existingFolder={editingFolder}\n        />\n\n        <NotebookModal\n          isOpen={isNotebookModalOpen}\n          onClose={() => {\n            setIsNotebookModalOpen(false);\n            setEditingNotebook(null);\n            setDefaultFolderId(null);\n          }}\n          onSave={handleNotebookSave}\n          existingNotebook={editingNotebook}\n          folders={folders}\n          defaultFolderId={defaultFolderId}\n        />\n      </div>\n    );\n  }\n\n  if (currentView === 'notebook' && selectedNotebook) {\n    return (\n      <div className=\"library-tab-container p-6\">\n        <NotebookView\n          notebook={selectedNotebook}\n          onBack={handleBackToLibrary}\n          onCreateNote={handleCreateNoteSubmit}\n          onEditNote={handleCreateNoteSubmit}\n          onDeleteNote={handleDeleteNote}\n          onDeleteNotebook={handleDeleteNotebook}\n          folders={folders}\n          notebooks={notebooks}\n          notes={notes}\n        />\n        \n        {/* Modals - Always render regardless of view */}\n        <NoteViewModal\n          isOpen={isNoteViewModalOpen}\n          onClose={() => setIsNoteViewModalOpen(false)}\n          onEdit={handleEditNoteFromView}\n          onDelete={handleDeleteNoteFromView}\n          note={viewingNote}\n        />\n\n        <NoteModal\n          isOpen={isCreateNoteModalOpen}\n          onClose={() => {\n            setIsCreateNoteModalOpen(false);\n            setEditingNote(null);\n            setDefaultFolderId(null);\n            setDefaultNotebookId(null);\n          }}\n          onSave={handleCreateNoteSubmit}\n          onDelete={handleDeleteNote}\n          folders={folders}\n          notebooks={notebooks}\n          existingNote={editingNote}\n          defaultFolderId={defaultFolderId}\n          defaultNotebookId={defaultNotebookId}\n        />\n\n        <FolderModal\n          isOpen={isFolderModalOpen}\n          onClose={() => {\n            setIsFolderModalOpen(false);\n            setEditingFolder(null);\n          }}\n          onSave={handleFolderSave}\n          existingFolder={editingFolder}\n        />\n\n        <NotebookModal\n          isOpen={isNotebookModalOpen}\n          onClose={() => {\n            setIsNotebookModalOpen(false);\n            setEditingNotebook(null);\n            setDefaultFolderId(null);\n          }}\n          onSave={handleNotebookSave}\n          existingNotebook={editingNotebook}\n          folders={folders}\n          defaultFolderId={defaultFolderId}\n        />\n      </div>\n    );\n  }\n\n  if (currentView === 'allNotes') {\n    return (\n      <>\n        <NoteListView \n          notes={notes}\n          onBack={() => setCurrentView('library')}\n          onCreateNote={() => {\n            setEditingNote(null);\n            setIsCreateNoteModalOpen(true);\n          }}\n          onEditNote={handleEditNoteFromList}\n          onDeleteNote={handleDeleteNote}\n          folders={folders}\n          notebooks={notebooks}\n        />\n        \n        <NoteModal\n          isOpen={isCreateNoteModalOpen}\n          onClose={() => {\n            setIsCreateNoteModalOpen(false);\n            setEditingNote(null);\n            setDefaultFolderId(null);  // ✅ Reset on close\n            setDefaultNotebookId(null);  // ✅ Reset on close\n          }}\n          onSave={handleCreateNoteSubmit}\n          onDelete={handleDeleteNote}\n          folders={folders}\n          notebooks={notebooks}\n          existingNote={editingNote}\n          defaultFolderId={defaultFolderId}  // ✅ Pass the default folder\n          defaultNotebookId={defaultNotebookId}  // ✅ Pass the default notebook\n        />\n      </>\n    );\n  }\n\n  if (currentView === 'allNotebooks') {\n    return (\n      <>\n        <NotebookListView \n          notebooks={notebooks}\n          onBack={() => setCurrentView('library')}\n          onCreateNotebook={() => {\n            setEditingNotebook(null);\n            setIsNotebookModalOpen(true);\n          }}\n          onEditNotebook={handleEditNotebook}\n          onDeleteNotebook={handleDeleteNotebook}\n          onOpenNotebook={handleOpenNotebook}\n          folders={folders}\n        />\n        \n        <NotebookModal\n          isOpen={isNotebookModalOpen}\n          onClose={() => {\n            setIsNotebookModalOpen(false);\n            setEditingNotebook(null);\n            setDefaultFolderId(null);  // ✅ Reset on close\n          }}\n          onSave={handleNotebookSave}\n          existingNotebook={editingNotebook}\n          folders={folders}\n          defaultFolderId={defaultFolderId}  // ✅ Pass the default folder\n        />\n      </>\n    );\n  }\n\n  if (currentView === 'allFolders') {\n    return (\n      <div className=\"library-tab-container\">\n        <FolderListView\n          folders={folders}\n          onBack={handleBackToLibrary}\n          onCreateFolder={() => setIsFolderModalOpen(true)}\n          onEditFolder={handleEditFolder}\n          onOpenFolder={handleOpenFolder}\n        />\n        \n        {/* Modals */}\n        <FolderModal\n          isOpen={isFolderModalOpen}\n          onClose={() => {\n            setIsFolderModalOpen(false);\n            setEditingFolder(null);\n          }}\n          onSave={handleFolderSave}\n          existingFolder={editingFolder}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"library-tab-container p-6\">\n      {/* Storage Vault - Simplified */}\n      <div className=\"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-4 mb-6 relative rounded-lg\"\n           style={{\n             backgroundColor: 'rgba(0, 0, 0, 0.4)'\n           }}>\n        <div className=\"relative z-10\">\n          {/* Title Row */}\n          <div className=\"flex items-center justify-between mb-4\">\n            <div>\n              <h1 className=\"font-mono font-bold text-white text-3xl\">STORAGE VAULT</h1>\n              <p className=\"font-mono text-xs text-gray-400\">Storage for logs, collections, and archives</p>\n            </div>\n            <div className=\"flex items-center gap-4 text-xs font-mono text-gray-400\">\n              <span><span className=\"text-white font-bold\">{folders.length}</span> ARCHIVES</span>\n              <span><span className=\"text-white font-bold\">{notebooks.length}</span> COLLECTIONS</span>\n              <span><span className=\"text-white font-bold\">{notes.length}</span> LOGS</span>\n            </div>\n          </div>\n\n          {/* Controls Row */}\n          <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-3\">\n            <button\n              onClick={() => setIsCreateNoteModalOpen(true)}\n              className=\"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs\"\n            >\n              <FileText size={14} />\n              <span>NEW LOG</span>\n            </button>\n\n            <button\n              onClick={() => setIsNotebookModalOpen(true)}\n              className=\"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs\"\n            >\n              <BookOpen size={14} />\n              <span>NEW COLLECTION</span>\n            </button>\n\n            <button\n              onClick={() => setIsFolderModalOpen(true)}\n              className=\"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs\"\n            >\n              <Folder size={14} />\n              <span>NEW ARCHIVE</span>\n            </button>\n\n            <button\n              onClick={async () => {\n                try {\n                  console.log('Exporting all intelligence from Archive Terminal');\n                  \n                  const response = await fetch(`/api/notes/export/all?username=user`);\n                  \n                  if (response.ok) {\n                    const blob = await response.blob();\n                    const url = window.URL.createObjectURL(blob);\n                    const a = document.createElement('a');\n                    a.href = url;\n                    a.download = `intelligence_export_${new Date().toISOString().slice(0, 10)}.md`;\n                    document.body.appendChild(a);\n                    a.click();\n                    window.URL.revokeObjectURL(url);\n                    document.body.removeChild(a);\n                    \n                    showNotification('Intelligence data exported successfully! Check your Downloads folder.', 'success');\n                  } else {\n                    throw new Error('Export failed');\n                  }\n                } catch (error) {\n                  console.error('Export error:', error);\n                  showNotification('Export failed. Please try again later.', 'error');\n                }\n              }}\n              className=\"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs\"\n            >\n              <Download size={14} />\n              <span>EXPORT ALL</span>\n            </button>\n\n            <div className=\"relative\">\n              <Search size={14} className=\"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400\" />\n              <input\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder=\"Search...\"\n                className=\"w-full pl-8 pr-3 py-2 bg-black border border-gray-600 text-white font-mono text-xs focus:border-white transition-colors\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Content Sections remain the same */}\n      <div className=\"space-y-8\">\n        {/* Archive Systems Section */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative rounded-lg\"\n          style={{\n            backgroundColor: 'rgba(0, 0, 0, 0.4)'\n          }}\n        >\n          <div className=\"relative z-10\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div>\n                <h3 className=\"text-xl font-mono font-bold text-white flex items-center\">\n                  ARCHIVES ({folders.length})\n                </h3>\n                <p className=\"text-sm font-mono text-gray-400\">\n                  Archive systems for organizing multiple collections and logs.\n                </p>\n              </div>\n              <button\n                onClick={handleViewAllFolders}\n                className=\"bg-black border-2 border-white px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden text-white hover:scale-105\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Eye size={16} />\n                  <span>VIEW ALL</span>\n                </div>\n              </button>\n            </div>\n            \n            {folders.length > 0 ? (\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n                {folders.slice(0, 4).map(folder => {\n                  const folderColor = folder.colorCode || '#FFD700';\n                  const rgbColor = folderColor.startsWith('#') \n                    ? `${parseInt(folderColor.slice(1, 3), 16)}, ${parseInt(folderColor.slice(3, 5), 16)}, ${parseInt(folderColor.slice(5, 7), 16)}`\n                    : '251, 191, 36';\n                \n                  const itemCount = getFolderItemCount(folder.id);\n                \n                  return (\n                    <motion.div\n                      key={folder.id}\n                      className=\"border-2 border-white p-4 cursor-pointer group relative transition-all duration-300 rounded-lg\"\n                      style={{\n                        backgroundColor: 'rgba(0, 0, 0, 0.6)',\n                        boxShadow: `0 0 25px rgba(${rgbColor}, 0.8), 4px 4px 0px 0px rgba(0,0,0,1)`,\n                      }}\n                      whileHover={{ \n                        scale: 1.02, \n                        y: -2,\n                        boxShadow: `0 0 40px rgba(${rgbColor}, 1), 4px 4px 0px 0px rgba(0,0,0,1)`\n                      }}\n                      whileTap={{ scale: 0.98 }}\n                      onClick={() => handleOpenFolder(folder)}\n                    >\n                      <div className=\"flex items-start justify-between mb-3\">\n                        <Folder size={24} style={{ color: folderColor }} />\n                        <div className=\"text-xs font-mono text-gray-400 bg-black px-2 py-1 border border-white\">\n                          ARCHIVE\n                        </div>\n                      </div>\n                      <h4 className=\"font-mono font-bold text-white mb-2 truncate\">{folder.name}</h4>\n                      <p className=\"text-xs text-gray-400 mb-3 line-clamp-2\">{folder.description || 'Access archive contents'}</p>\n                      \n                      <div className=\"text-xs text-gray-400 mb-2\">\n                        {itemCount} ITEMS\n                      </div>\n                    \n                      <div className=\"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleEditFolder(folder);\n                          }}\n                          className=\"p-1.5 bg-black hover:bg-gray-800 border border-white rounded-md transition-colors text-white\"\n                          title=\"Modify archive\"\n                        >\n                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                            <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2-2v-7\" />\n                            <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" />\n                          </svg>\n                        </button>\n                      \n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleDeleteFolder(folder.id);\n                          }}\n                          className=\"p-1.5 bg-black hover:bg-red-600 border border-white rounded-md transition-colors text-gray-400 hover:text-red-400\"\n                          title=\"Delete archive\"\n                        >\n                          <Trash2 size={14} />\n                        </button>\n                      </div>\n                    </motion.div>\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"border border-white p-8 text-center rounded-lg\"\n                   style={{ backgroundColor: 'rgba(0, 0, 0, 0.6)' }}>\n                <Folder size={48} className=\"text-gray-500 mx-auto mb-3\" />\n                <p className=\"text-gray-400 font-mono\">No archive systems found. Initialize first archive storage.</p>\n              </div>\n            )}\n          </div>\n        </motion.div>\n\n        {/* Log Collections Section */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1 }}\n          className=\"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative rounded-lg\"\n          style={{\n            backgroundColor: 'rgba(0, 0, 0, 0.4)'\n          }}\n        >\n          <div className=\"relative z-10\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div>\n                <h3 className=\"text-xl font-mono font-bold text-white flex items-center\">\n                  COLLECTIONS ({notebooks.length})\n                </h3>\n                <p className=\"text-sm font-mono text-gray-400\">\n                  Organized collections for grouping logs by subject, project or types.\n                </p>\n              </div>\n              <button\n                onClick={handleViewAllNotebooks}\n                className=\"bg-black border-2 border-white px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden text-white hover:scale-105\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Eye size={16} />\n                  <span>VIEW ALL</span>\n                </div>\n              </button>\n            </div>\n            \n            {notebooks.length > 0 ? (\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n                {notebooks.slice(0, 4).map(notebook => {\n                  const notebookColor = notebook.colorCode || '#60A5FA';\n                  const rgbColor = notebookColor.startsWith('#') \n                    ? `${parseInt(notebookColor.slice(1, 3), 16)}, ${parseInt(notebookColor.slice(3, 5), 16)}, ${parseInt(notebookColor.slice(5, 7), 16)}`\n                    : '96, 165, 250';\n                \n                  const noteCount = getNotebookNoteCount(notebook.id);\n                \n                  return (\n                    <motion.div\n                      key={notebook.id}\n                      className=\"border-2 border-white p-4 cursor-pointer group relative transition-all duration-300 rounded-lg\"\n                      style={{\n                        backgroundColor: 'rgba(0, 0, 0, 0.6)',\n                        boxShadow: `0 0 25px rgba(${rgbColor}, 0.8), 4px 4px 0px 0px rgba(0,0,0,1)`,\n                      }}\n                      whileHover={{ \n                        scale: 1.02, \n                        y: -2,\n                        boxShadow: `0 0 40px rgba(${rgbColor}, 1), 4px 4px 0px 0px rgba(0,0,0,1)`\n                      }}\n                      whileTap={{ scale: 0.98 }}\n                      onClick={() => handleOpenNotebook(notebook)}\n                    >\n                      <div className=\"flex items-start justify-between mb-3\">\n                        <BookOpen size={24} style={{ color: notebookColor }} />\n                        <div className=\"text-xs font-mono text-gray-400 bg-black px-2 py-1 border border-white\">\n                          COLLECTION\n                        </div>\n                      </div>\n                      <h4 className=\"font-mono font-bold text-white mb-2 truncate\">{notebook.name}</h4>\n                      <p className=\"text-xs text-gray-400 mb-3 line-clamp-2\">{notebook.description || 'Access collection database'}</p>\n                      \n                      <div className=\"text-xs text-gray-400 mb-2\">\n                        {noteCount} LOGS\n                      </div>\n                    \n                      <div className=\"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleEditNotebook(notebook);\n                          }}\n                          className=\"p-1.5 bg-black hover:bg-gray-800 border border-white rounded-md transition-colors text-white\"\n                          title=\"Edit collection\"\n                        >\n                          <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                            <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2-2v-7\" />\n                            <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" />\n                          </svg>\n                        </button>\n                      \n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            handleDeleteNotebook(notebook.id);\n                          }}\n                          className=\"p-1.5 bg-black hover:bg-red-600 border border-white rounded-md transition-colors text-gray-400 hover:text-red-400\"\n                          title=\"Delete collection\"\n                        >\n                          <Trash2 size={14} />\n                        </button>\n                      </div>\n                    </motion.div>\n                  );\n                })}\n              </div>\n            ) : (\n              <div className=\"border border-white p-8 text-center rounded-lg\"\n                   style={{ backgroundColor: 'rgba(0, 0, 0, 0.6)' }}>\n                <BookOpen size={48} className=\"text-gray-500 mx-auto mb-3\" />\n                <p className=\"text-gray-400 font-mono\">No log collections found. Deploy first collection to begin.</p>\n              </div>\n            )}\n          </div>\n        </motion.div>\n\n        {/* Player Logs Section */}\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.2 }}\n          className=\"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative rounded-lg\"\n          style={{\n            backgroundColor: 'rgba(0, 0, 0, 0.4)'\n          }}\n        >\n          <div className=\"relative z-10\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <div>\n                <h3 className=\"text-xl font-mono font-bold text-white flex items-center\">\n                  LOG ENTRIES ({notes.length})\n                </h3>\n                <p className=\"text-sm font-mono text-gray-400\">\n                  Individual log entries for storing notes, thoughts and ideas.\n                </p>\n              </div>\n              <button\n                onClick={handleViewAllNotes}\n                className=\"bg-black border-2 border-white px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden text-white hover:scale-105\"\n              >\n                <div className=\"flex items-center gap-2\">\n                  <Eye size={16} />\n                  <span>VIEW ALL</span>\n                </div>\n              </button>\n            </div>\n            \n            {notes.length > 0 ? (\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n                {notes\n                  .slice()\n                  .sort((a, b) => new Date(b.createdAt || b.updatedAt || 0) - new Date(a.createdAt || a.updatedAt || 0))\n                  .slice(0, 4)\n                  .map((note, index) => {\n                    const noteColor = note.color || '#4ADE80';\n                    const rgbColor = hexToRgb(noteColor);\n                    const tagsArray = Array.isArray(note.tags) ? note.tags : (note.tags ? note.tags.split(',').map(tag => tag.trim()) : []);\n\n                    return (\n                      <motion.div\n                        key={note.id}\n                        className=\"border-2 border-white p-4 cursor-pointer group relative transition-all duration-300 rounded-lg\"\n                        style={{\n                          backgroundColor: 'rgba(0, 0, 0, 0.6)',\n                          boxShadow: `0 0 25px rgba(${rgbColor}, 0.8), 4px 4px 0px 0px rgba(0,0,0,1)`,\n                        }}\n                        whileHover={{ \n                          scale: 1.02, \n                          y: -2,\n                          boxShadow: `0 0 40px rgba(${rgbColor}, 1), 4px 4px 0px 0px rgba(0,0,0,1)`\n                        }}\n                        whileTap={{ scale: 0.98 }}\n                        onClick={() => handleViewNote(note)}\n                      >\n                        <div className=\"flex items-start justify-between mb-3\">\n                          <FileText size={24} style={{ color: noteColor }} />\n                          <div className=\"text-xs font-mono text-gray-400 bg-black px-2 py-1 border border-white\">\n                            LOG\n                          </div>\n                        </div>\n                        <h4 className=\"font-mono font-bold text-white mb-2 truncate\" title={note.title}>\n                          {note.title}\n                        </h4>\n                        <p className=\"text-xs text-gray-400 mb-3 line-clamp-2\">\n                          {note.content && note.content.length > 100 \n                            ? `${note.content.substring(0, 100)}...` \n                            : note.content}\n                        </p>\n                      \n                        <div className=\"text-xs text-gray-400 mb-2\">\n                          {new Date(note.createdAt || note.updatedAt).toLocaleDateString()}\n                        </div>\n\n                        <div className=\"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleViewNote(note);\n                            }}\n                            className=\"p-1.5 bg-black hover:bg-gray-800 border border-white rounded-md transition-colors text-white\"\n                            title=\"View log entry\"\n                          >\n                            <Eye size={14} />\n                          </button>\n\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleEditNote(note);\n                            }}\n                            className=\"p-1.5 bg-black hover:bg-gray-800 border border-white rounded-md transition-colors text-white\"\n                            title=\"Edit log entry\"\n                          >\n                            <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n                              <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2-2v-7\" />\n                              <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" />\n                            </svg>\n                          </button>\n\n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleDeleteNote(note.id);\n                            }}\n                            className=\"p-1.5 bg-black hover:bg-red-600 border border-white rounded-md transition-colors text-gray-400 hover:text-red-400\"\n                            title=\"Delete log entry\"\n                          >\n                            <Trash2 size={14} />\n                          </button>\n                        </div>\n                      </motion.div>\n                    );\n                  })}\n              </div>\n            ) : (\n              <div className=\"border border-white p-8 text-center rounded-lg\"\n                   style={{ backgroundColor: 'rgba(0, 0, 0, 0.6)' }}>\n                <FileText size={48} className=\"text-gray-500 mx-auto mb-3\" />\n                <p className=\"text-gray-400 font-mono\">No log entries found. Create your first log entry to begin tracking.</p>\n              </div>\n            )}\n          </div>\n        </motion.div>\n      </div>\n\n      {/* Modals - Always render regardless of view */}\n      <NoteViewModal\n        isOpen={isNoteViewModalOpen}\n        onClose={() => setIsNoteViewModalOpen(false)}\n        onEdit={handleEditNoteFromView}\n        onDelete={handleDeleteNoteFromView}\n        note={viewingNote}\n      />\n\n      <NoteModal\n        isOpen={isCreateNoteModalOpen}\n        onClose={() => {\n          setIsCreateNoteModalOpen(false);\n          setEditingNote(null);\n          setDefaultFolderId(null);\n          setDefaultNotebookId(null);\n        }}\n        onSave={handleCreateNoteSubmit}\n        onDelete={handleDeleteNote}\n        folders={folders}\n        notebooks={notebooks}\n        existingNote={editingNote}\n        defaultFolderId={defaultFolderId}\n        defaultNotebookId={defaultNotebookId}\n      />\n\n      <FolderModal\n        isOpen={isFolderModalOpen}\n        onClose={() => {\n          setIsFolderModalOpen(false);\n          setEditingFolder(null);\n        }}\n        onSave={handleFolderSave}\n        existingFolder={editingFolder}\n      />\n\n      <NotebookModal\n        isOpen={isNotebookModalOpen}\n        onClose={() => {\n          setIsNotebookModalOpen(false);\n          setEditingNotebook(null);\n          setDefaultFolderId(null);\n        }}\n        onSave={handleNotebookSave}\n        existingNotebook={editingNotebook}\n        folders={folders}\n        defaultFolderId={defaultFolderId}\n      />\n    </div>\n  );\n};\n\nexport default LibraryTab;\n                         "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,KAAQ,eAAe,CACtC,OAASC,IAAI,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,QAAQ,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,GAAG,CAAEC,MAAM,KAAQ,cAAc,CACvG,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CACxC,MAAO,CAAAC,UAAU,KAAM,eAAe,CACtC,MAAO,CAAAC,UAAU,KAAM,wBAAwB,CAC/C,MAAO,CAAAC,YAAY,KAAM,0BAA0B,CACnD,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAC3C,MAAO,CAAAC,SAAS,KAAM,oBAAoB,CAC1C,MAAO,CAAAC,aAAa,KAAM,wBAAwB,CAClD,MAAO,CAAAC,WAAW,KAAM,uBAAuB,CAC/C,MAAO,CAAAC,aAAa,KAAM,yBAAyB,CACnD,MAAO,CAAAC,UAAU,KAAM,qBAAqB,CAC5C,MAAO,CAAAC,YAAY,KAAM,uBAAuB,CAChD,MAAO,CAAAC,YAAY,KAAM,uBAAuB,CAChD,MAAO,CAAAC,gBAAgB,KAAM,2BAA2B,CACxD,MAAO,CAAAC,cAAc,KAAM,yBAAyB,CACpD,OAASC,eAAe,KAAQ,oCAAoC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAErE,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAqD,IAApD,CAAEC,QAAQ,CAAG,SAAS,CAAEC,gBAAgB,CAAG,CAAC,CAAE,CAAC,CAAAF,IAAA,CACjE,KAAM,CAACG,UAAU,CAAEC,aAAa,CAAC,CAAGtC,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACuC,QAAQ,CAAEC,WAAW,CAAC,CAAGxC,QAAQ,CAAC,MAAM,CAAC,CAChD,KAAM,CAACyC,qBAAqB,CAAEC,wBAAwB,CAAC,CAAG1C,QAAQ,CAAC,KAAK,CAAC,CACzE,KAAM,CAAC2C,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG5C,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAAC6C,mBAAmB,CAAEC,sBAAsB,CAAC,CAAG9C,QAAQ,CAAC,KAAK,CAAC,CACrE,KAAM,CAAC+C,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGhD,QAAQ,CAAC,KAAK,CAAC,CACrE,KAAM,CAACiD,WAAW,CAAEC,cAAc,CAAC,CAAGlD,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACmD,aAAa,CAAEC,gBAAgB,CAAC,CAAGpD,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAACqD,eAAe,CAAEC,kBAAkB,CAAC,CAAGtD,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACuD,WAAW,CAAEC,cAAc,CAAC,CAAGxD,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACyD,WAAW,CAAEC,cAAc,CAAC,CAAG1D,QAAQ,CAAC,SAAS,CAAC,CACzD,KAAM,CAAC2D,cAAc,CAAEC,iBAAiB,CAAC,CAAG5D,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAAC6D,gBAAgB,CAAEC,mBAAmB,CAAC,CAAG9D,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAAC+D,eAAe,CAAEC,kBAAkB,CAAC,CAAGhE,QAAQ,CAAC,IAAI,CAAC,CAC5D,KAAM,CAACiE,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGlE,QAAQ,CAAC,IAAI,CAAC,CAEhE;AACA,KAAM,CAAEmE,OAAO,CAAEC,OAAO,CAAEC,cAAc,CAAEC,YAAY,CAAEC,YAAY,CAAEC,YAAa,CAAC,CAAG1D,UAAU,CAAC,CAAC,CACnG,KAAM,CAAE2D,SAAS,CAAEL,OAAO,CAAEM,gBAAgB,CAAEC,cAAc,CAAEC,cAAc,CAAEC,cAAe,CAAC,CAAG9D,YAAY,CAAC,CAAC,CAC/G,KAAM,CAAE+D,KAAK,CAAEV,OAAO,CAAEW,YAAY,CAAEC,UAAU,CAAEC,UAAU,CAAEC,UAAW,CAAC,CAAGlE,QAAQ,CAAC,CAAC,CACvF,KAAM,CAAEmE,gBAAiB,CAAC,CAAGzD,eAAe,CAAC,CAAC,CAE9C,KAAM,CAAA0C,OAAO,CAAGC,cAAc,EAAIK,gBAAgB,EAAIK,YAAY,CAElE;AACA,KAAM,CAAAK,QAAQ,CAAIC,GAAG,EAAK,CACxB,KAAM,CAAAC,MAAM,CAAG,2CAA2C,CAACC,IAAI,CAACF,GAAG,CAAC,CACpE,MAAO,CAAAC,MAAM,IAAAE,MAAA,CACRC,QAAQ,CAACH,MAAM,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,OAAAE,MAAA,CAAKC,QAAQ,CAACH,MAAM,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,OAAAE,MAAA,CAAKC,QAAQ,CAACH,MAAM,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,EAClF,cAAc,CAAE;AACpB,CAAC,CAED,KAAM,CAAAI,WAAW,CAAGN,QAAQ,CAACjD,QAAQ,CAAC,CAEtC;AACA,KAAM,CAAAwD,gBAAgB,CAAG,KAAO,CAAAC,MAAM,EAAK,CACzC,GAAIC,MAAM,CAACC,OAAO,CAAC,+EAA+E,CAAC,CAAE,CACnG,GAAI,CACF,KAAM,CAAAZ,UAAU,CAACU,MAAM,CAAC,CACxBT,gBAAgB,CAAC,iCAAiC,CAAE,SAAS,CAAC,CAChE,CAAE,MAAOY,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9CZ,gBAAgB,CAAC,+CAA+C,CAAE,OAAO,CAAC,CAC5E,CACF,CACF,CAAC,CAED,KAAM,CAAAc,oBAAoB,CAAG,KAAO,CAAAC,UAAU,EAAK,CACjD,GAAIL,MAAM,CAACC,OAAO,CAAC,gGAAgG,CAAC,CAAE,CACpH,GAAI,CACFE,OAAO,CAACG,GAAG,CAAC,4BAA4B,CAAED,UAAU,CAAC,CACrD,KAAM,CAAArB,cAAc,CAACqB,UAAU,CAAC,CAChCf,gBAAgB,CAAC,kCAAkC,CAAE,SAAS,CAAC,CACjE,CAAE,MAAOY,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClDC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAACK,OAAO,CAAC,CAC9CjB,gBAAgB,CAAC,gDAAgD,CAAE,OAAO,CAAC,CAC7E,CACF,CACF,CAAC,CAED,KAAM,CAAAkB,kBAAkB,CAAG,KAAO,CAAAC,QAAQ,EAAK,CAC7C,GAAIT,MAAM,CAACC,OAAO,CAAC,6GAA6G,CAAC,CAAE,CACjI,GAAI,CACF,KAAM,CAAAtB,YAAY,CAAC8B,QAAQ,CAAC,CAC5BnB,gBAAgB,CAAC,+BAA+B,CAAE,SAAS,CAAC,CAC9D,CAAE,MAAOY,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChDZ,gBAAgB,CAAC,6CAA6C,CAAE,OAAO,CAAC,CAC1E,CACF,CACF,CAAC,CAED;AACA,KAAM,CAAAoB,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAC,UAAU,CAAG,CACjBC,IAAI,gBAAAjB,MAAA,CAAiBrB,OAAO,CAACuC,MAAM,CAAG,CAAC,CAAE,CACzCC,WAAW,CAAE,yCAAyC,CACtDC,SAAS,CAAE,SAAS,CACpBC,cAAc,CAAE,IAClB,CAAC,CACD,KAAM,CAAAvC,YAAY,CAACkC,UAAU,CAAC,CAChC,CAAE,MAAOT,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CACF,CAAC,CAED,KAAM,CAAAe,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACvC,GAAI,CACF,KAAM,CAAAC,YAAY,CAAG,CACnBN,IAAI,mBAAAjB,MAAA,CAAoBf,SAAS,CAACiC,MAAM,CAAG,CAAC,CAAE,CAC9CC,WAAW,CAAE,qCAAqC,CAClDC,SAAS,CAAE,SACb,CAAC,CACD,KAAM,CAAAjC,cAAc,CAACoC,YAAY,CAAC,CACpC,CAAE,MAAOhB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACtD,CACF,CAAC,CAED,KAAM,CAAAiB,gBAAgB,CAAGA,CAAA,GAAM,CAC7BtE,wBAAwB,CAAC,IAAI,CAAC,CAChC,CAAC,CAED,KAAM,CAAAuE,cAAc,CAAIC,IAAI,EAAK,CAC/B1D,cAAc,CAAC0D,IAAI,CAAC,CACpBxE,wBAAwB,CAAC,IAAI,CAAC,CAChC,CAAC,CAED,KAAM,CAAAyE,cAAc,CAAID,IAAI,EAAK,CAC/BhE,cAAc,CAACgE,IAAI,CAAC,CACpBlE,sBAAsB,CAAC,IAAI,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAoE,sBAAsB,CAAGA,CAAA,GAAM,CACnC,KAAM,CAAAC,UAAU,CAAGpE,WAAW,CAC9BD,sBAAsB,CAAC,KAAK,CAAC,CAC7BE,cAAc,CAAC,IAAI,CAAC,CACpB+D,cAAc,CAACI,UAAU,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAC,wBAAwB,CAAG,KAAAA,CAAA,GAAY,CAC3C,GAAIrE,WAAW,CAAE,CACf,KAAM,CAAA0C,gBAAgB,CAAC1C,WAAW,CAACsE,EAAE,CAAC,CACtCvE,sBAAsB,CAAC,KAAK,CAAC,CAC7BE,cAAc,CAAC,IAAI,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAsE,sBAAsB,CAAG,KAAO,CAAAC,QAAQ,EAAK,CACjD,GAAI,CACFzB,OAAO,CAACG,GAAG,CAAC,sBAAsB,CAAE,CAAE5C,WAAW,CAAEkE,QAAS,CAAC,CAAC,CAE9D,GAAIlE,WAAW,CAAE,CACfyC,OAAO,CAACG,GAAG,CAAC,6BAA6B,CAAE5C,WAAW,CAACgE,EAAE,CAAC,CAC1D,KAAM,CAAAtC,UAAU,CAAC1B,WAAW,CAACgE,EAAE,CAAEE,QAAQ,CAAC,CAC1CzB,OAAO,CAACG,GAAG,CAAC,gCAAgC,CAAC,CAC/C,CAAC,IAAM,CACLH,OAAO,CAACG,GAAG,CAAC,wBAAwB,CAAC,CACrC,KAAM,CAAAnB,UAAU,CAACyC,QAAQ,CAAC,CAC1BzB,OAAO,CAACG,GAAG,CAAC,iCAAiC,CAAC,CAChD,CAEA3C,cAAc,CAAC,IAAI,CAAC,CACpBd,wBAAwB,CAAC,KAAK,CAAC,CAEjC,CAAE,MAAOqD,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpD2B,KAAK,CAAC,gDAAgD,CAAC,CACzD,CACF,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAIC,MAAM,EAAK,CACnCxE,gBAAgB,CAACwE,MAAM,CAAC,CACxBhF,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAiF,gBAAgB,CAAID,MAAM,EAAK,CACnChE,iBAAiB,CAACgE,MAAM,CAAC,CACzBlE,cAAc,CAAC,QAAQ,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAoE,kBAAkB,CAAIC,QAAQ,EAAK,CACvCjE,mBAAmB,CAACiE,QAAQ,CAAC,CAC7BrE,cAAc,CAAC,UAAU,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAsE,mBAAmB,CAAGA,CAAA,GAAM,CAChC;AACAtE,cAAc,CAAC,SAAS,CAAC,CACzBE,iBAAiB,CAAC,IAAI,CAAC,CACvBE,mBAAmB,CAAC,IAAI,CAAC,CACzBN,cAAc,CAAC,IAAI,CAAC,CACpBF,kBAAkB,CAAC,IAAI,CAAC,CACxBF,gBAAgB,CAAC,IAAI,CAAC,CACtBV,wBAAwB,CAAC,KAAK,CAAC,CAC/BI,sBAAsB,CAAC,KAAK,CAAC,CAC7BF,oBAAoB,CAAC,KAAK,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAqF,kBAAkB,CAAGA,CAAA,GAAM,CAC/BvE,cAAc,CAAC,UAAU,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAwE,sBAAsB,CAAIhB,IAAI,EAAK,CACvC1D,cAAc,CAAC0D,IAAI,CAAC,CACpBxE,wBAAwB,CAAC,IAAI,CAAC,CAC9BgB,cAAc,CAAC,SAAS,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAyE,sBAAsB,CAAGA,CAAA,GAAM,CACnCzE,cAAc,CAAC,cAAc,CAAC,CAChC,CAAC,CAED,KAAM,CAAA0E,oBAAoB,CAAGA,CAAA,GAAM,CACjC1E,cAAc,CAAC,YAAY,CAAC,CAC9B,CAAC,CAED,KAAM,CAAA2E,gBAAgB,CAAG,cAAAA,CAAOC,QAAQ,CAAwB,IAAtB,CAAA9B,UAAU,CAAA+B,SAAA,CAAA7B,MAAA,IAAA6B,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG,IAAI,CACzD,GAAI,CACF,GAAIpF,aAAa,EAAIqD,UAAU,CAAE,CAC/B,KAAM,CAAAjC,YAAY,CAAC+D,QAAQ,CAAE9B,UAAU,CAAC,CAC1C,CAAC,IAAM,CACL,KAAM,CAAAlC,YAAY,CAACgE,QAAQ,CAAC,CAC9B,CACAlF,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAE,MAAO2C,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACjD,CACF,CAAC,CAED,KAAM,CAAA0C,kBAAkB,CAAIV,QAAQ,EAAK,CACvCzE,kBAAkB,CAACyE,QAAQ,CAAC,CAC5BjF,sBAAsB,CAAC,IAAI,CAAC,CAC9B,CAAC,CAED,KAAM,CAAA4F,kBAAkB,CAAG,cAAAA,CAAOJ,QAAQ,CAA0B,IAAxB,CAAAvB,YAAY,CAAAwB,SAAA,CAAA7B,MAAA,IAAA6B,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG,IAAI,CAC7D,GAAI,CACFvC,OAAO,CAACG,GAAG,CAAC,iCAAiC,CAAE,CAAEmC,QAAQ,CAAEvB,YAAY,CAAE1D,eAAgB,CAAC,CAAC,CAE3F,GAAIA,eAAe,EAAI0D,YAAY,CAAE,CACnCf,OAAO,CAACG,GAAG,CAAC,kCAAkC,CAAEY,YAAY,CAACT,QAAQ,CAAC,CACtE,KAAM,CAAA1B,cAAc,CAAC0D,QAAQ,CAAEvB,YAAY,CAAC,CAC9C,CAAC,IAAM,CACLf,OAAO,CAACG,GAAG,CAAC,kCAAkC,CAAEmC,QAAQ,CAAChC,QAAQ,CAAC,CAClE,KAAM,CAAA3B,cAAc,CAAC2D,QAAQ,CAAC,CAChC,CACAhF,kBAAkB,CAAC,IAAI,CAAC,CACxBR,sBAAsB,CAAC,KAAK,CAAC,CAC/B,CAAE,MAAOiD,KAAK,CAAE,KAAA4C,eAAA,CACd3C,OAAO,CAACD,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CAClDC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAE,EAAA4C,eAAA,CAAA5C,KAAK,CAAC6C,QAAQ,UAAAD,eAAA,iBAAdA,eAAA,CAAgBE,IAAI,GAAI9C,KAAK,CAACK,OAAO,CAAC,CACxE,CACF,CAAC,CAED;AACA,KAAM,CAAA0C,oBAAoB,CAAI5C,UAAU,EAAK,CAC3C,MAAO,CAAApB,KAAK,CAACiE,MAAM,CAAC7B,IAAI,EAAIA,IAAI,CAAChB,UAAU,GAAKA,UAAU,CAAC,CAACQ,MAAM,CACpE,CAAC,CAED,KAAM,CAAAsC,kBAAkB,CAAI1C,QAAQ,EAAK,CACvC,KAAM,CAAA2C,WAAW,CAAGnE,KAAK,CAACiE,MAAM,CAAC7B,IAAI,EAAIA,IAAI,CAACZ,QAAQ,GAAKA,QAAQ,CAAC,CACpE,KAAM,CAAA4C,eAAe,CAAGzE,SAAS,CAACsE,MAAM,CAAChB,QAAQ,EAAIA,QAAQ,CAACzB,QAAQ,GAAKA,QAAQ,CAAC,CACpF,MAAO,CAAA2C,WAAW,CAACvC,MAAM,CAAGwC,eAAe,CAACxC,MAAM,CACpD,CAAC,CAEDzG,SAAS,CAAC,IAAM,CACd,GAAI,CAAAmC,gBAAgB,SAAhBA,gBAAgB,iBAAhBA,gBAAgB,CAAE+G,IAAI,IAAK,UAAU,CAAE,CACzCzF,cAAc,CAAC,UAAU,CAAC,CAC5B,CAAC,IAAM,IAAI,CAAAtB,gBAAgB,SAAhBA,gBAAgB,iBAAhBA,gBAAgB,CAAE+G,IAAI,IAAK,QAAQ,EAAI/G,gBAAgB,SAAhBA,gBAAgB,WAAhBA,gBAAgB,CAAEuB,cAAc,CAAE,CAClFD,cAAc,CAAC,QAAQ,CAAC,CACxBE,iBAAiB,CAACxB,gBAAgB,CAACuB,cAAc,CAAC,CACpD,CACF,CAAC,CAAE,CAACvB,gBAAgB,CAAC,CAAC,CAEtB,GAAIgC,OAAO,CAAE,CACX,mBACExC,IAAA,QAAKwH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACxCzH,IAAA,QAAKwH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,cACpDzH,IAAA,QAAAyH,QAAA,CAAK,4BAA0B,CAAK,CAAC,CAClC,CAAC,CACH,CAAC,CAEV,CAEA;AACA,GAAI5F,WAAW,GAAK,QAAQ,EAAIE,cAAc,CAAE,CAC9C;AACA,KAAM,CAAAuF,eAAe,CAAGzE,SAAS,CAACsE,MAAM,CAAChB,QAAQ,EAAIA,QAAQ,CAACzB,QAAQ,GAAK3C,cAAc,CAAC4D,EAAE,CAAC,CAC7F,KAAM,CAAA+B,WAAW,CAAGJ,eAAe,CAACK,GAAG,CAACC,EAAE,EAAIA,EAAE,CAACjC,EAAE,CAAC,CAEpD;AACA;AACA;AACA,KAAM,CAAA0B,WAAW,CAAGnE,KAAK,CAACiE,MAAM,CAAC7B,IAAI,EACnCA,IAAI,CAACZ,QAAQ,GAAK3C,cAAc,CAAC4D,EAAE,EAClCL,IAAI,CAAChB,UAAU,EAAIoD,WAAW,CAACG,QAAQ,CAACvC,IAAI,CAAChB,UAAU,CAC1D,CAAC,CAED,mBACEpE,KAAA,QAAKsH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCzH,IAAA,CAACP,UAAU,EACTuG,MAAM,CAAEjE,cAAe,CACvB+F,MAAM,CAAE1B,mBAAoB,CAC5B2B,YAAY,CAAEA,CAAA,GAAM,CAClBnG,cAAc,CAAC,IAAI,CAAC,CACpBQ,kBAAkB,CAACL,cAAc,CAAC4D,EAAE,CAAC,CAAG;AACxC7E,wBAAwB,CAAC,IAAI,CAAC,CAChC,CAAE,CACFkH,UAAU,CAAE3C,cAAe,CAC3B4C,YAAY,CAAElE,gBAAiB,CAC/BmE,gBAAgB,CAAE7D,oBAAqB,CACvC8D,cAAc,CAAEjC,kBAAmB,CACnCkC,gBAAgB,CAAEA,CAAA,GAAM,CACtB1G,kBAAkB,CAAC,IAAI,CAAC,CACxBU,kBAAkB,CAACL,cAAc,CAAC4D,EAAE,CAAC,CAAG;AACxCzE,sBAAsB,CAAC,IAAI,CAAC,CAC9B,CAAE,CACFmH,cAAc,CAAExB,kBAAmB,CACnCtE,OAAO,CAAEA,OAAQ,CACjBM,SAAS,CAAEyE,eAAgB,CAC3BpE,KAAK,CAAEmE,WAAY,CACpB,CAAC,cAGFrH,IAAA,CAACV,aAAa,EACZgJ,MAAM,CAAEnH,mBAAoB,CAC5BoH,OAAO,CAAEA,CAAA,GAAMnH,sBAAsB,CAAC,KAAK,CAAE,CAC7CoH,MAAM,CAAEhD,sBAAuB,CAC/BiD,QAAQ,CAAE/C,wBAAyB,CACnCJ,IAAI,CAAEjE,WAAY,CACnB,CAAC,cAEFrB,IAAA,CAACX,SAAS,EACRiJ,MAAM,CAAEzH,qBAAsB,CAC9B0H,OAAO,CAAEA,CAAA,GAAM,CACbzH,wBAAwB,CAAC,KAAK,CAAC,CAC/Bc,cAAc,CAAC,IAAI,CAAC,CACpBQ,kBAAkB,CAAC,IAAI,CAAC,CACxBE,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAE,CACFoG,MAAM,CAAE9C,sBAAuB,CAC/B6C,QAAQ,CAAE1E,gBAAiB,CAC3BxB,OAAO,CAAEA,OAAQ,CACjBM,SAAS,CAAEA,SAAU,CACrB8F,YAAY,CAAEhH,WAAY,CAC1BQ,eAAe,CAAEA,eAAgB,CACjCE,iBAAiB,CAAEA,iBAAkB,CACtC,CAAC,cAEFrC,IAAA,CAACT,WAAW,EACV+I,MAAM,CAAEvH,iBAAkB,CAC1BwH,OAAO,CAAEA,CAAA,GAAM,CACbvH,oBAAoB,CAAC,KAAK,CAAC,CAC3BQ,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAE,CACFkH,MAAM,CAAEjC,gBAAiB,CACzBmC,cAAc,CAAErH,aAAc,CAC/B,CAAC,cAEFvB,IAAA,CAACR,aAAa,EACZ8I,MAAM,CAAErH,mBAAoB,CAC5BsH,OAAO,CAAEA,CAAA,GAAM,CACbrH,sBAAsB,CAAC,KAAK,CAAC,CAC7BQ,kBAAkB,CAAC,IAAI,CAAC,CACxBU,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAE,CACFsG,MAAM,CAAE5B,kBAAmB,CAC3B+B,gBAAgB,CAAEpH,eAAgB,CAClCc,OAAO,CAAEA,OAAQ,CACjBJ,eAAe,CAAEA,eAAgB,CAClC,CAAC,EACC,CAAC,CAEV,CAEA,GAAIN,WAAW,GAAK,UAAU,EAAII,gBAAgB,CAAE,CAClD,mBACE/B,KAAA,QAAKsH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eACxCzH,IAAA,CAACN,YAAY,EACXyG,QAAQ,CAAElE,gBAAiB,CAC3B6F,MAAM,CAAE1B,mBAAoB,CAC5B2B,YAAY,CAAEnC,sBAAuB,CACrCoC,UAAU,CAAEpC,sBAAuB,CACnCqC,YAAY,CAAElE,gBAAiB,CAC/BmE,gBAAgB,CAAE7D,oBAAqB,CACvC9B,OAAO,CAAEA,OAAQ,CACjBM,SAAS,CAAEA,SAAU,CACrBK,KAAK,CAAEA,KAAM,CACd,CAAC,cAGFlD,IAAA,CAACV,aAAa,EACZgJ,MAAM,CAAEnH,mBAAoB,CAC5BoH,OAAO,CAAEA,CAAA,GAAMnH,sBAAsB,CAAC,KAAK,CAAE,CAC7CoH,MAAM,CAAEhD,sBAAuB,CAC/BiD,QAAQ,CAAE/C,wBAAyB,CACnCJ,IAAI,CAAEjE,WAAY,CACnB,CAAC,cAEFrB,IAAA,CAACX,SAAS,EACRiJ,MAAM,CAAEzH,qBAAsB,CAC9B0H,OAAO,CAAEA,CAAA,GAAM,CACbzH,wBAAwB,CAAC,KAAK,CAAC,CAC/Bc,cAAc,CAAC,IAAI,CAAC,CACpBQ,kBAAkB,CAAC,IAAI,CAAC,CACxBE,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAE,CACFoG,MAAM,CAAE9C,sBAAuB,CAC/B6C,QAAQ,CAAE1E,gBAAiB,CAC3BxB,OAAO,CAAEA,OAAQ,CACjBM,SAAS,CAAEA,SAAU,CACrB8F,YAAY,CAAEhH,WAAY,CAC1BQ,eAAe,CAAEA,eAAgB,CACjCE,iBAAiB,CAAEA,iBAAkB,CACtC,CAAC,cAEFrC,IAAA,CAACT,WAAW,EACV+I,MAAM,CAAEvH,iBAAkB,CAC1BwH,OAAO,CAAEA,CAAA,GAAM,CACbvH,oBAAoB,CAAC,KAAK,CAAC,CAC3BQ,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAE,CACFkH,MAAM,CAAEjC,gBAAiB,CACzBmC,cAAc,CAAErH,aAAc,CAC/B,CAAC,cAEFvB,IAAA,CAACR,aAAa,EACZ8I,MAAM,CAAErH,mBAAoB,CAC5BsH,OAAO,CAAEA,CAAA,GAAM,CACbrH,sBAAsB,CAAC,KAAK,CAAC,CAC7BQ,kBAAkB,CAAC,IAAI,CAAC,CACxBU,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAE,CACFsG,MAAM,CAAE5B,kBAAmB,CAC3B+B,gBAAgB,CAAEpH,eAAgB,CAClCc,OAAO,CAAEA,OAAQ,CACjBJ,eAAe,CAAEA,eAAgB,CAClC,CAAC,EACC,CAAC,CAEV,CAEA,GAAIN,WAAW,GAAK,UAAU,CAAE,CAC9B,mBACE3B,KAAA,CAAAE,SAAA,EAAAqH,QAAA,eACEzH,IAAA,CAACL,YAAY,EACXuD,KAAK,CAAEA,KAAM,CACb4E,MAAM,CAAEA,CAAA,GAAMhG,cAAc,CAAC,SAAS,CAAE,CACxCiG,YAAY,CAAEA,CAAA,GAAM,CAClBnG,cAAc,CAAC,IAAI,CAAC,CACpBd,wBAAwB,CAAC,IAAI,CAAC,CAChC,CAAE,CACFkH,UAAU,CAAE1B,sBAAuB,CACnC2B,YAAY,CAAElE,gBAAiB,CAC/BxB,OAAO,CAAEA,OAAQ,CACjBM,SAAS,CAAEA,SAAU,CACtB,CAAC,cAEF7C,IAAA,CAACX,SAAS,EACRiJ,MAAM,CAAEzH,qBAAsB,CAC9B0H,OAAO,CAAEA,CAAA,GAAM,CACbzH,wBAAwB,CAAC,KAAK,CAAC,CAC/Bc,cAAc,CAAC,IAAI,CAAC,CACpBQ,kBAAkB,CAAC,IAAI,CAAC,CAAG;AAC3BE,oBAAoB,CAAC,IAAI,CAAC,CAAG;AAC/B,CAAE,CACFoG,MAAM,CAAE9C,sBAAuB,CAC/B6C,QAAQ,CAAE1E,gBAAiB,CAC3BxB,OAAO,CAAEA,OAAQ,CACjBM,SAAS,CAAEA,SAAU,CACrB8F,YAAY,CAAEhH,WAAY,CAC1BQ,eAAe,CAAEA,eAAkB;AAAA,CACnCE,iBAAiB,CAAEA,iBAAoB;AAAA,CACxC,CAAC,EACF,CAAC,CAEP,CAEA,GAAIR,WAAW,GAAK,cAAc,CAAE,CAClC,mBACE3B,KAAA,CAAAE,SAAA,EAAAqH,QAAA,eACEzH,IAAA,CAACJ,gBAAgB,EACfiD,SAAS,CAAEA,SAAU,CACrBiF,MAAM,CAAEA,CAAA,GAAMhG,cAAc,CAAC,SAAS,CAAE,CACxCsG,gBAAgB,CAAEA,CAAA,GAAM,CACtB1G,kBAAkB,CAAC,IAAI,CAAC,CACxBR,sBAAsB,CAAC,IAAI,CAAC,CAC9B,CAAE,CACFmH,cAAc,CAAExB,kBAAmB,CACnCqB,gBAAgB,CAAE7D,oBAAqB,CACvC8D,cAAc,CAAEjC,kBAAmB,CACnC3D,OAAO,CAAEA,OAAQ,CAClB,CAAC,cAEFvC,IAAA,CAACR,aAAa,EACZ8I,MAAM,CAAErH,mBAAoB,CAC5BsH,OAAO,CAAEA,CAAA,GAAM,CACbrH,sBAAsB,CAAC,KAAK,CAAC,CAC7BQ,kBAAkB,CAAC,IAAI,CAAC,CACxBU,kBAAkB,CAAC,IAAI,CAAC,CAAG;AAC7B,CAAE,CACFsG,MAAM,CAAE5B,kBAAmB,CAC3B+B,gBAAgB,CAAEpH,eAAgB,CAClCc,OAAO,CAAEA,OAAQ,CACjBJ,eAAe,CAAEA,eAAkB;AAAA,CACpC,CAAC,EACF,CAAC,CAEP,CAEA,GAAIN,WAAW,GAAK,YAAY,CAAE,CAChC,mBACE3B,KAAA,QAAKsH,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpCzH,IAAA,CAACH,cAAc,EACb0C,OAAO,CAAEA,OAAQ,CACjBuF,MAAM,CAAE1B,mBAAoB,CAC5B0C,cAAc,CAAEA,CAAA,GAAM9H,oBAAoB,CAAC,IAAI,CAAE,CACjD+H,YAAY,CAAEhD,gBAAiB,CAC/BiD,YAAY,CAAE/C,gBAAiB,CAChC,CAAC,cAGFjG,IAAA,CAACT,WAAW,EACV+I,MAAM,CAAEvH,iBAAkB,CAC1BwH,OAAO,CAAEA,CAAA,GAAM,CACbvH,oBAAoB,CAAC,KAAK,CAAC,CAC3BQ,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAE,CACFkH,MAAM,CAAEjC,gBAAiB,CACzBmC,cAAc,CAAErH,aAAc,CAC/B,CAAC,EACC,CAAC,CAEV,CAEA,mBACErB,KAAA,QAAKsH,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAExCzH,IAAA,QAAKwH,SAAS,CAAC,2FAA2F,CACrGyB,KAAK,CAAE,CACLC,eAAe,CAAE,oBACnB,CAAE,CAAAzB,QAAA,cACLvH,KAAA,QAAKsH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAE5BvH,KAAA,QAAKsH,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDvH,KAAA,QAAAuH,QAAA,eACEzH,IAAA,OAAIwH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,cAC1EzH,IAAA,MAAGwH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,6CAA2C,CAAG,CAAC,EAC3F,CAAC,cACNvH,KAAA,QAAKsH,SAAS,CAAC,yDAAyD,CAAAC,QAAA,eACtEvH,KAAA,SAAAuH,QAAA,eAAMzH,IAAA,SAAMwH,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAElF,OAAO,CAACuC,MAAM,CAAO,CAAC,YAAS,EAAM,CAAC,cACpF5E,KAAA,SAAAuH,QAAA,eAAMzH,IAAA,SAAMwH,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAE5E,SAAS,CAACiC,MAAM,CAAO,CAAC,eAAY,EAAM,CAAC,cACzF5E,KAAA,SAAAuH,QAAA,eAAMzH,IAAA,SAAMwH,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAAEvE,KAAK,CAAC4B,MAAM,CAAO,CAAC,QAAK,EAAM,CAAC,EAC3E,CAAC,EACH,CAAC,cAGN5E,KAAA,QAAKsH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDvH,KAAA,WACEiJ,OAAO,CAAEA,CAAA,GAAMrI,wBAAwB,CAAC,IAAI,CAAE,CAC9C0G,SAAS,CAAC,2JAA2J,CAAAC,QAAA,eAErKzH,IAAA,CAACtB,QAAQ,EAAC0K,IAAI,CAAE,EAAG,CAAE,CAAC,cACtBpJ,IAAA,SAAAyH,QAAA,CAAM,SAAO,CAAM,CAAC,EACd,CAAC,cAETvH,KAAA,WACEiJ,OAAO,CAAEA,CAAA,GAAMjI,sBAAsB,CAAC,IAAI,CAAE,CAC5CsG,SAAS,CAAC,2JAA2J,CAAAC,QAAA,eAErKzH,IAAA,CAACvB,QAAQ,EAAC2K,IAAI,CAAE,EAAG,CAAE,CAAC,cACtBpJ,IAAA,SAAAyH,QAAA,CAAM,gBAAc,CAAM,CAAC,EACrB,CAAC,cAETvH,KAAA,WACEiJ,OAAO,CAAEA,CAAA,GAAMnI,oBAAoB,CAAC,IAAI,CAAE,CAC1CwG,SAAS,CAAC,2JAA2J,CAAAC,QAAA,eAErKzH,IAAA,CAACxB,MAAM,EAAC4K,IAAI,CAAE,EAAG,CAAE,CAAC,cACpBpJ,IAAA,SAAAyH,QAAA,CAAM,aAAW,CAAM,CAAC,EAClB,CAAC,cAETvH,KAAA,WACEiJ,OAAO,CAAE,KAAAA,CAAA,GAAY,CACnB,GAAI,CACF/E,OAAO,CAACG,GAAG,CAAC,kDAAkD,CAAC,CAE/D,KAAM,CAAAyC,QAAQ,CAAG,KAAM,CAAAqC,KAAK,sCAAsC,CAAC,CAEnE,GAAIrC,QAAQ,CAACsC,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAvC,QAAQ,CAACuC,IAAI,CAAC,CAAC,CAClC,KAAM,CAAAC,GAAG,CAAGvF,MAAM,CAACwF,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC,CAC5C,KAAM,CAAAI,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGN,GAAG,CACZG,CAAC,CAACI,QAAQ,wBAAAnG,MAAA,CAA0B,GAAI,CAAAoG,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,CAAE,EAAE,CAAC,OAAK,CAC9EN,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACT,CAAC,CAAC,CAC5BA,CAAC,CAACU,KAAK,CAAC,CAAC,CACTpG,MAAM,CAACwF,GAAG,CAACa,eAAe,CAACd,GAAG,CAAC,CAC/BI,QAAQ,CAACO,IAAI,CAACI,WAAW,CAACZ,CAAC,CAAC,CAE5BpG,gBAAgB,CAAC,uEAAuE,CAAE,SAAS,CAAC,CACtG,CAAC,IAAM,CACL,KAAM,IAAI,CAAAiH,KAAK,CAAC,eAAe,CAAC,CAClC,CACF,CAAE,MAAOrG,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrCZ,gBAAgB,CAAC,wCAAwC,CAAE,OAAO,CAAC,CACrE,CACF,CAAE,CACFiE,SAAS,CAAC,2JAA2J,CAAAC,QAAA,eAErKzH,IAAA,CAACpB,QAAQ,EAACwK,IAAI,CAAE,EAAG,CAAE,CAAC,cACtBpJ,IAAA,SAAAyH,QAAA,CAAM,YAAU,CAAM,CAAC,EACjB,CAAC,cAETvH,KAAA,QAAKsH,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBzH,IAAA,CAACrB,MAAM,EAACyK,IAAI,CAAE,EAAG,CAAC5B,SAAS,CAAC,kEAAkE,CAAE,CAAC,cACjGxH,IAAA,UACEyK,KAAK,CAAEhK,UAAW,CAClBiK,QAAQ,CAAGC,CAAC,EAAKjK,aAAa,CAACiK,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC/CI,WAAW,CAAC,WAAW,CACvBrD,SAAS,CAAC,yHAAyH,CACpI,CAAC,EACC,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cAGNtH,KAAA,QAAKsH,SAAS,CAAC,WAAW,CAAAC,QAAA,eAExBzH,IAAA,CAAC1B,MAAM,CAACwM,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC/BC,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9BzD,SAAS,CAAC,sFAAsF,CAChGyB,KAAK,CAAE,CACLC,eAAe,CAAE,oBACnB,CAAE,CAAAzB,QAAA,cAEFvH,KAAA,QAAKsH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BvH,KAAA,QAAKsH,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDvH,KAAA,QAAAuH,QAAA,eACEvH,KAAA,OAAIsH,SAAS,CAAC,0DAA0D,CAAAC,QAAA,EAAC,YAC7D,CAAClF,OAAO,CAACuC,MAAM,CAAC,GAC5B,EAAI,CAAC,cACL9E,IAAA,MAAGwH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,+DAE/C,CAAG,CAAC,EACD,CAAC,cACNzH,IAAA,WACEmJ,OAAO,CAAE3C,oBAAqB,CAC9BgB,SAAS,CAAC,mKAAmK,CAAAC,QAAA,cAE7KvH,KAAA,QAAKsH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCzH,IAAA,CAAClB,GAAG,EAACsK,IAAI,CAAE,EAAG,CAAE,CAAC,cACjBpJ,IAAA,SAAAyH,QAAA,CAAM,UAAQ,CAAM,CAAC,EAClB,CAAC,CACA,CAAC,EACN,CAAC,CAELlF,OAAO,CAACuC,MAAM,CAAG,CAAC,cACjB9E,IAAA,QAAKwH,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CACjFlF,OAAO,CAAC2H,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACvC,GAAG,CAAC3B,MAAM,EAAI,CACjC,KAAM,CAAAmF,WAAW,CAAGnF,MAAM,CAAChB,SAAS,EAAI,SAAS,CACjD,KAAM,CAAAoG,QAAQ,CAAGD,WAAW,CAACE,UAAU,CAAC,GAAG,CAAC,IAAAzH,MAAA,CACrCC,QAAQ,CAACsH,WAAW,CAACjB,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,EAAE,CAAC,OAAAtG,MAAA,CAAKC,QAAQ,CAACsH,WAAW,CAACjB,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,EAAE,CAAC,OAAAtG,MAAA,CAAKC,QAAQ,CAACsH,WAAW,CAACjB,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,EAAE,CAAC,EAC5H,cAAc,CAElB,KAAM,CAAAoB,SAAS,CAAGlE,kBAAkB,CAACpB,MAAM,CAACL,EAAE,CAAC,CAE/C,mBACEzF,KAAA,CAAC5B,MAAM,CAACwM,GAAG,EAETtD,SAAS,CAAC,gGAAgG,CAC1GyB,KAAK,CAAE,CACLC,eAAe,CAAE,oBAAoB,CACrCqC,SAAS,kBAAA3H,MAAA,CAAmBwH,QAAQ,yCACtC,CAAE,CACFI,UAAU,CAAE,CACVC,KAAK,CAAE,IAAI,CACXR,CAAC,CAAE,CAAC,CAAC,CACLM,SAAS,kBAAA3H,MAAA,CAAmBwH,QAAQ,uCACtC,CAAE,CACFM,QAAQ,CAAE,CAAED,KAAK,CAAE,IAAK,CAAE,CAC1BtC,OAAO,CAAEA,CAAA,GAAMlD,gBAAgB,CAACD,MAAM,CAAE,CAAAyB,QAAA,eAExCvH,KAAA,QAAKsH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDzH,IAAA,CAACxB,MAAM,EAAC4K,IAAI,CAAE,EAAG,CAACH,KAAK,CAAE,CAAE0C,KAAK,CAAER,WAAY,CAAE,CAAE,CAAC,cACnDnL,IAAA,QAAKwH,SAAS,CAAC,wEAAwE,CAAAC,QAAA,CAAC,SAExF,CAAK,CAAC,EACH,CAAC,cACNzH,IAAA,OAAIwH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAEzB,MAAM,CAACnB,IAAI,CAAK,CAAC,cAC/E7E,IAAA,MAAGwH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAEzB,MAAM,CAACjB,WAAW,EAAI,yBAAyB,CAAI,CAAC,cAE5G7E,KAAA,QAAKsH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EACxC6D,SAAS,CAAC,QACb,EAAK,CAAC,cAENpL,KAAA,QAAKsH,SAAS,CAAC,2FAA2F,CAAAC,QAAA,eACxGzH,IAAA,WACEmJ,OAAO,CAAGwB,CAAC,EAAK,CACdA,CAAC,CAACiB,eAAe,CAAC,CAAC,CACnB7F,gBAAgB,CAACC,MAAM,CAAC,CAC1B,CAAE,CACFwB,SAAS,CAAC,8FAA8F,CACxGqE,KAAK,CAAC,gBAAgB,CAAApE,QAAA,cAEtBvH,KAAA,QAAK4L,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAA1E,QAAA,eAC/FzH,IAAA,SAAMoM,CAAC,CAAC,2CAA2C,CAAE,CAAC,cACtDpM,IAAA,SAAMoM,CAAC,CAAC,yDAAyD,CAAE,CAAC,EACjE,CAAC,CACA,CAAC,cAETpM,IAAA,WACEmJ,OAAO,CAAGwB,CAAC,EAAK,CACdA,CAAC,CAACiB,eAAe,CAAC,CAAC,CACnBnH,kBAAkB,CAACuB,MAAM,CAACL,EAAE,CAAC,CAC/B,CAAE,CACF6B,SAAS,CAAC,mHAAmH,CAC7HqE,KAAK,CAAC,gBAAgB,CAAApE,QAAA,cAEtBzH,IAAA,CAACjB,MAAM,EAACqK,IAAI,CAAE,EAAG,CAAE,CAAC,CACd,CAAC,EACN,CAAC,GApDDpD,MAAM,CAACL,EAqDF,CAAC,CAEjB,CAAC,CAAC,CACC,CAAC,cAENzF,KAAA,QAAKsH,SAAS,CAAC,gDAAgD,CAC1DyB,KAAK,CAAE,CAAEC,eAAe,CAAE,oBAAqB,CAAE,CAAAzB,QAAA,eACpDzH,IAAA,CAACxB,MAAM,EAAC4K,IAAI,CAAE,EAAG,CAAC5B,SAAS,CAAC,4BAA4B,CAAE,CAAC,cAC3DxH,IAAA,MAAGwH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,6DAA2D,CAAG,CAAC,EACnG,CACN,EACE,CAAC,CACI,CAAC,cAGbzH,IAAA,CAAC1B,MAAM,CAACwM,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC/BC,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9BoB,UAAU,CAAE,CAAEC,KAAK,CAAE,GAAI,CAAE,CAC3B9E,SAAS,CAAC,sFAAsF,CAChGyB,KAAK,CAAE,CACLC,eAAe,CAAE,oBACnB,CAAE,CAAAzB,QAAA,cAEFvH,KAAA,QAAKsH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BvH,KAAA,QAAKsH,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDvH,KAAA,QAAAuH,QAAA,eACEvH,KAAA,OAAIsH,SAAS,CAAC,0DAA0D,CAAAC,QAAA,EAAC,eAC1D,CAAC5E,SAAS,CAACiC,MAAM,CAAC,GACjC,EAAI,CAAC,cACL9E,IAAA,MAAGwH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,uEAE/C,CAAG,CAAC,EACD,CAAC,cACNzH,IAAA,WACEmJ,OAAO,CAAE5C,sBAAuB,CAChCiB,SAAS,CAAC,mKAAmK,CAAAC,QAAA,cAE7KvH,KAAA,QAAKsH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCzH,IAAA,CAAClB,GAAG,EAACsK,IAAI,CAAE,EAAG,CAAE,CAAC,cACjBpJ,IAAA,SAAAyH,QAAA,CAAM,UAAQ,CAAM,CAAC,EAClB,CAAC,CACA,CAAC,EACN,CAAC,CAEL5E,SAAS,CAACiC,MAAM,CAAG,CAAC,cACnB9E,IAAA,QAAKwH,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CACjF5E,SAAS,CAACqH,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAACvC,GAAG,CAACxB,QAAQ,EAAI,CACrC,KAAM,CAAAoG,aAAa,CAAGpG,QAAQ,CAACnB,SAAS,EAAI,SAAS,CACrD,KAAM,CAAAoG,QAAQ,CAAGmB,aAAa,CAAClB,UAAU,CAAC,GAAG,CAAC,IAAAzH,MAAA,CACvCC,QAAQ,CAAC0I,aAAa,CAACrC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,EAAE,CAAC,OAAAtG,MAAA,CAAKC,QAAQ,CAAC0I,aAAa,CAACrC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,EAAE,CAAC,OAAAtG,MAAA,CAAKC,QAAQ,CAAC0I,aAAa,CAACrC,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CAAE,EAAE,CAAC,EAClI,cAAc,CAElB,KAAM,CAAAsC,SAAS,CAAGtF,oBAAoB,CAACf,QAAQ,CAACR,EAAE,CAAC,CAEnD,mBACEzF,KAAA,CAAC5B,MAAM,CAACwM,GAAG,EAETtD,SAAS,CAAC,gGAAgG,CAC1GyB,KAAK,CAAE,CACLC,eAAe,CAAE,oBAAoB,CACrCqC,SAAS,kBAAA3H,MAAA,CAAmBwH,QAAQ,yCACtC,CAAE,CACFI,UAAU,CAAE,CACVC,KAAK,CAAE,IAAI,CACXR,CAAC,CAAE,CAAC,CAAC,CACLM,SAAS,kBAAA3H,MAAA,CAAmBwH,QAAQ,uCACtC,CAAE,CACFM,QAAQ,CAAE,CAAED,KAAK,CAAE,IAAK,CAAE,CAC1BtC,OAAO,CAAEA,CAAA,GAAMjD,kBAAkB,CAACC,QAAQ,CAAE,CAAAsB,QAAA,eAE5CvH,KAAA,QAAKsH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDzH,IAAA,CAACvB,QAAQ,EAAC2K,IAAI,CAAE,EAAG,CAACH,KAAK,CAAE,CAAE0C,KAAK,CAAEY,aAAc,CAAE,CAAE,CAAC,cACvDvM,IAAA,QAAKwH,SAAS,CAAC,wEAAwE,CAAAC,QAAA,CAAC,YAExF,CAAK,CAAC,EACH,CAAC,cACNzH,IAAA,OAAIwH,SAAS,CAAC,8CAA8C,CAAAC,QAAA,CAAEtB,QAAQ,CAACtB,IAAI,CAAK,CAAC,cACjF7E,IAAA,MAAGwH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CAAEtB,QAAQ,CAACpB,WAAW,EAAI,4BAA4B,CAAI,CAAC,cAEjH7E,KAAA,QAAKsH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EACxC+E,SAAS,CAAC,OACb,EAAK,CAAC,cAENtM,KAAA,QAAKsH,SAAS,CAAC,2FAA2F,CAAAC,QAAA,eACxGzH,IAAA,WACEmJ,OAAO,CAAGwB,CAAC,EAAK,CACdA,CAAC,CAACiB,eAAe,CAAC,CAAC,CACnB/E,kBAAkB,CAACV,QAAQ,CAAC,CAC9B,CAAE,CACFqB,SAAS,CAAC,8FAA8F,CACxGqE,KAAK,CAAC,iBAAiB,CAAApE,QAAA,cAEvBvH,KAAA,QAAK4L,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAA1E,QAAA,eAC/FzH,IAAA,SAAMoM,CAAC,CAAC,2CAA2C,CAAE,CAAC,cACtDpM,IAAA,SAAMoM,CAAC,CAAC,yDAAyD,CAAE,CAAC,EACjE,CAAC,CACA,CAAC,cAETpM,IAAA,WACEmJ,OAAO,CAAGwB,CAAC,EAAK,CACdA,CAAC,CAACiB,eAAe,CAAC,CAAC,CACnBvH,oBAAoB,CAAC8B,QAAQ,CAACR,EAAE,CAAC,CACnC,CAAE,CACF6B,SAAS,CAAC,mHAAmH,CAC7HqE,KAAK,CAAC,mBAAmB,CAAApE,QAAA,cAEzBzH,IAAA,CAACjB,MAAM,EAACqK,IAAI,CAAE,EAAG,CAAE,CAAC,CACd,CAAC,EACN,CAAC,GApDDjD,QAAQ,CAACR,EAqDJ,CAAC,CAEjB,CAAC,CAAC,CACC,CAAC,cAENzF,KAAA,QAAKsH,SAAS,CAAC,gDAAgD,CAC1DyB,KAAK,CAAE,CAAEC,eAAe,CAAE,oBAAqB,CAAE,CAAAzB,QAAA,eACpDzH,IAAA,CAACvB,QAAQ,EAAC2K,IAAI,CAAE,EAAG,CAAC5B,SAAS,CAAC,4BAA4B,CAAE,CAAC,cAC7DxH,IAAA,MAAGwH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,6DAA2D,CAAG,CAAC,EACnG,CACN,EACE,CAAC,CACI,CAAC,cAGbzH,IAAA,CAAC1B,MAAM,CAACwM,GAAG,EACTC,OAAO,CAAE,CAAEC,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,EAAG,CAAE,CAC/BC,OAAO,CAAE,CAAEF,OAAO,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAE,CAC9BoB,UAAU,CAAE,CAAEC,KAAK,CAAE,GAAI,CAAE,CAC3B9E,SAAS,CAAC,sFAAsF,CAChGyB,KAAK,CAAE,CACLC,eAAe,CAAE,oBACnB,CAAE,CAAAzB,QAAA,cAEFvH,KAAA,QAAKsH,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BvH,KAAA,QAAKsH,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDvH,KAAA,QAAAuH,QAAA,eACEvH,KAAA,OAAIsH,SAAS,CAAC,0DAA0D,CAAAC,QAAA,EAAC,eAC1D,CAACvE,KAAK,CAAC4B,MAAM,CAAC,GAC7B,EAAI,CAAC,cACL9E,IAAA,MAAGwH,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAAC,+DAE/C,CAAG,CAAC,EACD,CAAC,cACNzH,IAAA,WACEmJ,OAAO,CAAE9C,kBAAmB,CAC5BmB,SAAS,CAAC,mKAAmK,CAAAC,QAAA,cAE7KvH,KAAA,QAAKsH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCzH,IAAA,CAAClB,GAAG,EAACsK,IAAI,CAAE,EAAG,CAAE,CAAC,cACjBpJ,IAAA,SAAAyH,QAAA,CAAM,UAAQ,CAAM,CAAC,EAClB,CAAC,CACA,CAAC,EACN,CAAC,CAELvE,KAAK,CAAC4B,MAAM,CAAG,CAAC,cACf9E,IAAA,QAAKwH,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CACjFvE,KAAK,CACHgH,KAAK,CAAC,CAAC,CACPuC,IAAI,CAAC,CAAC9C,CAAC,CAAE+C,CAAC,GAAK,GAAI,CAAA1C,IAAI,CAAC0C,CAAC,CAACC,SAAS,EAAID,CAAC,CAACE,SAAS,EAAI,CAAC,CAAC,CAAG,GAAI,CAAA5C,IAAI,CAACL,CAAC,CAACgD,SAAS,EAAIhD,CAAC,CAACiD,SAAS,EAAI,CAAC,CAAC,CAAC,CACrG1C,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CACXvC,GAAG,CAAC,CAACrC,IAAI,CAAEuH,KAAK,GAAK,CACpB,KAAM,CAAAC,SAAS,CAAGxH,IAAI,CAACqG,KAAK,EAAI,SAAS,CACzC,KAAM,CAAAP,QAAQ,CAAG5H,QAAQ,CAACsJ,SAAS,CAAC,CACpC,KAAM,CAAAC,SAAS,CAAGC,KAAK,CAACC,OAAO,CAAC3H,IAAI,CAAC4H,IAAI,CAAC,CAAG5H,IAAI,CAAC4H,IAAI,CAAI5H,IAAI,CAAC4H,IAAI,CAAG5H,IAAI,CAAC4H,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAACxF,GAAG,CAACyF,GAAG,EAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAAG,EAAG,CAEvH,mBACEnN,KAAA,CAAC5B,MAAM,CAACwM,GAAG,EAETtD,SAAS,CAAC,gGAAgG,CAC1GyB,KAAK,CAAE,CACLC,eAAe,CAAE,oBAAoB,CACrCqC,SAAS,kBAAA3H,MAAA,CAAmBwH,QAAQ,yCACtC,CAAE,CACFI,UAAU,CAAE,CACVC,KAAK,CAAE,IAAI,CACXR,CAAC,CAAE,CAAC,CAAC,CACLM,SAAS,kBAAA3H,MAAA,CAAmBwH,QAAQ,uCACtC,CAAE,CACFM,QAAQ,CAAE,CAAED,KAAK,CAAE,IAAK,CAAE,CAC1BtC,OAAO,CAAEA,CAAA,GAAM5D,cAAc,CAACD,IAAI,CAAE,CAAAmC,QAAA,eAEpCvH,KAAA,QAAKsH,SAAS,CAAC,uCAAuC,CAAAC,QAAA,eACpDzH,IAAA,CAACtB,QAAQ,EAAC0K,IAAI,CAAE,EAAG,CAACH,KAAK,CAAE,CAAE0C,KAAK,CAAEmB,SAAU,CAAE,CAAE,CAAC,cACnD9M,IAAA,QAAKwH,SAAS,CAAC,wEAAwE,CAAAC,QAAA,CAAC,KAExF,CAAK,CAAC,EACH,CAAC,cACNzH,IAAA,OAAIwH,SAAS,CAAC,8CAA8C,CAACqE,KAAK,CAAEvG,IAAI,CAACuG,KAAM,CAAApE,QAAA,CAC5EnC,IAAI,CAACuG,KAAK,CACT,CAAC,cACL7L,IAAA,MAAGwH,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CACnDnC,IAAI,CAACgI,OAAO,EAAIhI,IAAI,CAACgI,OAAO,CAACxI,MAAM,CAAG,GAAG,IAAAlB,MAAA,CACnC0B,IAAI,CAACgI,OAAO,CAACC,SAAS,CAAC,CAAC,CAAE,GAAG,CAAC,QACjCjI,IAAI,CAACgI,OAAO,CACf,CAAC,cAEJtN,IAAA,QAAKwH,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACxC,GAAI,CAAAuC,IAAI,CAAC1E,IAAI,CAACqH,SAAS,EAAIrH,IAAI,CAACsH,SAAS,CAAC,CAACY,kBAAkB,CAAC,CAAC,CAC7D,CAAC,cAENtN,KAAA,QAAKsH,SAAS,CAAC,2FAA2F,CAAAC,QAAA,eACxGzH,IAAA,WACEmJ,OAAO,CAAGwB,CAAC,EAAK,CACdA,CAAC,CAACiB,eAAe,CAAC,CAAC,CACnBrG,cAAc,CAACD,IAAI,CAAC,CACtB,CAAE,CACFkC,SAAS,CAAC,8FAA8F,CACxGqE,KAAK,CAAC,gBAAgB,CAAApE,QAAA,cAEtBzH,IAAA,CAAClB,GAAG,EAACsK,IAAI,CAAE,EAAG,CAAE,CAAC,CACX,CAAC,cAETpJ,IAAA,WACEmJ,OAAO,CAAGwB,CAAC,EAAK,CACdA,CAAC,CAACiB,eAAe,CAAC,CAAC,CACnBvG,cAAc,CAACC,IAAI,CAAC,CACtB,CAAE,CACFkC,SAAS,CAAC,8FAA8F,CACxGqE,KAAK,CAAC,gBAAgB,CAAApE,QAAA,cAEtBvH,KAAA,QAAK4L,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAAA1E,QAAA,eAC/FzH,IAAA,SAAMoM,CAAC,CAAC,2CAA2C,CAAE,CAAC,cACtDpM,IAAA,SAAMoM,CAAC,CAAC,yDAAyD,CAAE,CAAC,EACjE,CAAC,CACA,CAAC,cAETpM,IAAA,WACEmJ,OAAO,CAAGwB,CAAC,EAAK,CACdA,CAAC,CAACiB,eAAe,CAAC,CAAC,CACnB7H,gBAAgB,CAACuB,IAAI,CAACK,EAAE,CAAC,CAC3B,CAAE,CACF6B,SAAS,CAAC,mHAAmH,CAC7HqE,KAAK,CAAC,kBAAkB,CAAApE,QAAA,cAExBzH,IAAA,CAACjB,MAAM,EAACqK,IAAI,CAAE,EAAG,CAAE,CAAC,CACd,CAAC,EACN,CAAC,GArED9D,IAAI,CAACK,EAsEA,CAAC,CAEjB,CAAC,CAAC,CACD,CAAC,cAENzF,KAAA,QAAKsH,SAAS,CAAC,gDAAgD,CAC1DyB,KAAK,CAAE,CAAEC,eAAe,CAAE,oBAAqB,CAAE,CAAAzB,QAAA,eACpDzH,IAAA,CAACtB,QAAQ,EAAC0K,IAAI,CAAE,EAAG,CAAC5B,SAAS,CAAC,4BAA4B,CAAE,CAAC,cAC7DxH,IAAA,MAAGwH,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,sEAAoE,CAAG,CAAC,EAC5G,CACN,EACE,CAAC,CACI,CAAC,EACV,CAAC,cAGNzH,IAAA,CAACV,aAAa,EACZgJ,MAAM,CAAEnH,mBAAoB,CAC5BoH,OAAO,CAAEA,CAAA,GAAMnH,sBAAsB,CAAC,KAAK,CAAE,CAC7CoH,MAAM,CAAEhD,sBAAuB,CAC/BiD,QAAQ,CAAE/C,wBAAyB,CACnCJ,IAAI,CAAEjE,WAAY,CACnB,CAAC,cAEFrB,IAAA,CAACX,SAAS,EACRiJ,MAAM,CAAEzH,qBAAsB,CAC9B0H,OAAO,CAAEA,CAAA,GAAM,CACbzH,wBAAwB,CAAC,KAAK,CAAC,CAC/Bc,cAAc,CAAC,IAAI,CAAC,CACpBQ,kBAAkB,CAAC,IAAI,CAAC,CACxBE,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAE,CACFoG,MAAM,CAAE9C,sBAAuB,CAC/B6C,QAAQ,CAAE1E,gBAAiB,CAC3BxB,OAAO,CAAEA,OAAQ,CACjBM,SAAS,CAAEA,SAAU,CACrB8F,YAAY,CAAEhH,WAAY,CAC1BQ,eAAe,CAAEA,eAAgB,CACjCE,iBAAiB,CAAEA,iBAAkB,CACtC,CAAC,cAEFrC,IAAA,CAACT,WAAW,EACV+I,MAAM,CAAEvH,iBAAkB,CAC1BwH,OAAO,CAAEA,CAAA,GAAM,CACbvH,oBAAoB,CAAC,KAAK,CAAC,CAC3BQ,gBAAgB,CAAC,IAAI,CAAC,CACxB,CAAE,CACFkH,MAAM,CAAEjC,gBAAiB,CACzBmC,cAAc,CAAErH,aAAc,CAC/B,CAAC,cAEFvB,IAAA,CAACR,aAAa,EACZ8I,MAAM,CAAErH,mBAAoB,CAC5BsH,OAAO,CAAEA,CAAA,GAAM,CACbrH,sBAAsB,CAAC,KAAK,CAAC,CAC7BQ,kBAAkB,CAAC,IAAI,CAAC,CACxBU,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAE,CACFsG,MAAM,CAAE5B,kBAAmB,CAC3B+B,gBAAgB,CAAEpH,eAAgB,CAClCc,OAAO,CAAEA,OAAQ,CACjBJ,eAAe,CAAEA,eAAgB,CAClC,CAAC,EACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}