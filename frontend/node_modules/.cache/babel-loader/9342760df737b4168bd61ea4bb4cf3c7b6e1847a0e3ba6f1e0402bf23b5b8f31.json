{"ast":null,"code":"import apiService from './api';\nimport { allAchievements } from '../data/achievements';\nclass BackendAchievementService {\n  constructor() {\n    this.allAchievements = [];\n    this.playerAchievements = [];\n    this.playerStats = {};\n    this.loaded = false;\n  }\n  getUnlockedAchievements() {\n    if (!this.loaded) {\n      console.warn('⚠️ Backend achievement service not loaded yet');\n      return [];\n    }\n    const unlockedIds = this.playerAchievements.filter(pa => pa.unlocked).map(pa => pa.achievementId);\n\n    // 🔍 DEBUG: Let's see what achievements we're looking for and what we have\n    console.log('🔍 DEBUGGING ACHIEVEMENT MATCHING:');\n    console.log('   - Looking for IDs:', unlockedIds);\n    console.log('   - Available achievement IDs:', this.allAchievements.map(a => a.id).slice(0, 10)); // Show first 10\n    console.log('   - Does FIRST_NOTE exist?', this.allAchievements.find(a => a.id === 'FIRST_NOTE'));\n    const unlockedAchievements = this.allAchievements.filter(achievement => {\n      const isUnlocked = unlockedIds.includes(achievement.id);\n      if (unlockedIds.includes('FIRST_NOTE') && achievement.id === 'FIRST_NOTE') {\n        console.log('🔍 Found FIRST_NOTE achievement:', achievement);\n      }\n      return isUnlocked;\n    }).map(achievement => {\n      const playerAch = this.playerAchievements.find(pa => pa.achievementId === achievement.id);\n      return {\n        ...achievement,\n        unlockedAt: (playerAch === null || playerAch === void 0 ? void 0 : playerAch.unlockedAt) || new Date().toISOString(),\n        progress: (playerAch === null || playerAch === void 0 ? void 0 : playerAch.progress) || 100\n      };\n    });\n    console.log('🔍 BACKEND SERVICE getUnlockedAchievements():');\n    console.log('   - unlockedIds:', unlockedIds);\n    console.log('   - unlockedAchievements:', unlockedAchievements);\n    return unlockedAchievements;\n  }\n  getLockedAchievements() {\n    if (!this.loaded) {\n      console.warn('⚠️ Backend achievement service not loaded yet');\n      return [];\n    }\n    const unlockedIds = this.playerAchievements.filter(pa => pa.unlocked).map(pa => pa.achievementId);\n    return this.allAchievements.filter(achievement => !unlockedIds.includes(achievement.id));\n  }\n  getInProgressAchievements() {\n    if (!this.loaded) {\n      console.warn('⚠️ Backend achievement service not loaded yet');\n      return [];\n    }\n    const inProgressIds = this.playerAchievements.filter(pa => !pa.unlocked && pa.progress > 0).map(pa => pa.achievementId);\n    return this.allAchievements.filter(achievement => inProgressIds.includes(achievement.id)).map(achievement => {\n      const playerAch = this.playerAchievements.find(pa => pa.achievementId === achievement.id);\n      return {\n        ...achievement,\n        progress: (playerAch === null || playerAch === void 0 ? void 0 : playerAch.progress) || 0\n      };\n    });\n  }\n\n  // Load player data from localStorage\n  loadPlayerDataFromLocalStorage() {\n    console.log('🔄 LOADING PLAYER DATA FROM LOCALSTORAGE');\n\n    // Load unlocked achievements from localStorage and filter out nulls\n    const unlockedIds = JSON.parse(localStorage.getItem('unlockedAchievements') || '[]').filter(id => id !== null && id !== undefined);\n    const achievementData = JSON.parse(localStorage.getItem('achievementData') || '{}');\n    console.log('📦 LocalStorage player data:', {\n      unlockedIds,\n      achievementData\n    });\n\n    // 🔍 DEBUG: Check if the achievement IDs from localStorage actually exist\n    unlockedIds.forEach(id => {\n      const exists = this.allAchievements.find(a => a.id === id);\n      if (!exists) {\n        console.warn(`⚠️ Achievement ${id} from localStorage not found in allAchievements`);\n        console.log('Available achievement IDs starting with FIRST:', this.allAchievements.filter(a => a.id.includes('FIRST')).map(a => a.id));\n      }\n    });\n\n    // Convert to player achievement format\n    this.playerAchievements = unlockedIds.map(achievementId => {\n      var _achievementData$achi;\n      return {\n        achievementId,\n        unlocked: true,\n        progress: 100,\n        unlockedAt: ((_achievementData$achi = achievementData[achievementId]) === null || _achievementData$achi === void 0 ? void 0 : _achievementData$achi.unlockedAt) || new Date().toISOString()\n      };\n    });\n\n    // Mock player stats\n    this.playerStats = {\n      totalNotes: 0,\n      totalWords: 0,\n      completedAchievements: unlockedIds.length,\n      totalSessions: 0,\n      totalFocusTime: 0,\n      totalXp: unlockedIds.length * 100 // 100 XP per achievement\n    };\n    console.log('✅ Loaded player data from localStorage:', {\n      playerAchievements: this.playerAchievements.length,\n      unlockedCount: unlockedIds.length\n    });\n  }\n\n  // NEW: Load from localStorage if backend fails completely\n  loadFromLocalStorage() {\n    console.log('🔄 LOADING EVERYTHING FROM LOCALSTORAGE');\n\n    // Use local achievements data\n    this.allAchievements = allAchievements;\n\n    // Load player data\n    this.loadPlayerDataFromLocalStorage();\n    this.loaded = true;\n    console.log('✅ Loaded everything from localStorage:', {\n      allAchievements: this.allAchievements.length,\n      playerAchievements: this.playerAchievements.length\n    });\n  }\n  async loadData(username = 'Jroc_182') {\n    try {\n      var _this$allAchievements, _this$playerAchieveme;\n      console.log('🔄 BACKEND SERVICE: Loading data for', username);\n\n      // Try to load achievements from API\n      let achievements = [];\n      try {\n        var _achievements;\n        achievements = await apiService.getAllAchievements();\n        console.log('✅ Loaded achievements from API:', ((_achievements = achievements) === null || _achievements === void 0 ? void 0 : _achievements.length) || 0);\n      } catch (error) {\n        console.warn('⚠️ Failed to load achievements from API, using local data');\n        achievements = allAchievements;\n      }\n\n      // Try to load player data from API\n      let playerAchievements = [];\n      let stats = {};\n      try {\n        const [playerAchievementsData, statsData] = await Promise.all([apiService.getPlayerAchievements(username), apiService.getAchievementPlayerStats(username)]);\n        playerAchievements = playerAchievementsData || [];\n        stats = statsData || {};\n        console.log('✅ Loaded player data from API');\n      } catch (error) {\n        console.warn('⚠️ Failed to load player data from API, using localStorage');\n        // Don't load from localStorage here yet - we'll do it below\n      }\n\n      // Set the achievements data (either from API or local)\n      this.allAchievements = achievements;\n\n      // If we got player data from API, use it. Otherwise, load from localStorage\n      if (playerAchievements.length > 0 || Object.keys(stats).length > 0) {\n        console.log('📡 Using API player data');\n        this.playerAchievements = playerAchievements;\n        this.playerStats = stats;\n      } else {\n        console.log('💾 No API player data found, loading from localStorage');\n        this.loadPlayerDataFromLocalStorage();\n      }\n      this.loaded = true;\n      console.log('🔍 BACKEND SERVICE: Final data loaded:');\n      console.log('   - achievements:', ((_this$allAchievements = this.allAchievements) === null || _this$allAchievements === void 0 ? void 0 : _this$allAchievements.length) || 0);\n      console.log('   - playerAchievements:', ((_this$playerAchieveme = this.playerAchievements) === null || _this$playerAchieveme === void 0 ? void 0 : _this$playerAchieveme.length) || 0);\n      console.log('   - stats:', this.playerStats);\n      console.log('✅ Backend achievement data loaded for', username);\n      return {\n        achievements: this.allAchievements,\n        playerAchievements: this.playerAchievements,\n        stats: this.playerStats\n      };\n    } catch (error) {\n      console.error('❌ Failed to load backend achievements:', error);\n\n      // 🔄 COMPLETE FALLBACK: Load everything from localStorage\n      console.log('🔄 COMPLETE BACKEND FAILURE: Loading everything from localStorage');\n      this.loadFromLocalStorage();\n      return {\n        achievements: this.allAchievements,\n        playerAchievements: this.playerAchievements,\n        stats: this.playerStats\n      };\n    }\n  }\n  isUnlocked(achievementId) {\n    if (!this.loaded) return false;\n    const playerAch = this.playerAchievements.find(pa => pa.achievementId === achievementId);\n    return (playerAch === null || playerAch === void 0 ? void 0 : playerAch.unlocked) || false;\n  }\n  unlockAchievement(achievementId) {\n    // Find or create player achievement\n    let playerAch = this.playerAchievements.find(pa => pa.achievementId === achievementId);\n    if (!playerAch) {\n      playerAch = {\n        achievementId,\n        progress: 100,\n        unlocked: true,\n        unlockedAt: new Date().toISOString()\n      };\n      this.playerAchievements.push(playerAch);\n    } else {\n      playerAch.unlocked = true;\n      playerAch.progress = 100;\n      playerAch.unlockedAt = new Date().toISOString();\n    }\n    console.log(`🏆 Unlocked achievement: ${achievementId}`);\n  }\n  getStats() {\n    if (!this.loaded) {\n      return {\n        total: 0,\n        unlocked: 0,\n        locked: 0,\n        inProgress: 0,\n        completionRate: 0\n      };\n    }\n    const unlockedCount = this.getUnlockedAchievements().length;\n    const totalCount = this.allAchievements.length;\n    const inProgressCount = this.getInProgressAchievements().length;\n    const lockedCount = totalCount - unlockedCount;\n    return {\n      total: totalCount,\n      unlocked: unlockedCount,\n      locked: lockedCount,\n      inProgress: inProgressCount,\n      completionRate: totalCount > 0 ? Math.round(unlockedCount / totalCount * 100) : 0\n    };\n  }\n}\n\n// Export singleton instance\nconst backendAchievementService = new BackendAchievementService();\nexport default backendAchievementService;","map":{"version":3,"names":["apiService","allAchievements","BackendAchievementService","constructor","playerAchievements","playerStats","loaded","getUnlockedAchievements","console","warn","unlockedIds","filter","pa","unlocked","map","achievementId","log","a","id","slice","find","unlockedAchievements","achievement","isUnlocked","includes","playerAch","unlockedAt","Date","toISOString","progress","getLockedAchievements","getInProgressAchievements","inProgressIds","loadPlayerDataFromLocalStorage","JSON","parse","localStorage","getItem","undefined","achievementData","forEach","exists","_achievementData$achi","totalNotes","totalWords","completedAchievements","length","totalSessions","totalFocusTime","totalXp","unlockedCount","loadFromLocalStorage","loadData","username","_this$allAchievements","_this$playerAchieveme","achievements","_achievements","getAllAchievements","error","stats","playerAchievementsData","statsData","Promise","all","getPlayerAchievements","getAchievementPlayerStats","Object","keys","unlockAchievement","push","getStats","total","locked","inProgress","completionRate","totalCount","inProgressCount","lockedCount","Math","round","backendAchievementService"],"sources":["/Users/jenn/Projects/Pixel-Pages/frontend/src/services/backendAchievementService.js"],"sourcesContent":["import apiService from './api';\nimport { allAchievements } from '../data/achievements';\n\nclass BackendAchievementService {\n  constructor() {\n    this.allAchievements = [];\n    this.playerAchievements = [];\n    this.playerStats = {};\n    this.loaded = false;\n  }\n\n  getUnlockedAchievements() {\n    if (!this.loaded) {\n      console.warn('⚠️ Backend achievement service not loaded yet');\n      return [];\n    }\n    \n    const unlockedIds = this.playerAchievements\n      .filter(pa => pa.unlocked)\n      .map(pa => pa.achievementId);\n    \n    // 🔍 DEBUG: Let's see what achievements we're looking for and what we have\n    console.log('🔍 DEBUGGING ACHIEVEMENT MATCHING:');\n    console.log('   - Looking for IDs:', unlockedIds);\n    console.log('   - Available achievement IDs:', this.allAchievements.map(a => a.id).slice(0, 10)); // Show first 10\n    console.log('   - Does FIRST_NOTE exist?', this.allAchievements.find(a => a.id === 'FIRST_NOTE'));\n    \n    const unlockedAchievements = this.allAchievements\n      .filter(achievement => {\n        const isUnlocked = unlockedIds.includes(achievement.id);\n        if (unlockedIds.includes('FIRST_NOTE') && achievement.id === 'FIRST_NOTE') {\n          console.log('🔍 Found FIRST_NOTE achievement:', achievement);\n        }\n        return isUnlocked;\n      })\n      .map(achievement => {\n        const playerAch = this.playerAchievements.find(pa => pa.achievementId === achievement.id);\n        return {\n          ...achievement,\n          unlockedAt: playerAch?.unlockedAt || new Date().toISOString(),\n          progress: playerAch?.progress || 100\n        };\n      });\n    \n    console.log('🔍 BACKEND SERVICE getUnlockedAchievements():');\n    console.log('   - unlockedIds:', unlockedIds);\n    console.log('   - unlockedAchievements:', unlockedAchievements);\n    \n    return unlockedAchievements;\n  }\n\n  getLockedAchievements() {\n    if (!this.loaded) {\n      console.warn('⚠️ Backend achievement service not loaded yet');\n      return [];\n    }\n    \n    const unlockedIds = this.playerAchievements\n      .filter(pa => pa.unlocked)\n      .map(pa => pa.achievementId);\n    \n    return this.allAchievements.filter(achievement => !unlockedIds.includes(achievement.id));\n  }\n\n  getInProgressAchievements() {\n    if (!this.loaded) {\n      console.warn('⚠️ Backend achievement service not loaded yet');\n      return [];\n    }\n    \n    const inProgressIds = this.playerAchievements\n      .filter(pa => !pa.unlocked && pa.progress > 0)\n      .map(pa => pa.achievementId);\n    \n    return this.allAchievements\n      .filter(achievement => inProgressIds.includes(achievement.id))\n      .map(achievement => {\n        const playerAch = this.playerAchievements.find(pa => pa.achievementId === achievement.id);\n        return {\n          ...achievement,\n          progress: playerAch?.progress || 0\n        };\n      });\n  }\n\n  // Load player data from localStorage\n  loadPlayerDataFromLocalStorage() {\n    console.log('🔄 LOADING PLAYER DATA FROM LOCALSTORAGE');\n    \n    // Load unlocked achievements from localStorage and filter out nulls\n    const unlockedIds = JSON.parse(localStorage.getItem('unlockedAchievements') || '[]')\n      .filter(id => id !== null && id !== undefined);\n    \n    const achievementData = JSON.parse(localStorage.getItem('achievementData') || '{}');\n    \n    console.log('📦 LocalStorage player data:', { unlockedIds, achievementData });\n    \n    // 🔍 DEBUG: Check if the achievement IDs from localStorage actually exist\n    unlockedIds.forEach(id => {\n      const exists = this.allAchievements.find(a => a.id === id);\n      if (!exists) {\n        console.warn(`⚠️ Achievement ${id} from localStorage not found in allAchievements`);\n        console.log('Available achievement IDs starting with FIRST:', \n          this.allAchievements.filter(a => a.id.includes('FIRST')).map(a => a.id)\n        );\n      }\n    });\n    \n    // Convert to player achievement format\n    this.playerAchievements = unlockedIds.map(achievementId => ({\n      achievementId,\n      unlocked: true,\n      progress: 100,\n      unlockedAt: achievementData[achievementId]?.unlockedAt || new Date().toISOString()\n    }));\n    \n    // Mock player stats\n    this.playerStats = {\n      totalNotes: 0,\n      totalWords: 0,\n      completedAchievements: unlockedIds.length,\n      totalSessions: 0,\n      totalFocusTime: 0,\n      totalXp: unlockedIds.length * 100 // 100 XP per achievement\n    };\n    \n    console.log('✅ Loaded player data from localStorage:', {\n      playerAchievements: this.playerAchievements.length,\n      unlockedCount: unlockedIds.length\n    });\n  }\n\n  // NEW: Load from localStorage if backend fails completely\n  loadFromLocalStorage() {\n    console.log('🔄 LOADING EVERYTHING FROM LOCALSTORAGE');\n    \n    // Use local achievements data\n    this.allAchievements = allAchievements;\n    \n    // Load player data\n    this.loadPlayerDataFromLocalStorage();\n    \n    this.loaded = true;\n    \n    console.log('✅ Loaded everything from localStorage:', {\n      allAchievements: this.allAchievements.length,\n      playerAchievements: this.playerAchievements.length\n    });\n  }\n\n  async loadData(username = 'Jroc_182') {\n    try {\n      console.log('🔄 BACKEND SERVICE: Loading data for', username);\n      \n      // Try to load achievements from API\n      let achievements = [];\n      try {\n        achievements = await apiService.getAllAchievements();\n        console.log('✅ Loaded achievements from API:', achievements?.length || 0);\n      } catch (error) {\n        console.warn('⚠️ Failed to load achievements from API, using local data');\n        achievements = allAchievements;\n      }\n\n      // Try to load player data from API\n      let playerAchievements = [];\n      let stats = {};\n      \n      try {\n        const [playerAchievementsData, statsData] = await Promise.all([\n          apiService.getPlayerAchievements(username),\n          apiService.getAchievementPlayerStats(username)\n        ]);\n        playerAchievements = playerAchievementsData || [];\n        stats = statsData || {};\n        console.log('✅ Loaded player data from API');\n      } catch (error) {\n        console.warn('⚠️ Failed to load player data from API, using localStorage');\n        // Don't load from localStorage here yet - we'll do it below\n      }\n\n      // Set the achievements data (either from API or local)\n      this.allAchievements = achievements;\n\n      // If we got player data from API, use it. Otherwise, load from localStorage\n      if (playerAchievements.length > 0 || Object.keys(stats).length > 0) {\n        console.log('📡 Using API player data');\n        this.playerAchievements = playerAchievements;\n        this.playerStats = stats;\n      } else {\n        console.log('💾 No API player data found, loading from localStorage');\n        this.loadPlayerDataFromLocalStorage();\n      }\n\n      this.loaded = true;\n\n      console.log('🔍 BACKEND SERVICE: Final data loaded:');\n      console.log('   - achievements:', this.allAchievements?.length || 0);\n      console.log('   - playerAchievements:', this.playerAchievements?.length || 0);\n      console.log('   - stats:', this.playerStats);\n      console.log('✅ Backend achievement data loaded for', username);\n\n      return { \n        achievements: this.allAchievements, \n        playerAchievements: this.playerAchievements, \n        stats: this.playerStats \n      };\n    } catch (error) {\n      console.error('❌ Failed to load backend achievements:', error);\n      \n      // 🔄 COMPLETE FALLBACK: Load everything from localStorage\n      console.log('🔄 COMPLETE BACKEND FAILURE: Loading everything from localStorage');\n      this.loadFromLocalStorage();\n      \n      return {\n        achievements: this.allAchievements,\n        playerAchievements: this.playerAchievements,\n        stats: this.playerStats\n      };\n    }\n  }\n\n  isUnlocked(achievementId) {\n    if (!this.loaded) return false;\n    \n    const playerAch = this.playerAchievements.find(pa => pa.achievementId === achievementId);\n    return playerAch?.unlocked || false;\n  }\n\n  unlockAchievement(achievementId) {\n    // Find or create player achievement\n    let playerAch = this.playerAchievements.find(pa => pa.achievementId === achievementId);\n    \n    if (!playerAch) {\n      playerAch = {\n        achievementId,\n        progress: 100,\n        unlocked: true,\n        unlockedAt: new Date().toISOString()\n      };\n      this.playerAchievements.push(playerAch);\n    } else {\n      playerAch.unlocked = true;\n      playerAch.progress = 100;\n      playerAch.unlockedAt = new Date().toISOString();\n    }\n    \n    console.log(`🏆 Unlocked achievement: ${achievementId}`);\n  }\n\n  getStats() {\n    if (!this.loaded) {\n      return {\n        total: 0,\n        unlocked: 0,\n        locked: 0,\n        inProgress: 0,\n        completionRate: 0\n      };\n    }\n\n    const unlockedCount = this.getUnlockedAchievements().length;\n    const totalCount = this.allAchievements.length;\n    const inProgressCount = this.getInProgressAchievements().length;\n    const lockedCount = totalCount - unlockedCount;\n\n    return {\n      total: totalCount,\n      unlocked: unlockedCount,\n      locked: lockedCount,\n      inProgress: inProgressCount,\n      completionRate: totalCount > 0 ? Math.round((unlockedCount / totalCount) * 100) : 0\n    };\n  }\n}\n\n// Export singleton instance\nconst backendAchievementService = new BackendAchievementService();\nexport default backendAchievementService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}