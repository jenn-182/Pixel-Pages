{"ast":null,"code":"var _s = $RefreshSig$();\n// src/hooks/useNotes.js\nimport { useState, useEffect, useCallback } from 'react';\nimport apiService from '../services/api';\nexport const useNotes = () => {\n  _s();\n  const [notes, setNotes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const fetchNotes = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await apiService.fetchNotes();\n      setNotes(data);\n    } catch (err) {\n      setError('Failed to fetch notes');\n      console.error('Error fetching notes:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const createNote = useCallback(async noteData => {\n    try {\n      setError(null);\n      const response = await apiService.createNote(noteData);\n      // Handle gaming response format from your backend\n      const newNote = response.data || response;\n      setNotes(prevNotes => [newNote, ...prevNotes]);\n      return newNote;\n    } catch (err) {\n      setError('Failed to create note');\n      throw err;\n    }\n  }, []);\n  const updateNote = useCallback(async (id, noteData) => {\n    try {\n      setError(null);\n      const response = await apiService.updateNote(id, noteData);\n      // Handle gaming response format from your backend\n      const updatedNote = response.data || response;\n      setNotes(prevNotes => prevNotes.map(note => note.id === id ? updatedNote : note));\n      return updatedNote;\n    } catch (err) {\n      setError('Failed to update note');\n      throw err;\n    }\n  }, []);\n  const deleteNote = useCallback(async id => {\n    try {\n      setError(null);\n      await apiService.deleteNote(id);\n      setNotes(prevNotes => prevNotes.filter(note => note.id !== id));\n    } catch (err) {\n      setError('Failed to delete note');\n      throw err;\n    }\n  }, []);\n  const searchNotes = useCallback(async query => {\n    try {\n      setLoading(true);\n      setError(null);\n      const results = await apiService.searchNotes(query);\n      setNotes(results);\n    } catch (err) {\n      setError('Failed to search notes');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Get notes in a specific folder\n  const getNotesInFolder = async (folderId, username = 'player1') => {\n    try {\n      const url = folderId ? `http://localhost:8080/api/notes/folder/${folderId}?username=${username}` : `http://localhost:8080/api/notes/no-container?username=${username}`;\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error('Failed to fetch notes in folder');\n      }\n      return await response.json();\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n\n  // Get notes in a specific notebook\n  const getNotesInNotebook = async (notebookId, username = 'player1') => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/notes/notebook/${notebookId}?username=${username}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch notes in notebook');\n      }\n      return await response.json();\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n\n  // Move note to folder\n  const moveNoteToFolder = async (noteId, folderId, username = 'player1') => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/notes/${noteId}/move-to-folder`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          folderId,\n          username\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to move note to folder');\n      }\n      const movedNote = await response.json();\n\n      // Update local state\n      setNotes(prev => prev.map(note => note.id === noteId ? movedNote : note));\n      return movedNote;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n\n  // Move note to notebook\n  const moveNoteToNotebook = async (noteId, notebookId, username = 'player1') => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/notes/${noteId}/move-to-notebook`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          notebookId,\n          username\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to move note to notebook');\n      }\n      const movedNote = await response.json();\n\n      // Update local state\n      setNotes(prev => prev.map(note => note.id === noteId ? movedNote : note));\n      return movedNote;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n  useEffect(() => {\n    fetchNotes();\n  }, [fetchNotes]);\n  return {\n    notes,\n    loading,\n    error,\n    createNote,\n    updateNote,\n    deleteNote,\n    searchNotes,\n    refreshNotes: fetchNotes,\n    getNotesInFolder,\n    getNotesInNotebook,\n    moveNoteToFolder,\n    moveNoteToNotebook\n  };\n};\n_s(useNotes, \"KmB33CnzZqKGpgrbkmbZzMShUq4=\");","map":{"version":3,"names":["useState","useEffect","useCallback","apiService","useNotes","_s","notes","setNotes","loading","setLoading","error","setError","fetchNotes","data","err","console","createNote","noteData","response","newNote","prevNotes","updateNote","id","updatedNote","map","note","deleteNote","filter","searchNotes","query","results","getNotesInFolder","folderId","username","url","fetch","ok","Error","json","message","getNotesInNotebook","notebookId","moveNoteToFolder","noteId","method","headers","body","JSON","stringify","movedNote","prev","moveNoteToNotebook","refreshNotes"],"sources":["/Users/jenn/Projects/Pixel-Pages/frontend/src/hooks/useNotes.js"],"sourcesContent":["// src/hooks/useNotes.js\nimport { useState, useEffect, useCallback } from 'react';\nimport apiService from '../services/api';\n\nexport const useNotes = () => {\n  const [notes, setNotes] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const fetchNotes = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await apiService.fetchNotes();\n      setNotes(data);\n    } catch (err) {\n      setError('Failed to fetch notes');\n      console.error('Error fetching notes:', err);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const createNote = useCallback(async (noteData) => {\n    try {\n      setError(null);\n      const response = await apiService.createNote(noteData);\n      // Handle gaming response format from your backend\n      const newNote = response.data || response;\n      setNotes(prevNotes => [newNote, ...prevNotes]);\n      return newNote;\n    } catch (err) {\n      setError('Failed to create note');\n      throw err;\n    }\n  }, []);\n\n  const updateNote = useCallback(async (id, noteData) => {\n    try {\n      setError(null);\n      const response = await apiService.updateNote(id, noteData);\n      // Handle gaming response format from your backend\n      const updatedNote = response.data || response;\n      setNotes(prevNotes => \n        prevNotes.map(note => \n          note.id === id ? updatedNote : note\n        )\n      );\n      return updatedNote;\n    } catch (err) {\n      setError('Failed to update note');\n      throw err;\n    }\n  }, []);\n\n  const deleteNote = useCallback(async (id) => {\n    try {\n      setError(null);\n      await apiService.deleteNote(id);\n      setNotes(prevNotes => \n        prevNotes.filter(note => note.id !== id)\n      );\n    } catch (err) {\n      setError('Failed to delete note');\n      throw err;\n    }\n  }, []);\n\n  const searchNotes = useCallback(async (query) => {\n    try {\n      setLoading(true);\n      setError(null);\n      const results = await apiService.searchNotes(query);\n      setNotes(results);\n    } catch (err) {\n      setError('Failed to search notes');\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Get notes in a specific folder\n  const getNotesInFolder = async (folderId, username = 'player1') => {\n    try {\n      const url = folderId \n        ? `http://localhost:8080/api/notes/folder/${folderId}?username=${username}`\n        : `http://localhost:8080/api/notes/no-container?username=${username}`;\n      \n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error('Failed to fetch notes in folder');\n      }\n      return await response.json();\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n\n  // Get notes in a specific notebook\n  const getNotesInNotebook = async (notebookId, username = 'player1') => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/notes/notebook/${notebookId}?username=${username}`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch notes in notebook');\n      }\n      return await response.json();\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n\n  // Move note to folder\n  const moveNoteToFolder = async (noteId, folderId, username = 'player1') => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/notes/${noteId}/move-to-folder`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ folderId, username }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to move note to folder');\n      }\n\n      const movedNote = await response.json();\n      \n      // Update local state\n      setNotes(prev => \n        prev.map(note => note.id === noteId ? movedNote : note)\n      );\n      \n      return movedNote;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n\n  // Move note to notebook\n  const moveNoteToNotebook = async (noteId, notebookId, username = 'player1') => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/notes/${noteId}/move-to-notebook`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ notebookId, username }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to move note to notebook');\n      }\n\n      const movedNote = await response.json();\n      \n      // Update local state\n      setNotes(prev => \n        prev.map(note => note.id === noteId ? movedNote : note)\n      );\n      \n      return movedNote;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n\n  useEffect(() => {\n    fetchNotes();\n  }, [fetchNotes]);\n\n  return {\n    notes,\n    loading,\n    error,\n    createNote,\n    updateNote,\n    deleteNote,\n    searchNotes,\n    refreshNotes: fetchNotes,\n    getNotesInFolder,\n    getNotesInNotebook,\n    moveNoteToFolder,\n    moveNoteToNotebook,\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}