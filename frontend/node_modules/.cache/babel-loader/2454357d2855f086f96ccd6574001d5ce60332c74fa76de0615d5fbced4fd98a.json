{"ast":null,"code":"// src/services/api.js\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080';\nclass ApiService {\n  async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    console.log('Making request to:', url); // Debug log\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers\n      },\n      ...options\n    };\n    try {\n      const response = await fetch(url, config);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const contentType = response.headers.get('content-type');\n      if (contentType && contentType.includes('application/json')) {\n        return await response.json();\n      }\n      return response;\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Note operations\n  async getAllNotes() {\n    return this.request('/api/notes');\n  }\n  async getNoteById(filename) {\n    return this.request(`/api/notes/${encodeURIComponent(filename)}`);\n  }\n  async createNote(note) {\n    return this.request('/api/notes', {\n      method: 'POST',\n      body: JSON.stringify(note)\n    });\n  }\n  async updateNote(filename, note) {\n    return this.request(`/api/notes/${encodeURIComponent(filename)}`, {\n      method: 'PUT',\n      body: JSON.stringify(note)\n    });\n  }\n  async deleteNote(filename) {\n    return this.request(`/api/notes/${encodeURIComponent(filename)}`, {\n      method: 'DELETE'\n    });\n  }\n  async searchNotes(query) {\n    return this.request(`/api/notes/search?query=${encodeURIComponent(query)}`);\n  }\n\n  // Player operations - Fix the endpoint paths\n  async getPlayerStats() {\n    return this.request('/api/stats'); // Changed from /api/player/stats\n  }\n  async getAchievements() {\n    return this.request('/api/achievements'); // Changed from /api/player/achievements\n  }\n}\nexport const apiService = new ApiService();","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","request","endpoint","options","url","console","log","config","headers","response","fetch","ok","Error","status","contentType","get","includes","json","error","getAllNotes","getNoteById","filename","encodeURIComponent","createNote","note","method","body","JSON","stringify","updateNote","deleteNote","searchNotes","query","getPlayerStats","getAchievements","apiService"],"sources":["/Users/jenn/Projects/Pixel-Pages/frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8080';\n\nclass ApiService {\n  async request(endpoint, options = {}) {\n    const url = `${API_BASE_URL}${endpoint}`;\n    console.log('Making request to:', url); // Debug log\n    \n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        ...options.headers,\n      },\n      ...options,\n    };\n\n    try {\n      const response = await fetch(url, config);\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const contentType = response.headers.get('content-type');\n      if (contentType && contentType.includes('application/json')) {\n        return await response.json();\n      }\n      \n      return response;\n    } catch (error) {\n      console.error('API request failed:', error);\n      throw error;\n    }\n  }\n\n  // Note operations\n  async getAllNotes() {\n    return this.request('/api/notes');\n  }\n\n  async getNoteById(filename) {\n    return this.request(`/api/notes/${encodeURIComponent(filename)}`);\n  }\n\n  async createNote(note) {\n    return this.request('/api/notes', {\n      method: 'POST',\n      body: JSON.stringify(note),\n    });\n  }\n\n  async updateNote(filename, note) {\n    return this.request(`/api/notes/${encodeURIComponent(filename)}`, {\n      method: 'PUT',\n      body: JSON.stringify(note),\n    });\n  }\n\n  async deleteNote(filename) {\n    return this.request(`/api/notes/${encodeURIComponent(filename)}`, {\n      method: 'DELETE',\n    });\n  }\n\n  async searchNotes(query) {\n    return this.request(`/api/notes/search?query=${encodeURIComponent(query)}`);\n  }\n\n  // Player operations - Fix the endpoint paths\n  async getPlayerStats() {\n    return this.request('/api/stats'); // Changed from /api/player/stats\n  }\n\n  async getAchievements() {\n    return this.request('/api/achievements'); // Changed from /api/player/achievements\n  }\n}\n\nexport const apiService = new ApiService();"],"mappings":"AAAA;AACA,MAAMA,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAE7E,MAAMC,UAAU,CAAC;EACf,MAAMC,OAAOA,CAACC,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;IACpC,MAAMC,GAAG,GAAG,GAAGR,YAAY,GAAGM,QAAQ,EAAE;IACxCG,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,GAAG,CAAC,CAAC,CAAC;;IAExC,MAAMG,MAAM,GAAG;MACbC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClC,GAAGL,OAAO,CAACK;MACb,CAAC;MACD,GAAGL;IACL,CAAC;IAED,IAAI;MACF,MAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAEG,MAAM,CAAC;MAEzC,IAAI,CAACE,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuBH,QAAQ,CAACI,MAAM,EAAE,CAAC;MAC3D;MAEA,MAAMC,WAAW,GAAGL,QAAQ,CAACD,OAAO,CAACO,GAAG,CAAC,cAAc,CAAC;MACxD,IAAID,WAAW,IAAIA,WAAW,CAACE,QAAQ,CAAC,kBAAkB,CAAC,EAAE;QAC3D,OAAO,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;MAC9B;MAEA,OAAOR,QAAQ;IACjB,CAAC,CAAC,OAAOS,KAAK,EAAE;MACdb,OAAO,CAACa,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3C,MAAMA,KAAK;IACb;EACF;;EAEA;EACA,MAAMC,WAAWA,CAAA,EAAG;IAClB,OAAO,IAAI,CAAClB,OAAO,CAAC,YAAY,CAAC;EACnC;EAEA,MAAMmB,WAAWA,CAACC,QAAQ,EAAE;IAC1B,OAAO,IAAI,CAACpB,OAAO,CAAC,cAAcqB,kBAAkB,CAACD,QAAQ,CAAC,EAAE,CAAC;EACnE;EAEA,MAAME,UAAUA,CAACC,IAAI,EAAE;IACrB,OAAO,IAAI,CAACvB,OAAO,CAAC,YAAY,EAAE;MAChCwB,MAAM,EAAE,MAAM;MACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI;IAC3B,CAAC,CAAC;EACJ;EAEA,MAAMK,UAAUA,CAACR,QAAQ,EAAEG,IAAI,EAAE;IAC/B,OAAO,IAAI,CAACvB,OAAO,CAAC,cAAcqB,kBAAkB,CAACD,QAAQ,CAAC,EAAE,EAAE;MAChEI,MAAM,EAAE,KAAK;MACbC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI;IAC3B,CAAC,CAAC;EACJ;EAEA,MAAMM,UAAUA,CAACT,QAAQ,EAAE;IACzB,OAAO,IAAI,CAACpB,OAAO,CAAC,cAAcqB,kBAAkB,CAACD,QAAQ,CAAC,EAAE,EAAE;MAChEI,MAAM,EAAE;IACV,CAAC,CAAC;EACJ;EAEA,MAAMM,WAAWA,CAACC,KAAK,EAAE;IACvB,OAAO,IAAI,CAAC/B,OAAO,CAAC,2BAA2BqB,kBAAkB,CAACU,KAAK,CAAC,EAAE,CAAC;EAC7E;;EAEA;EACA,MAAMC,cAAcA,CAAA,EAAG;IACrB,OAAO,IAAI,CAAChC,OAAO,CAAC,YAAY,CAAC,CAAC,CAAC;EACrC;EAEA,MAAMiC,eAAeA,CAAA,EAAG;IACtB,OAAO,IAAI,CAACjC,OAAO,CAAC,mBAAmB,CAAC,CAAC,CAAC;EAC5C;AACF;AAEA,OAAO,MAAMkC,UAAU,GAAG,IAAInC,UAAU,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}