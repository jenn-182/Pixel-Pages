/*! For license information please see main.5c09b647.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:d,props:a,_owner:i.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,g={};function f(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=f.prototype;var v=b.prototype=new y;v.constructor=b,x(v,f.prototype),v.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,j={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var o,a={},s=null,i=null;if(null!=t)for(o in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)N.call(t,o)&&!k.hasOwnProperty(o)&&(a[o]=t[o]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===a[o]&&(a[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:i,props:a,_owner:j.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,o,a,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+T(l,0):a,w(s)?(o="",null!=e&&(o=e.replace(E,"$&/")+"/"),A(s,t,o,"",function(e){return e})):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var d=a+T(i=e[c],c);l+=A(i,t,o,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)l+=A(i=i.value,t,o,d=a+T(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],o=0;return A(e,r,"","",function(e){return t.call(n,e,o++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},_={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:_,ReactCurrentOwner:j};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=x({},e.props),a=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=j.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:o,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=_.transition;_.transition={};try{e()}finally{_.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var i=2*(r+1)-1,l=e[i],c=i+1,d=e[c];if(0>a(l,n))c<o&&0>a(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[i]=n,r=i);else{if(!(c<o&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],d=[],u=1,p=null,m=3,h=!1,x=!1,g=!1,f="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,v(e),!x)if(null!==r(c))x=!0,_(N);else{var t=r(d);null!==t&&O(w,t.startTime-e)}}function N(e,n){x=!1,g&&(g=!1,y(S),S=-1),h=!0;var a=m;try{for(v(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!A());){var s=p.callback;if("function"===typeof s){p.callback=null,m=p.priorityLevel;var i=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?p.callback=i:p===r(c)&&o(c),v(n)}else o(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&O(w,u.startTime-n),l=!1}return l}finally{p=null,m=a,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,k=!1,C=null,S=-1,E=5,T=-1;function A(){return!(t.unstable_now()-T<E)}function R(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?j():(k=!1,C=null)}}else k=!1}if("function"===typeof b)j=function(){b(R)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=R,j=function(){P.postMessage(null)}}else j=function(){f(R,0)};function _(e){C=e,k||(k=!0,j())}function O(e,n){S=f(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||h||(x=!0,_(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>s?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(g?(y(S),S=-1):g=!0,O(w,a-s))):(e.sortIndex=i,n(c,e),x||h||(x=!0,_(N))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),o=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},h={};function x(e,t,n,r,o,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!u.call(h,e)||!u.call(m,e)&&(p.test(e)?h[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,y);g[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,y);g[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,y);g[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var _=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),a=r.stack.split("\n"),s=o.length-1,i=a.length-1;1<=s&&0<=i&&o[s]!==a[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==a[i]){if(1!==s||1!==i)do{if(s--,0>--i||o[s]!==a[i]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case N:return"Portal";case C:return"Profiler";case k:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(me).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var fe=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,je=null,ke=null;function Ce(e){if(e=vo(e)){if("function"!==typeof Ne)throw Error(a(280));var t=e.stateNode;t&&(t=No(t),Ne(e.stateNode,e.type,t))}}function Se(e){je?ke?ke.push(e):ke=[e]:je=e}function Ee(){if(je){var e=je,t=ke;if(ke=je=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ae(){}var Re=!1;function Ie(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==je||null!==ke)&&(Ae(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=No(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var _e=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){_e=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){_e=!1}function De(e,t,n,r,o,a,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Le=!1,Me=null,Fe=!1,ze=null,Be={onError:function(e){Le=!0,Me=e}};function Ue(e,t,n,r,o,a,s,i,l){Le=!1,Me=null,De.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ve(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return We(o),e;if(s===r)return We(o),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=s;else{for(var i=!1,l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=o.unstable_scheduleCallback,Xe=o.unstable_cancelCallback,Ke=o.unstable_shouldYield,$e=o.unstable_requestPaint,Qe=o.unstable_now,Ze=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~o;0!==i?r=ut(i):0!==(a&=s)&&(r=ut(a))}else 0!==(s=n&~o)?r=ut(s):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ft(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Nt,jt,kt,Ct,St=!1,Et=[],Tt=null,At=null,Rt=null,It=new Map,Pt=new Map,_t=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=vo(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Mt(e){var t=bo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Ct(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vo(n))&&Nt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){St=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==At&&Ft(At)&&(At=null),null!==Rt&&Ft(Rt)&&(Rt=null),It.forEach(zt),Pt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return Ut(t,e)}if(0<Et.length){Ut(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ut(Tt,e),null!==At&&Ut(At,e),null!==Rt&&Ut(Rt,e),It.forEach(t),Pt.forEach(t),n=0;n<_t.length;n++)(r=_t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<_t.length&&null===(n=_t[0]).blockedOn;)Mt(n),null===n.blockedOn&&_t.shift()}var Ht=v.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var o=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Yt(e,t,n,r)}finally{bt=o,Ht.transition=a}}function qt(e,t,n,r){var o=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Yt(e,t,n,r)}finally{bt=o,Ht.transition=a}}function Yt(e,t,n,r){if(Wt){var o=Kt(e,t,n,r);if(null===o)Wr(e,t,r,Xt,n),Dt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,o),!0;case"dragenter":return At=Lt(At,e,t,n,r,o),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return It.set(a,Lt(It.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==o;){var a=vo(o);if(null!==a&&wt(a),null===(a=Kt(e,t,n,r))&&Wr(e,t,r,Xt,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Xt=null;function Kt(e,t,n,r){if(Xt=null,null!==(e=bo(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,o="value"in Qt?Qt.value:Qt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[a-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(cn),un=M({},cn,{view:0,detail:0}),pn=on(un),mn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(mn),xn=on(M({},mn,{dataTransfer:0})),gn=on(M({},un,{relatedTarget:0})),fn=on(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),vn=on(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function Cn(){return kn}var Sn=M({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(Sn),Tn=on(M({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=on(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=M({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(In),_n=[9,13,27,32],On=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Dn,Mn=d&&(!On||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==_n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Se(r),0<(t=qr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Xn(e){Fr(e,0)}function Kn(e){if(Y(wo(e)))return e}function $n(e,t){if("change"===e)return t}var Qn=!1;if(d){var Zn;if(d){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Yn=qn=null)}function nr(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Gn(t,Yn,e,we(e)),Ie(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Yn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function ar(e,t){if("click"===e)return Kn(t)}function sr(e,t){if("input"===e||"change"===e)return Kn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!u.call(t,o)||!ir(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=dr(n,a);var s=dr(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,fr=null,yr=null,br=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==X(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(fr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},jr={},kr={};function Cr(e){if(jr[e])return jr[e];if(!Nr[e])return e;var t,n=Nr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return jr[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);var Sr=Cr("animationend"),Er=Cr("animationiteration"),Tr=Cr("animationstart"),Ar=Cr("transitionend"),Rr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),l(t,[e])}for(var _r=0;_r<Ir.length;_r++){var Or=Ir[_r];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Sr,"onAnimationEnd"),Pr(Er,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,i,l,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(a(198));var d=Me;Le=!1,Me=null,Fe||(Fe=!0,ze=d)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var i=r[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==a&&o.isPropagationStopped())break e;Mr(o,i,c),a=l}else for(s=0;s<r.length;s++){if(l=(i=r[s]).instance,c=i.currentTarget,i=i.listener,l!==a&&o.isPropagationStopped())break e;Mr(o,i,c),a=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Ur]){e[Ur]=!0,s.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch($t(t)){case 1:var o=Gt;break;case 4:o=qt;break;default:o=Yt}n=o.bind(null,t,n,e),o=void 0,!_e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var i=r.stateNode.containerInfo;if(i===o||8===i.nodeType&&i.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==i;){if(null===(s=bo(i)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}i=i.parentNode}}r=r.return}Ie(function(){var r=a,o=we(n),s=[];e:{var i=Rr.get(e);if(void 0!==i){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=xn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Sr:case Er:case Tr:l=fn;break;case Ar:l=Rn;break;case"scroll":l=pn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==i?i+"Capture":null:i;d=[];for(var m,h=r;null!==h;){var x=(m=h).stateNode;if(5===m.tag&&null!==x&&(m=x,null!==p&&(null!=(x=Pe(h,p))&&d.push(Gr(h,x,m)))),u)break;h=h.return}0<d.length&&(i=new l(i,c,null,n,o),s.push({event:i,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!bo(c)&&!c[xo])&&(l||i)&&(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?bo(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=hn,x="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Tn,x="onPointerLeave",p="onPointerEnter",h="pointer"),u=null==l?i:wo(l),m=null==c?i:wo(c),(i=new d(x,h+"leave",l,n,o)).target=u,i.relatedTarget=m,x=null,bo(o)===r&&((d=new d(p,h+"enter",c,n,o)).target=m,d.relatedTarget=u,x=d),u=x,l&&c)e:{for(p=c,h=0,m=d=l;m;m=Yr(m))h++;for(m=0,x=p;x;x=Yr(x))m++;for(;0<h-m;)d=Yr(d),h--;for(;0<m-h;)p=Yr(p),m--;for(;h--;){if(d===p||null!==p&&d===p.alternate)break e;d=Yr(d),p=Yr(p)}d=null}else d=null;null!==l&&Xr(s,i,l,d,!1),null!==c&&null!==u&&Xr(s,u,c,d,!0)}if("select"===(l=(i=r?wo(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=$n;else if(Wn(i))if(Qn)g=sr;else{g=or;var f=rr}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=ar);switch(g&&(g=g(e,r))?Gn(s,g,n,o):(f&&f(e,i,r),"focusout"===e&&(f=i._wrapperState)&&f.controlled&&"number"===i.type&&ee(i,"number",i.value)),f=r?wo(r):window,e){case"focusin":(Wn(f)||"true"===f.contentEditable)&&(gr=f,fr=r,yr=null);break;case"focusout":yr=fr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,vr(s,n,o);break;case"selectionchange":if(xr)break;case"keydown":case"keyup":vr(s,n,o)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Zt="value"in(Qt=o)?Qt.value:Qt.textContent,Vn=!0)),0<(f=qr(r,b)).length&&(b=new vn(b,e,null,n,o),s.push({event:b,listeners:f}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),Jt=Zt=Qt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(o=new vn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}Fr(s,t)})}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Pe(e,n))&&r.unshift(Gr(e,a,o)),null!=(a=Pe(e,t))&&r.push(Gr(e,a,o))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,o){for(var a=t._reactName,s=[];null!==n&&n!==r;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===r)break;5===i.tag&&null!==c&&(i=c,o?null!=(l=Pe(n,a))&&s.unshift(Gr(n,l,i)):o||null!=(l=Pe(n,a))&&s.push(Gr(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Kr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace($r,"")}function Zr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ao="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ao?function(e){return ao.resolve(null).then(e).catch(io)}:ro;function io(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Vt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),mo="__reactFiber$"+po,ho="__reactProps$"+po,xo="__reactContainer$"+po,go="__reactEvents$"+po,fo="__reactListeners$"+po,yo="__reactHandles$"+po;function bo(e){var t=e[mo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xo]||n[mo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[mo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function vo(e){return!(e=e[mo]||e[xo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function No(e){return e[ho]||null}var jo=[],ko=-1;function Co(e){return{current:e}}function So(e){0>ko||(e.current=jo[ko],jo[ko]=null,ko--)}function Eo(e,t){ko++,jo[ko]=e.current,e.current=t}var To={},Ao=Co(To),Ro=Co(!1),Io=To;function Po(e,t){var n=e.type.contextTypes;if(!n)return To;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function _o(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oo(){So(Ro),So(Ao)}function Do(e,t,n){if(Ao.current!==To)throw Error(a(168));Eo(Ao,t),Eo(Ro,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,H(e)||"Unknown",o));return M({},n,r)}function Mo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Io=Ao.current,Eo(Ao,e),Eo(Ro,Ro.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Lo(e,t,Io),r.__reactInternalMemoizedMergedChildContext=e,So(Ro),So(Ao),Eo(Ao,e)):So(Ro),Eo(Ro,n)}var zo=null,Bo=!1,Uo=!1;function Vo(e){null===zo?zo=[e]:zo.push(e)}function Ho(){if(!Uo&&null!==zo){Uo=!0;var e=0,t=bt;try{var n=zo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Bo=!1}catch(o){throw null!==zo&&(zo=zo.slice(e+1)),Ye(Je,Ho),o}finally{bt=t,Uo=!1}}return null}var Wo=[],Go=0,qo=null,Yo=0,Xo=[],Ko=0,$o=null,Qo=1,Zo="";function Jo(e,t){Wo[Go++]=Yo,Wo[Go++]=qo,qo=e,Yo=t}function ea(e,t,n){Xo[Ko++]=Qo,Xo[Ko++]=Zo,Xo[Ko++]=$o,$o=e;var r=Qo;e=Zo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var a=32-st(t)+o;if(30<a){var s=o-o%5;a=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Qo=1<<32-st(t)+o|n<<o|r,Zo=a+e}else Qo=1<<a|n<<o|r,Zo=e}function ta(e){null!==e.return&&(Jo(e,1),ea(e,1,0))}function na(e){for(;e===qo;)qo=Wo[--Go],Wo[Go]=null,Yo=Wo[--Go],Wo[Go]=null;for(;e===$o;)$o=Xo[--Ko],Xo[Ko]=null,Zo=Xo[--Ko],Xo[Ko]=null,Qo=Xo[--Ko],Xo[Ko]=null}var ra=null,oa=null,aa=!1,sa=null;function ia(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,oa=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$o?{id:Qo,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,oa=null,!0);default:return!1}}function ca(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function da(e){if(aa){var t=oa;if(t){var n=t;if(!la(e,t)){if(ca(e))throw Error(a(418));t=co(n.nextSibling);var r=ra;t&&la(e,t)?ia(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ca(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function pa(e){if(e!==ra)return!1;if(!aa)return ua(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oa)){if(ca(e))throw ma(),Error(a(418));for(;t;)ia(e,t),t=co(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oa=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oa=null}}else oa=ra?co(e.stateNode.nextSibling):null;return!0}function ma(){for(var e=oa;e;)e=co(e.nextSibling)}function ha(){oa=ra=null,aa=!1}function xa(e){null===sa?sa=[e]:sa.push(e)}var ga=v.ReactCurrentBatchConfig;function fa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function va(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=_c(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===j?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&ba(a)===t.type)?((r=o(t,n.props)).ref=fa(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=fa(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=fa(e,null,t),n.return=e,n;case N:return(t=Fc(t,e.mode,n)).return=e,t;case P:return p(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function m(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case N:return n.key===o?d(e,t,n,r):null;case P:return m(e,t,(o=n._init)(n._payload),r)}if(te(n)||D(n))return null!==o?null:u(e,t,n,r,null);ya(e,n)}return null}function h(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case N:return d(t,e=e.get(null===r.key?n:r.key)||null,r,o);case P:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||D(r))return u(t,e=e.get(n)||null,r,o,null);ya(t,r)}return null}function x(o,a,i,l){for(var c=null,d=null,u=a,x=a=0,g=null;null!==u&&x<i.length;x++){u.index>x?(g=u,u=null):g=u.sibling;var f=m(o,u,i[x],l);if(null===f){null===u&&(u=g);break}e&&u&&null===f.alternate&&t(o,u),a=s(f,a,x),null===d?c=f:d.sibling=f,d=f,u=g}if(x===i.length)return n(o,u),aa&&Jo(o,x),c;if(null===u){for(;x<i.length;x++)null!==(u=p(o,i[x],l))&&(a=s(u,a,x),null===d?c=u:d.sibling=u,d=u);return aa&&Jo(o,x),c}for(u=r(o,u);x<i.length;x++)null!==(g=h(u,o,x,i[x],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?x:g.key),a=s(g,a,x),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach(function(e){return t(o,e)}),aa&&Jo(o,x),c}function g(o,i,l,c){var d=D(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,x=i,g=i=0,f=null,y=l.next();null!==x&&!y.done;g++,y=l.next()){x.index>g?(f=x,x=null):f=x.sibling;var b=m(o,x,y.value,c);if(null===b){null===x&&(x=f);break}e&&x&&null===b.alternate&&t(o,x),i=s(b,i,g),null===u?d=b:u.sibling=b,u=b,x=f}if(y.done)return n(o,x),aa&&Jo(o,g),d;if(null===x){for(;!y.done;g++,y=l.next())null!==(y=p(o,y.value,c))&&(i=s(y,i,g),null===u?d=y:u.sibling=y,u=y);return aa&&Jo(o,g),d}for(x=r(o,x);!y.done;g++,y=l.next())null!==(y=h(x,o,g,y.value,c))&&(e&&null!==y.alternate&&x.delete(null===y.key?g:y.key),i=s(y,i,g),null===u?d=y:u.sibling=y,u=y);return e&&x.forEach(function(e){return t(o,e)}),aa&&Jo(o,g),d}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===j&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=a;null!==d;){if(d.key===c){if((c=s.type)===j){if(7===d.tag){n(r,d.sibling),(a=o(d,s.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ba(c)===d.type){n(r,d.sibling),(a=o(d,s.props)).ref=fa(r,d,s),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}s.type===j?((a=Dc(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Oc(s.type,s.key,s.props,null,r.mode,l)).ref=fa(r,a,s),l.return=r,r=l)}return i(r);case N:e:{for(d=s.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=o(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(s,r.mode,l)).return=r,r=a}return i(r);case P:return e(r,a,(d=s._init)(s._payload),l)}if(te(s))return x(r,a,s,l);if(D(s))return g(r,a,s,l);ya(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=o(a,s)).return=r,r=a):(n(r,a),(a=Mc(s,r.mode,l)).return=r,r=a),i(r)):n(r,a)}}var wa=va(!0),Na=va(!1),ja=Co(null),ka=null,Ca=null,Sa=null;function Ea(){Sa=Ca=ka=null}function Ta(e){var t=ja.current;So(ja),e._currentValue=t}function Aa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ra(e,t){ka=e,Sa=Ca=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===Ca){if(null===ka)throw Error(a(308));Ca=e,ka.dependencies={lanes:0,firstContext:e}}else Ca=Ca.next=e;return t}var Pa=null;function _a(e){null===Pa?Pa=[e]:Pa.push(e)}function Oa(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,_a(t)):(n.next=o.next,o.next=n),t.interleaved=n,Da(e,r)}function Da(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Da(e,n)}return null===(o=r.interleaved)?(t.next=t,_a(r)):(t.next=o.next,o.next=t),r.interleaved=t,Da(e,n)}function Ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Va(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ha(e,t,n,r){var o=e.updateQueue;La=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,i=o.shared.pending;if(null!==i){o.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=o.baseState;for(s=0,d=c=l=null,i=a;;){var p=i.lane,m=i.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,x=i;switch(p=t,m=n,x.tag){case 1:if("function"===typeof(h=x.payload)){u=h.call(m,u,p);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=x.payload)?h.call(m,u,p):h)||void 0===p)break e;u=M({},u,p);break e;case 2:La=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[i]:p.push(i))}else m={eventTime:m,lane:p,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=m,l=u):d=d.next=m,s|=p;if(null===(i=i.next)){if(null===(i=o.shared.pending))break;i=(p=i).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===d&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=u}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(a(191,o));o.call(r)}}}var Ga={},qa=Co(Ga),Ya=Co(Ga),Xa=Co(Ga);function Ka(e){if(e===Ga)throw Error(a(174));return e}function $a(e,t){switch(Eo(Xa,t),Eo(Ya,e),Eo(qa,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}So(qa),Eo(qa,t)}function Qa(){So(qa),So(Ya),So(Xa)}function Za(e){Ka(Xa.current);var t=Ka(qa.current),n=le(t,e.type);t!==n&&(Eo(Ya,e),Eo(qa,n))}function Ja(e){Ya.current===e&&(So(qa),So(Ya))}var es=Co(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=v.ReactCurrentDispatcher,as=v.ReactCurrentBatchConfig,ss=0,is=null,ls=null,cs=null,ds=!1,us=!1,ps=0,ms=0;function hs(){throw Error(a(321))}function xs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,is=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Js:ei,e=n(r,o),us){s=0;do{if(us=!1,ps=0,25<=s)throw Error(a(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ti,e=n(r,o)}while(us)}if(os.current=Zs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=is=null,ds=!1,t)throw Error(a(300));return e}function fs(){var e=0!==ps;return ps=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?is.memoizedState=cs=e:cs=cs.next=e,cs}function bs(){if(null===ls){var e=is.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?is.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?is.memoizedState=cs=e:cs=cs.next=e}return cs}function vs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var i=o.next;o.next=s.next,s.next=i}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=i=null,c=null,d=s;do{var u=d.lane;if((ss&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,i=r):c=c.next=p,is.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==s);null===c?i=r:c.next=l,ir(r,t.memoizedState)||(bi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,is.lanes|=s,Ll|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ns(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var i=o=o.next;do{s=e(s,i.action),i=i.next}while(i!==o);ir(s,t.memoizedState)||(bi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function js(){}function ks(e,t){var n=is,r=bs(),o=t(),s=!ir(r.memoizedState,o);if(s&&(r.memoizedState=o,bi=!0),r=r.queue,Ls(Es.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Is(9,Ss.bind(null,n,r,o,t),void 0,null),null===Al)throw Error(a(349));0!==(30&ss)||Cs(n,t,o)}return o}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ss(e,t,n,r){t.value=n,t.getSnapshot=r,Ts(t)&&As(e)}function Es(e,t,n){return n(function(){Ts(t)&&As(e)})}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function As(e){var t=Da(e,1);null!==t&&nc(t,e,1,-1)}function Rs(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=Xs.bind(null,is,e),[t.memoizedState,e]}function Is(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=is.updateQueue)?(t={lastEffect:null,stores:null},is.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ps(){return bs().memoizedState}function _s(e,t,n,r){var o=ys();is.flags|=e,o.memoizedState=Is(1|t,n,void 0,void 0===r?null:r)}function Os(e,t,n,r){var o=bs();r=void 0===r?null:r;var a=void 0;if(null!==ls){var s=ls.memoizedState;if(a=s.destroy,null!==r&&xs(r,s.deps))return void(o.memoizedState=Is(t,n,a,r))}is.flags|=e,o.memoizedState=Is(1|t,n,a,r)}function Ds(e,t){return _s(8390656,8,e,t)}function Ls(e,t){return Os(2048,8,e,t)}function Ms(e,t){return Os(4,2,e,t)}function Fs(e,t){return Os(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4,4,zs.bind(null,t,e),n)}function Us(){}function Vs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n):(ir(n,t)||(n=xt(),is.lanes|=n,Ll|=n,e.baseState=!0),t)}function Gs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=as.transition;as.transition={};try{e(!1),t()}finally{bt=n,as.transition=r}}function qs(){return bs().memoizedState}function Ys(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e))$s(t,n);else if(null!==(n=Oa(e,t,n,r))){nc(n,e,r,ec()),Qs(n,t,r)}}function Xs(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))$s(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=a(s,n);if(o.hasEagerState=!0,o.eagerState=i,ir(i,s)){var l=t.interleaved;return null===l?(o.next=o,_a(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Oa(e,t,o,r))&&(nc(n,e,r,o=ec()),Qs(n,t,r))}}function Ks(e){var t=e.alternate;return e===is||null!==t&&t===is}function $s(e,t){us=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zs={readContext:Ia,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Js={readContext:Ia,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:Ds,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_s(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _s(4194308,4,e,t)},useInsertionEffect:function(e,t){return _s(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ys.bind(null,is,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Rs,useDebugValue:Us,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Rs(!1),t=e[0];return e=Gs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=is,o=ys();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Al)throw Error(a(349));0!==(30&ss)||Cs(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ds(Es.bind(null,r,s,e),[e]),r.flags|=2048,Is(9,Ss.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Al.identifierPrefix;if(aa){var n=Zo;t=":"+t+"R"+(n=(Qo&~(1<<32-st(Qo)-1)).toString(32)+n),0<(n=ps++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ms++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Ia,useCallback:Vs,useContext:Ia,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Ms,useLayoutEffect:Fs,useMemo:Hs,useReducer:ws,useRef:Ps,useState:function(){return ws(vs)},useDebugValue:Us,useDeferredValue:function(e){return Ws(bs(),ls.memoizedState,e)},useTransition:function(){return[ws(vs)[0],bs().memoizedState]},useMutableSource:js,useSyncExternalStore:ks,useId:qs,unstable_isNewReconciler:!1},ti={readContext:Ia,useCallback:Vs,useContext:Ia,useEffect:Ls,useImperativeHandle:Bs,useInsertionEffect:Ms,useLayoutEffect:Fs,useMemo:Hs,useReducer:Ns,useRef:Ps,useState:function(){return Ns(vs)},useDebugValue:Us,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Ws(t,ls.memoizedState,e)},useTransition:function(){return[Ns(vs)[0],bs().memoizedState]},useMutableSource:js,useSyncExternalStore:ks,useId:qs,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oi={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),a=za(r,o);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ba(e,a,o))&&(nc(t,e,o,r),Ua(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),a=za(r,o);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ba(e,a,o))&&(nc(t,e,o,r),Ua(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=za(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Ba(e,o,r))&&(nc(t,e,r,n),Ua(t,e,r))}};function ai(e,t,n,r,o,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,a))}function si(e,t,n){var r=!1,o=To,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(o=_o(t)?Io:Ao.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Po(e,o):To),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oi.enqueueReplaceState(t,t.state,null)}function li(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ma(e);var a=t.contextType;"object"===typeof a&&null!==a?o.context=Ia(a):(a=_o(t)?Io:Ao.current,o.context=Po(e,a)),o.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ri(e,t,a,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oi.enqueueReplaceState(o,o.state,null),Ha(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var o=n}catch(a){o="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:o,digest:null}}function di(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pi="function"===typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),ui(0,t)},n}function hi(e,t,n){(n=za(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ui(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ui(0,t),"function"!==typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pi;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function gi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fi(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,Ba(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var yi=v.ReactCurrentOwner,bi=!1;function vi(e,t,n,r){t.child=null===e?Na(t,null,n,r):wa(t,e.child,n,r)}function wi(e,t,n,r,o){n=n.render;var a=t.ref;return Ra(t,o),r=gs(e,t,n,r,a,o),n=fs(),null===e||bi?(aa&&n&&ta(t),t.flags|=1,vi(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wi(e,t,o))}function Ni(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ji(e,t,a,r,o))}if(a=e.child,0===(e.lanes&o)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Wi(e,t,o)}return t.flags|=1,(e=_c(a,r)).ref=t.ref,e.return=t,t.child=e}function ji(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bi=!1,t.pendingProps=r=a,0===(e.lanes&o))return t.lanes=e.lanes,Wi(e,t,o);0!==(131072&e.flags)&&(bi=!0)}}return Si(e,t,n,r,o)}function ki(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Eo(_l,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Eo(_l,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Eo(_l,Pl),Pl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Eo(_l,Pl),Pl|=r;return vi(e,t,o,n),t.child}function Ci(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Si(e,t,n,r,o){var a=_o(n)?Io:Ao.current;return a=Po(t,a),Ra(t,o),n=gs(e,t,n,r,a,o),r=fs(),null===e||bi?(aa&&r&&ta(t),t.flags|=1,vi(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Wi(e,t,o))}function Ei(e,t,n,r,o){if(_o(n)){var a=!0;Mo(t)}else a=!1;if(Ra(t,o),null===t.stateNode)Hi(e,t),si(t,n,r),li(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Po(t,c=_o(n)?Io:Ao.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==r||l!==c)&&ii(t,s,r,c),La=!1;var p=t.memoizedState;s.state=p,Ha(t,r,s,o),l=t.memoizedState,i!==r||p!==l||Ro.current||La?("function"===typeof d&&(ri(t,n,d,r),l=t.memoizedState),(i=La||ai(t,n,i,r,p,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Fa(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),s.props=c,u=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ia(l):l=Po(t,l=_o(n)?Io:Ao.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==u||p!==l)&&ii(t,s,r,l),La=!1,p=t.memoizedState,s.state=p,Ha(t,r,s,o);var h=t.memoizedState;i!==u||p!==h||Ro.current||La?("function"===typeof m&&(ri(t,n,m,r),h=t.memoizedState),(c=La||ai(t,n,c,r,p,h,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ti(e,t,n,r,a,o)}function Ti(e,t,n,r,o,a){Ci(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Fo(t,n,!1),Wi(e,t,a);r=t.stateNode,yi.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,i,a)):vi(e,t,i,a),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function Ai(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),$a(e,t.containerInfo)}function Ri(e,t,n,r,o){return ha(),xa(o),t.flags|=256,vi(e,t,n,r),t.child}var Ii,Pi,_i,Oi,Di={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mi(e,t,n){var r,o=t.pendingProps,s=es.current,i=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Eo(es,1&s),null===e)return da(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,i?(o=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Lc(l,o,0,null),e=Dc(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(n),t.memoizedState=Di,e):Fi(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,i){if(n)return 256&t.flags?(t.flags&=-257,zi(e,t,i,r=di(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Lc({mode:"visible",children:r.children},o,0,null),(s=Dc(s,o,i,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wa(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=Di,s);if(0===(1&t.mode))return zi(e,t,i,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,zi(e,t,i,r=di(s=Error(a(419)),r,void 0))}if(l=0!==(i&e.childLanes),bi||l){if(null!==(r=Al)){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|i))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Da(e,o),nc(r,e,o,-1))}return xc(),zi(e,t,i,r=di(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oa=co(o.nextSibling),ra=t,aa=!0,sa=null,null!==e&&(Xo[Ko++]=Qo,Xo[Ko++]=Zo,Xo[Ko++]=$o,Qo=e.id,Zo=e.overflow,$o=t),t=Fi(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(i){i=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=_c(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?i=_c(r,i):(i=Dc(i,l,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,l=null===(l=e.child.memoizedState)?Li(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Di,o}return e=(i=e.child).sibling,o=_c(i,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Fi(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zi(e,t,n,r){return null!==r&&xa(r),wa(t,e.child,null,n),(e=Fi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Aa(e.return,t,n)}function Ui(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Vi(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(vi(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bi(e,n,t);else if(19===e.tag)Bi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Eo(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ui(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ui(t,!0,n,null,a);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=_c(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=_c(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gi(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yi(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qi(t),null;case 1:case 17:return _o(t.type)&&Oo(),qi(t),null;case 3:return r=t.stateNode,Qa(),So(Ro),So(Ao),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sa&&(sc(sa),sa=null))),Pi(e,t),qi(t),null;case 5:Ja(t);var o=Ka(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)_i(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return qi(t),null}if(e=Ka(qa.current),pa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[mo]=t,r[ho]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)zr(Dr[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":$(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":oe(r,s),zr("invalid",r)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),o=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),J(r,s,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[mo]=t,e[ho]=r,Ii(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)zr(Dr[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":$(e,r),o=K(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=M({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ge(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=d&&"onScroll"===s&&zr("scroll",e):null!=d&&b(e,s,d,l))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qi(t),null;case 6:if(e&&null!=t.stateNode)Oi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ka(Xa.current),Ka(qa.current),pa(t)){if(r=t.stateNode,n=t.memoizedProps,r[mo]=t,(s=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[mo]=t,t.stateNode=r}return qi(t),null;case 13:if(So(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&0!==(1&t.mode)&&0===(128&t.flags))ma(),ha(),t.flags|=98560,s=!1;else if(s=pa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[mo]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qi(t),s=!1}else null!==sa&&(sc(sa),sa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Ol&&(Ol=3):xc())),null!==t.updateQueue&&(t.flags|=4),qi(t),null);case 4:return Qa(),Pi(e,t),null===e&&Vr(t.stateNode.containerInfo),qi(t),null;case 10:return Ta(t.type._context),qi(t),null;case 19:if(So(es),null===(s=t.memoizedState))return qi(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Gi(s,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Gi(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Eo(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Vl&&(t.flags|=128,r=!0,Gi(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!aa)return qi(t),null}else 2*Qe()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Gi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=es.current,Eo(es,r?1&n|2:1&n),t):(qi(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(qi(t),6&t.subtreeFlags&&(t.flags|=8192)):qi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Xi(e,t){switch(na(t),t.tag){case 1:return _o(t.type)&&Oo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),So(Ro),So(Ao),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ja(t),null;case 13:if(So(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return So(es),null;case 4:return Qa(),null;case 10:return Ta(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ii=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pi=function(){},_i=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ka(qa.current);var a,s=null;switch(n){case"input":o=K(e,o),r=K(e,r),s=[];break;case"select":o=M({},o,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(d in ye(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Oi=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ki=!1,$i=!1,Qi="function"===typeof WeakSet?WeakSet:Set,Zi=null;function Ji(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&el(t,n,a)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mo],delete t[ho],delete t[go],delete t[fo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function pl(e,t,n){for(n=n.child;null!==n;)ml(e,t,n),n=n.sibling}function ml(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,n)}catch(i){}switch(n.tag){case 5:$i||Ji(n,t);case 6:var r=dl,o=ul;dl=null,pl(e,t,n),ul=o,null!==(dl=r)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Vt(e)):lo(dl,n.stateNode));break;case 4:r=dl,o=ul,dl=n.stateNode.containerInfo,ul=!0,pl(e,t,n),dl=r,ul=o;break;case 0:case 11:case 14:case 15:if(!$i&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),o=o.next}while(o!==r)}pl(e,t,n);break;case 1:if(!$i&&(Ji(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){kc(n,t,i)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?($i=(r=$i)||null!==n.memoizedState,pl(e,t,n),$i=r):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qi),t.forEach(function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function xl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));ml(s,i,o),dl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(d){kc(o,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xl(t,e),fl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:xl(t,e),fl(e),512&r&&null!==n&&Ji(n,n.return);break;case 5:if(xl(t,e),fl(e),512&r&&null!==n&&Ji(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(o,s),be(l,i);var d=be(l,s);for(i=0;i<c.length;i+=2){var u=c[i],p=c[i+1];"style"===u?ge(o,p):"dangerouslySetInnerHTML"===u?ue(o,p):"children"===u?pe(o,p):b(o,u,p,d)}switch(l){case"input":Z(o,s);break;case"textarea":ae(o,s);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(o,!!s.multiple,h,!1):m!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[ho]=s}catch(g){kc(e,e.return,g)}}break;case 6:if(xl(t,e),fl(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){kc(e,e.return,g)}}break;case 3:if(xl(t,e),fl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:xl(t,e),fl(e);break;case 13:xl(t,e),fl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Ul=Qe())),4&r&&hl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?($i=(d=$i)||u,xl(t,e),$i=d):xl(t,e),fl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zi=e,u=e.child;null!==u;){for(p=Zi=u;null!==Zi;){switch(h=(m=Zi).child,m.tag){case 0:case 11:case 14:case 15:nl(4,m,m.return);break;case 1:Ji(m,m.return);var x=m.stateNode;if("function"===typeof x.componentWillUnmount){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Ji(m,m.return);break;case 22:if(null!==m.memoizedState){wl(p);continue}}null!==h?(h.return=m,Zi=h):wl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{o=p.stateNode,d?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,i=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=xe("display",i))}catch(g){kc(e,e.return,g)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:xl(t,e),fl(e),4&r&&hl(e);case 21:}}function fl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),cl(e,il(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,il(e),s);break;default:throw Error(a(161))}}catch(i){kc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Zi=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zi;){var o=Zi,a=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ki;if(!s){var i=o.alternate,l=null!==i&&null!==i.memoizedState||$i;i=Ki;var c=$i;if(Ki=s,($i=l)&&!c)for(Zi=o;null!==Zi;)l=(s=Zi).child,22===s.tag&&null!==s.memoizedState?Nl(o):null!==l?(l.return=s,Zi=l):Nl(o);for(;null!==a;)Zi=a,bl(a,t,n),a=a.sibling;Zi=o,Ki=i,$i=c}vl(e)}else 0!==(8772&o.subtreeFlags)&&null!==a?(a.return=o,Zi=a):vl(e)}}function vl(e){for(;null!==Zi;){var t=Zi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$i||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$i)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wa(t,s,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(a(163))}$i||512&t.flags&&ol(t)}catch(m){kc(t,t.return,m)}}if(t===e){Zi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zi=n;break}Zi=t.return}}function wl(e){for(;null!==Zi;){var t=Zi;if(t===e){Zi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zi=n;break}Zi=t.return}}function Nl(e){for(;null!==Zi;){var t=Zi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){kc(t,o,l)}}var a=t.return;try{ol(t)}catch(l){kc(t,a,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){kc(t,s,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Zi=i;break}Zi=t.return}}var jl,kl=Math.ceil,Cl=v.ReactCurrentDispatcher,Sl=v.ReactCurrentOwner,El=v.ReactCurrentBatchConfig,Tl=0,Al=null,Rl=null,Il=0,Pl=0,_l=Co(0),Ol=0,Dl=null,Ll=0,Ml=0,Fl=0,zl=null,Bl=null,Ul=0,Vl=1/0,Hl=null,Wl=!1,Gl=null,ql=null,Yl=!1,Xl=null,Kl=0,$l=0,Ql=null,Zl=-1,Jl=0;function ec(){return 0!==(6&Tl)?Qe():-1!==Zl?Zl:Zl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Il?Il&-Il:null!==ga.transition?(0===Jl&&(Jl=xt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$l)throw $l=0,Ql=null,Error(a(185));ft(e,n,r),0!==(2&Tl)&&e===Al||(e===Al&&(0===(2&Tl)&&(Ml|=n),4===Ol&&ic(e,Il)),rc(e,r),1===n&&0===Tl&&0===(1&t.mode)&&(Vl=Qe()+500,Bo&&Ho()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),i=1<<s,l=o[s];-1===l?0!==(i&n)&&0===(i&r)||(o[s]=mt(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var r=pt(e,e===Al?Il:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Bo=!0,Vo(e)}(lc.bind(null,e)):Vo(lc.bind(null,e)),so(function(){0===(6&Tl)&&Ho()}),n=null;else{switch(vt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,Jl=0,0!==(6&Tl))throw Error(a(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=pt(e,e===Al?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=Tl;Tl|=2;var s=hc();for(Al===e&&Il===t||(Hl=null,Vl=Qe()+500,pc(e,t));;)try{yc();break}catch(l){mc(e,l)}Ea(),Cl.current=s,Tl=o,null!==Rl?t=0:(Al=null,Il=0,t=Ol)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=ac(e,o))),1===t)throw n=Dl,pc(e,0),ic(e,r),rc(e,Qe()),n;if(6===t)ic(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!ir(a(),o))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(s=ht(e))&&(r=s,t=ac(e,s))),1===t))throw n=Dl,pc(e,0),ic(e,r),rc(e,Qe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bl,Hl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Ul+500-Qe())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,Bl,Hl),t);break}wc(e,Bl,Hl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-st(r);s=1<<i,(i=t[i])>o&&(o=i),r&=~s}if(r=o,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,Bl,Hl),r);break}wc(e,Bl,Hl);break;default:throw Error(a(329))}}}return rc(e,Qe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function ic(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(a(327));Nc();var t=pt(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Dl,pc(e,0),ic(e,t),rc(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Hl),rc(e,Qe()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Vl=Qe()+500,Bo&&Ho())}}function dc(e){null!==Xl&&0===Xl.tag&&0===(6&Tl)&&Nc();var t=Tl;Tl|=1;var n=El.transition,r=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=r,El.transition=n,0===(6&(Tl=t))&&Ho()}}function uc(){Pl=_l.current,So(_l)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oo();break;case 3:Qa(),So(Ro),So(Ao),rs();break;case 5:Ja(r);break;case 4:Qa();break;case 13:case 19:So(es);break;case 10:Ta(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Al=e,Rl=e=_c(e.current,null),Il=Pl=t,Ol=0,Dl=null,Fl=Ml=Ll=0,Bl=zl=null,null!==Pa){for(t=0;t<Pa.length;t++)if(null!==(r=(n=Pa[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=o,r.next=s}n.pending=r}Pa=null}return e}function mc(e,t){for(;;){var n=Rl;try{if(Ea(),os.current=Zs,ds){for(var r=is.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ds=!1}if(ss=0,cs=ls=is=null,us=!1,ps=0,Sl.current=null,null===n||null===n.return){Ol=1,Dl=t,Rl=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=gi(i);if(null!==h){h.flags&=-257,fi(h,i,l,0,t),1&h.mode&&xi(s,d,t),c=d;var x=(t=h).updateQueue;if(null===x){var g=new Set;g.add(c),t.updateQueue=g}else x.add(c);break e}if(0===(1&t)){xi(s,d,t),xc();break e}c=Error(a(426))}else if(aa&&1&l.mode){var f=gi(i);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),fi(f,i,l,0,t),xa(ci(c,l));break e}}s=c=ci(c,l),4!==Ol&&(Ol=2),null===zl?zl=[s]:zl.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Va(s,mi(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Va(s,hi(s,l,t));break e}}s=s.return}while(null!==s)}vc(n)}catch(v){t=v,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function hc(){var e=Cl.current;return Cl.current=Zs,null===e?Zs:e}function xc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Al||0===(268435455&Ll)&&0===(268435455&Ml)||ic(Al,Il)}function gc(e,t){var n=Tl;Tl|=2;var r=hc();for(Al===e&&Il===t||(Hl=null,pc(e,t));;)try{fc();break}catch(o){mc(e,o)}if(Ea(),Tl=n,Cl.current=r,null!==Rl)throw Error(a(261));return Al=null,Il=0,Ol}function fc(){for(;null!==Rl;)bc(Rl)}function yc(){for(;null!==Rl&&!Ke();)bc(Rl)}function bc(e){var t=jl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?vc(e):Rl=t,Sl.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yi(n,t,Pl)))return void(Rl=n)}else{if(null!==(n=Xi(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ol=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ol&&(Ol=5)}function wc(e,t,n){var r=bt,o=El.transition;try{El.transition=null,bt=1,function(e,t,n,r){do{Nc()}while(null!==Xl);if(0!==(6&Tl))throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,s),e===Al&&(Rl=Al=null,Il=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Ac(tt,function(){return Nc(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=El.transition,El.transition=null;var i=bt;bt=1;var l=Tl;Tl|=4,Sl.current=null,function(e,t){if(eo=Wt,mr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var i=0,l=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(l=i+o),p!==s||0!==r&&3!==p.nodeType||(c=i+r),3===p.nodeType&&(i+=p.nodeValue.length),null!==(h=p.firstChild);)m=p,p=h;for(;;){if(p===e)break t;if(m===n&&++d===o&&(l=i),m===s&&++u===r&&(c=i),null!==(h=p.nextSibling))break;m=(p=m).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Wt=!1,Zi=t;null!==Zi;)if(e=(t=Zi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zi=e;else for(;null!==Zi;){t=Zi;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var g=x.memoizedProps,f=x.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ni(t.type,g),f);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(a(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zi=e;break}Zi=t.return}x=tl,tl=!1}(e,n),gl(n,e),hr(to),Wt=!!eo,to=eo=null,e.current=n,yl(n,e,o),$e(),Tl=l,bt=i,El.transition=s}else e.current=n;if(Yl&&(Yl=!1,Xl=e,Kl=o),s=e.pendingLanes,0===s&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Kl)&&0!==e.tag&&Nc(),s=e.pendingLanes,0!==(1&s)?e===Ql?$l++:($l=0,Ql=e):$l=0,Ho()}(e,t,n,r)}finally{El.transition=o,bt=r}return null}function Nc(){if(null!==Xl){var e=vt(Kl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Xl)var r=!1;else{if(e=Xl,Xl=null,Kl=0,0!==(6&Tl))throw Error(a(331));var o=Tl;for(Tl|=4,Zi=e.current;null!==Zi;){var s=Zi,i=s.child;if(0!==(16&Zi.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zi=d;null!==Zi;){var u=Zi;switch(u.tag){case 0:case 11:case 15:nl(8,u,s)}var p=u.child;if(null!==p)p.return=u,Zi=p;else for(;null!==Zi;){var m=(u=Zi).sibling,h=u.return;if(al(u),u===d){Zi=null;break}if(null!==m){m.return=h,Zi=m;break}Zi=h}}}var x=s.alternate;if(null!==x){var g=x.child;if(null!==g){x.child=null;do{var f=g.sibling;g.sibling=null,g=f}while(null!==g)}}Zi=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,Zi=i;else e:for(;null!==Zi;){if(0!==(2048&(s=Zi).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Zi=y;break e}Zi=s.return}}var b=e.current;for(Zi=b;null!==Zi;){var v=(i=Zi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Zi=v;else e:for(i=b;null!==Zi;){if(0!==(2048&(l=Zi).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(N){kc(l,l.return,N)}if(l===i){Zi=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zi=w;break e}Zi=l.return}}if(Tl=o,Ho(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(N){}r=!0}return r}finally{bt=n,El.transition=t}}return!1}function jc(e,t,n){e=Ba(e,t=mi(0,t=ci(n,t),1),1),t=ec(),null!==e&&(ft(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Ba(t,e=hi(t,e=ci(n,e),1),1),e=ec(),null!==t&&(ft(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Il&n)===n&&(4===Ol||3===Ol&&(130023424&Il)===Il&&500>Qe()-Ul?pc(e,0):Fl|=n),rc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Da(e,t))&&(ft(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Ac(e,t){return Ye(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function _c(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,o,s){var i=2;if(r=e,"function"===typeof e)Pc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case j:return Dc(n.children,o,s,t);case k:i=8,o|=8;break;case C:return(e=Ic(12,n,t,2|o)).elementType=C,e.lanes=s,e;case A:return(e=Ic(13,n,t,o)).elementType=A,e.lanes=s,e;case R:return(e=Ic(19,n,t,o)).elementType=R,e.lanes=s,e;case _:return Lc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:i=10;break e;case E:i=9;break e;case T:i=11;break e;case I:i=14;break e;case P:i=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ic(i,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Dc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=_,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,o,a,s,i,l){return e=new zc(e,t,n,i,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ic(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ma(a),e}function Uc(e){if(!e)return To;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_o(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(_o(n))return Lo(e,n,t)}return t}function Vc(e,t,n,r,o,a,s,i,l){return(e=Bc(n,r,!0,e,0,a,0,i,l)).context=Uc(null),n=e.current,(a=za(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,Ba(n,a,o),e.current.lanes=o,ft(e,o,r),rc(e,r),e}function Hc(e,t,n,r){var o=t.current,a=ec(),s=tc(o);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ba(o,t,s))&&(nc(e,o,s,a),Ua(e,o,s)),s}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ro.current)bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:Ai(t),ha();break;case 5:Za(t);break;case 1:_o(t.type)&&Mo(t);break;case 4:$a(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Eo(ja,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Eo(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mi(e,t,n):(Eo(es,1&es.current),null!==(e=Wi(e,t,n))?e.sibling:null);Eo(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vi(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Eo(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,ki(e,t,n)}return Wi(e,t,n)}(e,t,n);bi=0!==(131072&e.flags)}else bi=!1,aa&&0!==(1048576&t.flags)&&ea(t,Yo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hi(e,t),e=t.pendingProps;var o=Po(t,Ao.current);Ra(t,n),o=gs(null,t,r,e,o,n);var s=fs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_o(r)?(s=!0,Mo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ma(t),o.updater=oi,t.stateNode=o,o._reactInternals=t,li(t,r,e,n),t=Ti(null,t,r,!0,s,n)):(t.tag=0,aa&&s&&ta(t),vi(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hi(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===I)return 14}return 2}(r),e=ni(r,e),o){case 0:t=Si(null,t,r,e,n);break e;case 1:t=Ei(null,t,r,e,n);break e;case 11:t=wi(null,t,r,e,n);break e;case 14:t=Ni(null,t,r,ni(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Si(e,t,r,o=t.elementType===r?o:ni(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ei(e,t,r,o=t.elementType===r?o:ni(r,o),n);case 3:e:{if(Ai(t),null===e)throw Error(a(387));r=t.pendingProps,o=(s=t.memoizedState).element,Fa(e,t),Ha(t,r,null,n);var i=t.memoizedState;if(r=i.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ri(e,t,r,n,o=ci(Error(a(423)),t));break e}if(r!==o){t=Ri(e,t,r,n,o=ci(Error(a(424)),t));break e}for(oa=co(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,sa=null,n=Na(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===o){t=Wi(e,t,n);break e}vi(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&da(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,i=o.children,no(r,o)?i=null:null!==s&&no(r,s)&&(t.flags|=32),Ci(e,t),vi(e,t,i,n),t.child;case 6:return null===e&&da(t),null;case 13:return Mi(e,t,n);case 4:return $a(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wa(t,null,r,n):vi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,wi(e,t,r,o=t.elementType===r?o:ni(r,o),n);case 7:return vi(e,t,t.pendingProps,n),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,i=o.value,Eo(ja,r._currentValue),r._currentValue=i,null!==s)if(ir(s.value,i)){if(s.children===o.children&&!Ro.current){t=Wi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=za(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Aa(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(a(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Aa(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}vi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ra(t,n),r=r(o=Ia(o)),t.flags|=1,vi(e,t,r,n),t.child;case 14:return o=ni(r=t.type,t.pendingProps),Ni(e,t,r,o=ni(r.type,o),n);case 15:return ji(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ni(r,o),Hi(e,t),t.tag=1,_o(r)?(e=!0,Mo(t)):e=!1,Ra(t,n),si(t,r,o),li(t,r,o,n),Ti(null,t,r,!0,e,n);case 19:return Vi(e,t,n);case 22:return ki(e,t,n)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,n,r,o){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof o){var i=o;o=function(){var e=Wc(s);i.call(e)}}Hc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var a=r;r=function(){var e=Wc(s);a.call(e)}}var s=Vc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[xo]=s.current,Vr(8===e.nodeType?e.parentNode:e),dc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var i=r;r=function(){var e=Wc(l);i.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[xo]=l.current,Vr(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,n,r)}),l}(n,t,e,o,r);return Wc(s)}Kc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Kc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[xo]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_t.length&&0!==t&&t<_t[n].priority;n++);_t.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Qe()),0===(6&Tl)&&(Vl=Qe()+500,Ho()))}break;case 13:dc(function(){var t=Da(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),qc(e,1)}},Nt=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=Da(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},kt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ne=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=No(r);if(!o)throw Error(a(90));Y(r),Z(r,o)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ae=dc;var ed={usingClientEntryPoint:!1,Events:[vo,wo,No,Se,Ee,cc]},td={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{ot=rd.inject(nd),at=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",o=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,o),e[xo]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(a(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",i=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,o,0,s,i),e[xo]=t.current,Vr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Kc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(a(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[xo]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.p="/";var r=n(43),o=n(391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function i(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const d="undefined"!==typeof document,u=d?r.useLayoutEffect:r.useEffect;function p(){const e=(0,r.useRef)(!1);return u(()=>(e.current=!0,()=>{e.current=!1}),[]),e}const m=e=>e;class h{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const x=["prepare","read","update","preRender","render","postRender"];const{schedule:g,cancel:f,state:y,steps:b}=function(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=x.reduce((e,t)=>(e[t]=function(e){let t=new h,n=new h,r=0,o=!1,a=!1;const s=new WeakSet,i={schedule:function(e){const a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o,i=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),i.add(e)&&a&&o&&(r=t.order.length),e},cancel:e=>{n.remove(e),s.delete(e)},process:l=>{if(o)a=!0;else{if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),s.has(r)&&(i.schedule(r),e())}o=!1,a&&(a=!1,i.process(l))}}};return i}(()=>n=!0),e),{}),s=e=>a[e].process(o),i=()=>{const a=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(a-o.timestamp,40),1),o.timestamp=a,o.isProcessing=!0,x.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(i))},l=x.reduce((t,s)=>{const l=a[s];return t[s]=function(t){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(i)),l.schedule(t,a,s)},t},{});return{schedule:l,cancel:e=>x.forEach(t=>a[t].cancel(e)),state:o,steps:a}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:m,!0);const v=(0,r.createContext)(null);function w(e){const t=(0,r.useRef)(null);return null===t.current&&(t.current=e()),t.current}class N extends r.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function j(e){let{children:t,isPresent:n}=e;const o=(0,r.useId)(),a=(0,r.useRef)(null),s=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{const{width:e,height:t,top:r,left:i}=s.current;if(n||!a.current||!e||!t)return;a.current.dataset.motionPopId=o;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(r,"px !important;\n            left: ").concat(i,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),r.createElement(N,{isPresent:n,childRef:a,sizeRef:s},r.cloneElement(t,{ref:a}))}const k=e=>{let{children:t,initial:n,isPresent:o,onExitComplete:a,custom:s,presenceAffectsLayout:i,mode:l}=e;const c=w(C),d=(0,r.useId)(),u=(0,r.useMemo)(()=>({id:d,initial:n,isPresent:o,custom:s,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;a&&a()},register:e=>(c.set(e,!1),()=>c.delete(e))}),i?void 0:[o]);return(0,r.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[o]),r.useEffect(()=>{!o&&!c.size&&a&&a()},[o]),"popLayout"===l&&(t=r.createElement(j,{isPresent:o},t)),r.createElement(v.Provider,{value:u},t)};function C(){return new Map}const S=(0,r.createContext)({});let E=m,T=m;const A=e=>e.key||"";const R=e=>{let{children:t,custom:n,initial:o=!0,onExitComplete:a,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:l="sync"}=e;T(!s,"Replace exitBeforeEnter with mode='wait'");const c=(0,r.useContext)(S).forceRender||function(){const e=p(),[t,n]=(0,r.useState)(0),o=(0,r.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,r.useCallback)(()=>g.postRender(o),[o]),t]}()[0],d=p(),m=function(e){const t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(t);let h=m;const x=(0,r.useRef)(new Map).current,f=(0,r.useRef)(h),y=(0,r.useRef)(new Map).current,b=(0,r.useRef)(!0);var v;if(u(()=>{b.current=!1,function(e,t){e.forEach(e=>{const n=A(e);t.set(n,e)})}(m,y),f.current=h}),v=()=>{b.current=!0,y.clear(),x.clear()},(0,r.useEffect)(()=>()=>v(),[]),b.current)return r.createElement(r.Fragment,null,h.map(e=>r.createElement(k,{key:A(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:i,mode:l},e)));h=[...h];const w=f.current.map(A),N=m.map(A),j=w.length;for(let r=0;r<j;r++){const e=w[r];-1!==N.indexOf(e)||x.has(e)||x.set(e,void 0)}return"wait"===l&&x.size&&(h=[]),x.forEach((e,t)=>{if(-1!==N.indexOf(t))return;const o=y.get(t);if(!o)return;const s=w.indexOf(t);let u=e;if(!u){const e=()=>{x.delete(t);const e=Array.from(y.keys()).filter(e=>!N.includes(e));if(e.forEach(e=>y.delete(e)),f.current=m.filter(n=>{const r=A(n);return r===t||e.includes(r)}),!x.size){if(!1===d.current)return;c(),a&&a()}};u=r.createElement(k,{key:A(o),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:i,mode:l},o),x.set(t,u)}h.splice(s,0,u)}),h=h.map(e=>{const t=e.key;return x.has(t)?e:r.createElement(k,{key:A(e),isPresent:!0,presenceAffectsLayout:i,mode:l},e)}),r.createElement(r.Fragment,null,x.size?h:h.map(e=>(0,r.cloneElement)(e)))},I=(0,r.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),P=(0,r.createContext)({}),_=(0,r.createContext)({strict:!1}),O=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),D="data-"+O("framerAppearId");function L(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function M(e){return"string"===typeof e||Array.isArray(e)}function F(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const z=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],B=["initial",...z];function U(e){return F(e.animate)||B.some(t=>M(e[t]))}function V(e){return Boolean(U(e)||e.variants)}function H(e){const{initial:t,animate:n}=function(e,t){if(U(e)){const{initial:t,animate:n}=e;return{initial:!1===t||M(t)?t:void 0,animate:M(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,r.useContext)(P));return(0,r.useMemo)(()=>({initial:t,animate:n}),[W(t),W(n)])}function W(e){return Array.isArray(e)?e.join(" "):e}const G={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},q={};for(const fc in G)q[fc]={isEnabled:e=>G[fc].some(t=>!!e[t])};const Y=(0,r.createContext)({}),X=Symbol.for("motionComponentSymbol");function K(e){let{preloadedFeatures:t,createVisualElement:n,useRender:o,useVisualState:a,Component:s}=e;t&&function(e){for(const t in e)q[t]=c(c({},q[t]),e[t])}(t);const i=(0,r.forwardRef)(function(e,i){let l;const p=c(c(c({},(0,r.useContext)(I)),e),{},{layoutId:$(e)}),{isStatic:m}=p,h=H(e),x=a(e,m);if(!m&&d){h.visualElement=function(e,t,n,o){const{visualElement:a}=(0,r.useContext)(P),s=(0,r.useContext)(_),i=(0,r.useContext)(v),l=(0,r.useContext)(I).reducedMotion,c=(0,r.useRef)();o=o||s.renderer,!c.current&&o&&(c.current=o(e,{visualState:t,parent:a,props:n,presenceContext:i,blockInitialAnimation:!!i&&!1===i.initial,reducedMotionConfig:l}));const d=c.current;(0,r.useInsertionEffect)(()=>{d&&d.update(n,i)});const p=(0,r.useRef)(Boolean(n[D]&&!window.HandoffComplete));return u(()=>{d&&(d.render(),p.current&&d.animationState&&d.animationState.animateChanges())}),(0,r.useEffect)(()=>{d&&(d.updateFeatures(),!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(p.current=!1,window.HandoffComplete=!0))}),d}(s,x,p,n);const e=(0,r.useContext)(Y),o=(0,r.useContext)(_).strict;h.visualElement&&(l=h.visualElement.loadFeatures(p,o,t,e))}return r.createElement(P.Provider,{value:h},l&&h.visualElement?r.createElement(l,c({visualElement:h.visualElement},p)):null,o(s,e,function(e,t,n){return(0,r.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):L(n)&&(n.current=r))},[t])}(x,h.visualElement,i),x,m,h.visualElement))});return i[X]=s,i}function $(e){let{layoutId:t}=e;const n=(0,r.useContext)(S).id;return n&&void 0!==t?n+"-"+t:t}function Q(e){function t(t){return K(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const Z=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function J(e){return"string"===typeof e&&!e.includes("-")&&!!(Z.indexOf(e)>-1||/[A-Z]/.test(e))}const ee={};const te=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ne=new Set(te);function re(e,t){let{layout:n,layoutId:r}=t;return ne.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!ee[e]||"opacity"===e)}const oe=e=>Boolean(e&&e.getVelocity),ae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},se=te.length;const ie=e=>t=>"string"===typeof t&&t.startsWith(e),le=ie("--"),ce=ie("var(--"),de=(e,t)=>t&&"number"===typeof e?t.transform(e):e,ue=(e,t,n)=>Math.min(Math.max(n,e),t),pe={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},me=c(c({},pe),{},{transform:e=>ue(0,1,e)}),he=c(c({},pe),{},{default:1}),xe=e=>Math.round(1e5*e)/1e5,ge=/(-)?([\d]*\.?[\d])+/g,fe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ye=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function be(e){return"string"===typeof e}const ve=e=>({test:t=>be(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),we=ve("deg"),Ne=ve("%"),je=ve("px"),ke=ve("vh"),Ce=ve("vw"),Se=c(c({},Ne),{},{parse:e=>Ne.parse(e)/100,transform:e=>Ne.transform(100*e)}),Ee=c(c({},pe),{},{transform:Math.round}),Te={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,size:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,rotate:we,rotateX:we,rotateY:we,rotateZ:we,scale:he,scaleX:he,scaleY:he,scaleZ:he,skew:we,skewX:we,skewY:we,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:me,originX:Se,originY:Se,originZ:je,zIndex:Ee,fillOpacity:me,strokeOpacity:me,numOctaves:Ee};function Ae(e,t,n,r){const{style:o,vars:a,transform:s,transformOrigin:i}=e;let l=!1,c=!1,d=!0;for(const u in t){const e=t[u];if(le(u)){a[u]=e;continue}const n=Te[u],r=de(e,n);if(ne.has(u)){if(l=!0,s[u]=r,!d)continue;e!==(n.default||0)&&(d=!1)}else u.startsWith("origin")?(c=!0,i[u]=r):o[u]=r}if(t.transform||(l||r?o.transform=function(e,t,n,r){let{enableHardwareAcceleration:o=!0,allowTransformNone:a=!0}=t,s="";for(let i=0;i<se;i++){const t=te[i];void 0!==e[t]&&(s+="".concat(ae[t]||t,"(").concat(e[t],") "))}return o&&!e.z&&(s+="translateZ(0)"),s=s.trim(),r?s=r(e,n?"":s):a&&n&&(s="none"),s}(e.transform,n,d,r):o.transform&&(o.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;o.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const Re=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ie(e,t,n){for(const r in t)oe(t[r])||re(r,n)||(e[r]=t[r])}function Pe(e,t,n){const o={};return Ie(o,e.style||{},e),Object.assign(o,function(e,t,n){let{transformTemplate:o}=e;return(0,r.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Ae(e,t,{enableHardwareAcceleration:!n},o),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(o):o}function _e(e,t,n){const r={},o=Pe(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const Oe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function De(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Oe.has(e)}let Le=e=>!De(e);try{(Me=require("@emotion/is-prop-valid").default)&&(Le=e=>e.startsWith("on")?!De(e):Me(e))}catch(gc){}var Me;function Fe(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ze(e,t,n){return"string"===typeof e?e:je.transform(t+n*e)}const Be={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ue={offset:"strokeDashoffset",array:"strokeDasharray"};const Ve=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function He(e,t,n,r,o){let{attrX:a,attrY:s,attrScale:i,originX:l,originY:c,pathLength:d,pathSpacing:u=1,pathOffset:p=0}=t;if(Ae(e,Fe(t,Ve),n,o),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:x}=e;m.transform&&(x&&(h.transform=m.transform),delete m.transform),x&&(void 0!==l||void 0!==c||h.transform)&&(h.transformOrigin=function(e,t,n){const r=ze(t,e.x,e.width),o=ze(n,e.y,e.height);return"".concat(r," ").concat(o)}(x,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==a&&(m.x=a),void 0!==s&&(m.y=s),void 0!==i&&(m.scale=i),void 0!==d&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const a=o?Be:Ue;e[a.offset]=je.transform(-r);const s=je.transform(t),i=je.transform(n);e[a.array]="".concat(s," ").concat(i)}(m,d,u,p,!1)}const We=()=>c(c({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Ge=e=>"string"===typeof e&&"svg"===e.toLowerCase();function qe(e,t,n,o){const a=(0,r.useMemo)(()=>{const n=We();return He(n,t,{enableHardwareAcceleration:!1},Ge(o),e.transformTemplate),c(c({},n.attrs),{},{style:c({},n.style)})},[t]);if(e.style){const t={};Ie(t,e.style,e),a.style=c(c({},t),a.style)}return a}function Ye(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,o,a,s)=>{let{latestValues:i}=a;const l=(J(t)?qe:_e)(n,i,s,t),d=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||(Le(o)||!0===n&&De(o)||!t&&!De(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(n,"string"===typeof t,e),u=c(c(c({},d),l),{},{ref:o}),{children:p}=n,m=(0,r.useMemo)(()=>oe(p)?p.get():p,[p]);return(0,r.createElement)(t,c(c({},u),{},{children:m}))}}function Xe(e,t,n,r){let{style:o,vars:a}=t;Object.assign(e.style,o,r&&r.getProjectionStyles(n));for(const s in a)e.style.setProperty(s,a[s])}const Ke=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $e(e,t,n,r){Xe(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Ke.has(o)?o:O(o),t.attrs[o])}function Qe(e,t){const{style:n}=e,r={};for(const o in n)(oe(n[o])||t.style&&oe(t.style[o])||re(o,e))&&(r[o]=n[o]);return r}function Ze(e,t){const n=Qe(e,t);for(const r in e)if(oe(e[r])||oe(t[r])){n[-1!==te.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function Je(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,o)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,o)),t}const et=e=>Array.isArray(e),tt=e=>et(e)?e[e.length-1]||0:e;function nt(e){const t=oe(e)?e.get():e;return n=t,Boolean(n&&"object"===typeof n&&n.mix&&n.toValue)?t.toValue():t;var n}const rt=["transitionEnd","transition"];const ot=e=>(t,n)=>{const o=(0,r.useContext)(P),a=(0,r.useContext)(v),s=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:o,createRenderState:a,onMount:s}=e;const i={latestValues:at(t,n,r,o),renderState:a()};return s&&(i.mount=e=>s(t,e,i)),i}(e,t,o,a);return n?s():w(s)};function at(e,t,n,r){const o={},a=r(e,{});for(const p in a)o[p]=nt(a[p]);let{initial:s,animate:i}=e;const l=U(e),c=V(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===i&&(i=t.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const u=d?i:s;if(u&&"boolean"!==typeof u&&!F(u)){(Array.isArray(u)?u:[u]).forEach(t=>{const n=Je(e,t);if(!n)return;const{transitionEnd:r,transition:a}=n,s=Fe(n,rt);for(const e in s){let t=s[e];if(Array.isArray(t)){t=t[d?t.length-1:0]}null!==t&&(o[e]=t)}for(const e in r)o[e]=r[e]})}return o}const st={useVisualState:ot({scrapeMotionValuesFromProps:Ze,createRenderState:We,onMount:(e,t,n)=>{let{renderState:r,latestValues:o}=n;g.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}}),g.render(()=>{He(r,o,{enableHardwareAcceleration:!1},Ge(t.tagName),e.transformTemplate),$e(t,r)})}})},it={useVisualState:ot({scrapeMotionValuesFromProps:Qe,createRenderState:Re})};function lt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const ct=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function dt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function ut(e,t,n,r){return lt(e,t,(e=>t=>ct(t)&&e(t,dt(t)))(n),r)}const pt=(e,t)=>n=>t(e(n)),mt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(pt)};function ht(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const xt=ht("dragHorizontal"),gt=ht("dragVertical");function ft(e){let t=!1;if("y"===e)t=gt();else if("x"===e)t=xt();else{const e=xt(),n=gt();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function yt(){const e=ft(!0);return!e||(e(),!1)}class bt{constructor(e){this.isMounted=!1,this.node=e}update(){}}function vt(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return ut(e.current,n,(n,o)=>{if("touch"===n.pointerType||yt())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&g.update(()=>a[r](n,o))},{passive:!e.getProps()[r]})}const wt=(e,t)=>!!t&&(e===t||wt(e,t.parentElement));function Nt(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,dt(n))}const jt=["root"],kt=new WeakMap,Ct=new WeakMap,St=e=>{const t=kt.get(e.target);t&&t(e)},Et=e=>{e.forEach(St)};function Tt(e,t,n){const r=function(e){let{root:t}=e,n=Fe(e,jt);const r=t||document;Ct.has(r)||Ct.set(r,{});const o=Ct.get(r),a=JSON.stringify(n);return o[a]||(o[a]=new IntersectionObserver(Et,c({root:t},n))),o[a]}(t);return kt.set(e,n),r.observe(e),()=>{kt.delete(e),r.unobserve(e)}}const At={some:0,all:1};const Rt={inView:{Feature:class extends bt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,a={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:At[r]};return Tt(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),a=t?n:r;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends bt{constructor(){super(...arguments),this.removeStartListeners=m,this.removeEndListeners=m,this.removeAccessibleListeners=m,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=ut(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:o}=this.node.getProps();g.update(()=>{o||wt(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),o=ut(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=mt(r,o),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=lt(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=lt(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&Nt("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&g.update(()=>n(e,t))})}),Nt("down",(e,t)=>{this.startPress(e,t)})}),t=lt(this.node.current,"blur",()=>{this.isPressing&&Nt("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=mt(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&g.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!yt()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&g.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=ut(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=lt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mt(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends bt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mt(lt(this.node.current,"focus",()=>this.onFocus()),lt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends bt{mount(){this.unmount=mt(vt(this.node,!0),vt(this.node,!1))}unmount(){}}}};function It(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Pt(e,t,n){const r=e.getProps();return Je(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}const _t=e=>1e3*e,Ot=e=>e/1e3,Dt=!1,Lt=e=>Array.isArray(e)&&"number"===typeof e[0];function Mt(e){return Boolean(!e||"string"===typeof e&&zt[e]||Lt(e)||Array.isArray(e)&&e.every(Mt))}const Ft=e=>{let[t,n,r,o]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")},zt={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ft([0,.65,.55,1]),circOut:Ft([.55,0,1,.45]),backIn:Ft([.31,.01,.66,-.59]),backOut:Ft([.33,1.53,.69,.99])};function Bt(e){if(e)return Lt(e)?Ft(e):Array.isArray(e)?e.map(Bt):zt[e]}const Ut=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Vt(e,t,n,r){if(e===t&&n===r)return m;const o=t=>function(e,t,n,r,o){let a,s,i=0;do{s=t+(n-t)/2,a=Ut(s,r,o)-e,a>0?n=s:t=s}while(Math.abs(a)>1e-7&&++i<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:Ut(o(e),t,r)}const Ht=Vt(.42,0,1,1),Wt=Vt(0,0,.58,1),Gt=Vt(.42,0,.58,1),qt=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Yt=e=>t=>1-e(1-t),Xt=e=>1-Math.sin(Math.acos(e)),Kt=Yt(Xt),$t=qt(Xt),Qt=Vt(.33,1.53,.69,.99),Zt=Yt(Qt),Jt=qt(Zt),en={linear:m,easeIn:Ht,easeInOut:Gt,easeOut:Wt,circIn:Xt,circInOut:$t,circOut:Kt,backIn:Zt,backInOut:Jt,backOut:Qt,anticipate:e=>(e*=2)<1?.5*Zt(e):.5*(2-Math.pow(2,-10*(e-1)))},tn=e=>{if(Array.isArray(e)){T(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,o]=e;return Vt(t,n,r,o)}return"string"===typeof e?(T(void 0!==en[e],"Invalid easing type '".concat(e,"'")),en[e]):e},nn=(e,t)=>n=>Boolean(be(n)&&ye.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),rn=(e,t,n)=>r=>{if(!be(r))return r;const[o,a,s,i]=r.match(ge);return{[e]:parseFloat(o),[t]:parseFloat(a),[n]:parseFloat(s),alpha:void 0!==i?parseFloat(i):1}},on=c(c({},pe),{},{transform:e=>Math.round((e=>ue(0,255,e))(e))}),an={test:nn("rgb","red"),parse:rn("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+on.transform(t)+", "+on.transform(n)+", "+on.transform(r)+", "+xe(me.transform(o))+")"}};const sn={test:nn("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:an.transform},ln={test:nn("hsl","hue"),parse:rn("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+Ne.transform(xe(n))+", "+Ne.transform(xe(r))+", "+xe(me.transform(o))+")"}},cn={test:e=>an.test(e)||sn.test(e)||ln.test(e),parse:e=>an.test(e)?an.parse(e):ln.test(e)?ln.parse(e):sn.parse(e),transform:e=>be(e)?e:e.hasOwnProperty("red")?an.transform(e):ln.transform(e)},dn=(e,t,n)=>-n*e+n*t+e;function un(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const pn=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},mn=[sn,an,ln];function hn(e){const t=(n=e,mn.find(e=>e.test(n)));var n;T(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let r=t.parse(e);return t===ln&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let a=0,s=0,i=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;a=un(o,e,t+1/3),s=un(o,e,t),i=un(o,e,t-1/3)}else a=s=i=r;return{red:Math.round(255*a),green:Math.round(255*s),blue:Math.round(255*i),alpha:o}}(r)),r}const xn=(e,t)=>{const n=hn(e),r=hn(t),o=c({},n);return e=>(o.red=pn(n.red,r.red,e),o.green=pn(n.green,r.green,e),o.blue=pn(n.blue,r.blue,e),o.alpha=dn(n.alpha,r.alpha,e),an.transform(o))};const gn={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:m},fn={regex:fe,countKey:"Colors",token:"${c}",parse:cn.parse},yn={regex:ge,countKey:"Numbers",token:"${n}",parse:pe.parse};function bn(e,t){let{regex:n,countKey:r,token:o,parse:a}=t;const s=e.tokenised.match(n);s&&(e["num"+r]=s.length,e.tokenised=e.tokenised.replace(n,o),e.values.push(...s.map(a)))}function vn(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&bn(n,gn),bn(n,fn),bn(n,yn),n}function wn(e){return vn(e).values}function Nn(e){const{values:t,numColors:n,numVars:r,tokenised:o}=vn(e),a=t.length;return e=>{let t=o;for(let o=0;o<a;o++)t=o<r?t.replace(gn.token,e[o]):o<r+n?t.replace(fn.token,cn.transform(e[o])):t.replace(yn.token,xe(e[o]));return t}}const jn=e=>"number"===typeof e?0:e;const kn={test:function(e){var t,n;return isNaN(e)&&be(e)&&((null===(t=e.match(ge))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(fe))||void 0===n?void 0:n.length)||0)>0},parse:wn,createTransformer:Nn,getAnimatableNone:function(e){const t=wn(e);return Nn(e)(t.map(jn))}},Cn=(e,t)=>n=>"".concat(n>0?t:e);function Sn(e,t){return"number"===typeof e?n=>dn(e,t,n):cn.test(e)?xn(e,t):e.startsWith("var(")?Cn(e,t):An(e,t)}const En=(e,t)=>{const n=[...e],r=n.length,o=e.map((e,n)=>Sn(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}},Tn=(e,t)=>{const n=c(c({},e),t),r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=Sn(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}},An=(e,t)=>{const n=kn.createTransformer(t),r=vn(e),o=vn(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?mt(En(r.values,o.values),n):(E(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Cn(e,t))},Rn=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},In=(e,t)=>n=>dn(e,t,n);function Pn(e,t,n){const r=[],o=n||("number"===typeof(a=e[0])?In:"string"===typeof a?cn.test(a)?xn:An:Array.isArray(a)?En:"object"===typeof a?Tn:In);var a;const s=e.length-1;for(let i=0;i<s;i++){let n=o(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||m:t;n=mt(e,n)}r.push(n)}return r}function _n(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=e.length;if(T(a===t.length,"Both input and output ranges must be the same length"),1===a)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=Pn(t,r,o),i=s.length,l=t=>{let n=0;if(i>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=Rn(e[n],e[n+1],t);return s[n](r)};return n?t=>l(ue(e[0],e[a-1],t)):l}function On(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=Rn(0,t,r);e.push(dn(n,1,o))}}(t,e.length-1),t}function Dn(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const a=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(tn):tn(o),s={done:!1,value:n[0]},i=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:On(n),t),l=_n(i,n,{ease:Array.isArray(a)?a:(c=n,d=a,c.map(()=>d||Gt).splice(0,c.length-1))});var c,d;return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}function Ln(e,t){return t?e*(1e3/t):0}function Mn(e,t,n){const r=Math.max(t-5,0);return Ln(n-e(r),t-r)}const Fn=.001;function zn(e){let t,n,{duration:r=800,bounce:o=.25,velocity:a=0,mass:s=1}=e;E(r<=_t(10),"Spring duration must be 10 seconds or less");let i=1-o;i=ue(.05,1,i),r=ue(.01,10,Ot(r)),i<1?(t=e=>{const t=e*i,n=t*r,o=t-a,s=Un(e,i),l=Math.exp(-n);return Fn-o/s*l},n=e=>{const n=e*i*r,o=n*a+a,s=Math.pow(i,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Un(Math.pow(e,2),i);return(-t(e)+Fn>0?-1:1)*((o-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-a)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(a-e)));const l=function(e,t,n){let r=n;for(let o=1;o<Bn;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=_t(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*i*Math.sqrt(s*e),duration:r}}}const Bn=12;function Un(e,t){return e*Math.sqrt(1-t*t)}const Vn=["keyframes","restDelta","restSpeed"],Hn=["duration","bounce"],Wn=["stiffness","damping","mass"];function Gn(e,t){return t.some(t=>void 0!==e[t])}function qn(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,o=Fe(e,Vn);const a=t[0],s=t[t.length-1],i={done:!1,value:a},{stiffness:l,damping:d,mass:u,duration:p,velocity:m,isResolvedFromDuration:h}=function(e){let t=c({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Gn(e,Wn)&&Gn(e,Hn)){const n=zn(e);t=c(c(c({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(c(c({},o),{},{velocity:-Ot(o.velocity||0)})),x=m||0,g=d/(2*Math.sqrt(l*u)),f=s-a,y=Ot(Math.sqrt(l/u)),b=Math.abs(f)<5;let v;if(r||(r=b?.01:2),n||(n=b?.005:.5),g<1){const e=Un(y,g);v=t=>{const n=Math.exp(-g*y*t);return s-n*((x+g*y*f)/e*Math.sin(e*t)+f*Math.cos(e*t))}}else if(1===g)v=e=>s-Math.exp(-y*e)*(f+(x+y*f)*e);else{const e=y*Math.sqrt(g*g-1);v=t=>{const n=Math.exp(-g*y*t),r=Math.min(e*t,300);return s-n*((x+g*y*f)*Math.sinh(r)+e*f*Math.cosh(r))/e}}return{calculatedDuration:h&&p||null,next:e=>{const t=v(e);if(h)i.done=e>=p;else{let o=x;0!==e&&(o=g<1?Mn(v,e,t):0);const a=Math.abs(o)<=r,l=Math.abs(s-t)<=n;i.done=a&&l}return i.value=i.done?s:t,i}}}function Yn(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:i,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const p=t[0],m={done:!1,value:p},h=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let x=r*n;const g=p+x,f=void 0===i?g:i(g);f!==g&&(x=f-p);const y=e=>-x*Math.exp(-e/o),b=e=>f+y(e),v=e=>{const t=y(e),n=b(e);m.done=Math.abs(t)<=d,m.value=m.done?f:n};let w,N;const j=e=>{var t;(t=m.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,N=qn({keyframes:[m.value,h(m.value)],velocity:Mn(b,e,m.value),damping:a,stiffness:s,restDelta:d,restSpeed:u}))};return j(0),{calculatedDuration:null,next:e=>{let t=!1;return N||void 0!==w||(t=!0,v(e),j(e)),void 0!==w&&e>w?N.next(e-w):(!t&&v(e),m)}}}const Xn=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>g.update(t,!0),stop:()=>f(t),now:()=>y.isProcessing?y.timestamp:performance.now()}};function Kn(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const $n=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],Qn={decay:Yn,inertia:Yn,tween:Dn,keyframes:Dn,spring:qn};function Zn(e){let t,n,{autoplay:r=!0,delay:o=0,driver:a=Xn,keyframes:s,type:i="keyframes",repeat:l=0,repeatDelay:d=0,repeatType:u="loop",onPlay:p,onStop:m,onComplete:h,onUpdate:x}=e,g=Fe(e,$n),f=1,y=!1;const b=()=>{n=new Promise(e=>{t=e})};let v;b();const w=Qn[i]||Dn;let N;w!==Dn&&"number"!==typeof s[0]&&(N=_n([0,100],s,{clamp:!1}),s=[0,100]);const j=w(c(c({},g),{},{keyframes:s}));let k;"mirror"===u&&(k=w(c(c({},g),{},{keyframes:[...s].reverse(),velocity:-(g.velocity||0)})));let C="idle",S=null,E=null,T=null;null===j.calculatedDuration&&l&&(j.calculatedDuration=Kn(j));const{calculatedDuration:A}=j;let R=1/0,I=1/0;null!==A&&(R=A+d,I=R*(l+1)-d);let P=0;const _=e=>{if(null===E)return;f>0&&(E=Math.min(E,e)),f<0&&(E=Math.min(e-I/f,E)),P=null!==S?S:Math.round(e-E)*f;const t=P-o*(f>=0?1:-1),n=f>=0?t<0:t>I;P=Math.max(t,0),"finished"===C&&null===S&&(P=I);let r=P,a=j;if(l){const e=Math.min(P,I)/R;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,d&&(n-=d/R)):"mirror"===u&&(a=k)),r=ue(0,1,n)*R}const i=n?{done:!1,value:s[0]}:a.next(r);N&&(i.value=N(i.value));let{done:c}=i;n||null===A||(c=f>=0?P>=I:P<=0);const p=null===S&&("finished"===C||"running"===C&&c);return x&&x(i.value),p&&L(),i},O=()=>{v&&v.stop(),v=void 0},D=()=>{C="idle",O(),t(),b(),E=T=null},L=()=>{C="finished",h&&h(),O(),t()},M=()=>{if(y)return;v||(v=a(_));const e=v.now();p&&p(),null!==S?E=e-S:E&&"finished"!==C||(E=e),"finished"===C&&b(),T=E,S=null,C="running",v.start()};r&&M();const F={then:(e,t)=>n.then(e,t),get time(){return Ot(P)},set time(e){e=_t(e),P=e,null===S&&v&&0!==f?E=v.now()-e/f:S=e},get duration(){const e=null===j.calculatedDuration?Kn(j):j.calculatedDuration;return Ot(e)},get speed(){return f},set speed(e){e!==f&&v&&(f=e,F.time=Ot(P))},get state(){return C},play:M,pause:()=>{C="paused",S=P},stop:()=>{y=!0,"idle"!==C&&(C="idle",m&&m(),D())},cancel:()=>{null!==T&&_(T),D()},complete:()=>{C="finished"},sample:e=>(E=0,_(e))};return F}const Jn=["onUpdate","onComplete"],er=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tr=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function nr(e,t,n){let{onUpdate:r,onComplete:o}=n,a=Fe(n,Jn);if(!(er()&&tr.has(t)&&!a.repeatDelay&&"mirror"!==a.repeatType&&0!==a.damping&&"inertia"!==a.type))return!1;let s,i,l=!1,d=!1;const u=()=>{i=new Promise(e=>{s=e})};u();let{keyframes:p,duration:h=300,ease:x,times:y}=a;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!Mt(t.ease))(t,a)){const e=Zn(c(c({},a),{},{repeat:0,delay:0}));let t={done:!1,value:p[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;y=void 0,p=n,h=r-10,x="linear"}const b=function(e,t,n){let{delay:r=0,duration:o,repeat:a=0,repeatType:s="loop",ease:i,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const d=Bt(i);return Array.isArray(d)&&(c.easing=d),e.animate(c,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===s?"alternate":"normal"})}(e.owner.current,t,p,c(c({},a),{},{duration:h,ease:x,times:y})),v=()=>{d=!1,b.cancel()},w=()=>{d=!0,g.update(v),s(),u()};b.onfinish=()=>{d||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(p,a)),o&&o(),w())};return{then:(e,t)=>i.then(e,t),attachTimeline:e=>(b.timeline=e,b.onfinish=null,m),get time(){return Ot(b.currentTime||0)},set time(e){b.currentTime=_t(e)},get speed(){return b.playbackRate},set speed(e){b.playbackRate=e},get duration(){return Ot(h)},play:()=>{l||(b.play(),f(v))},pause:()=>b.pause(),stop:()=>{if(l=!0,"idle"===b.playState)return;const{currentTime:t}=b;if(t){const n=Zn(c(c({},a),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}w()},complete:()=>{d||b.finish()},cancel:w}}const rr={type:"spring",stiffness:500,damping:25,restSpeed:10},or={type:"keyframes",duration:.8},ar={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sr=(e,t)=>{let{keyframes:n}=t;return n.length>2?or:ne.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:rr:ar},ir=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!kn.test(t)&&"0"!==t||t.startsWith("url("))),lr=new Set(["brightness","contrast","saturate","opacity"]);function cr(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(ge)||[];if(!r)return e;const o=n.replace(r,"");let a=lr.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+o+")"}const dr=/([a-z-]*)\(.*?\)/g,ur=c(c({},kn),{},{getAnimatableNone:e=>{const t=e.match(dr);return t?t.map(cr).join(" "):e}}),pr=c(c({},Te),{},{color:cn,backgroundColor:cn,outlineColor:cn,fill:cn,stroke:cn,borderColor:cn,borderTopColor:cn,borderRightColor:cn,borderBottomColor:cn,borderLeftColor:cn,filter:ur,WebkitFilter:ur}),mr=e=>pr[e];function hr(e,t){let n=mr(e);return n!==ur&&(n=kn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const xr=e=>/^0[^.\s]+$/.test(e);function gr(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||xr(e):void 0}const fr=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function yr(e,t){return e[t]||e.default||e}const br=!1,vr=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return o=>{const a=yr(r,e)||{},s=a.delay||r.delay||0;let{elapsed:i=0}=r;i-=_t(s);const l=function(e,t,n,r){const o=ir(t,n);let a;a=Array.isArray(n)?[...n]:[null,n];const s=void 0!==r.from?r.from:e.get();let i;const l=[];for(let c=0;c<a.length;c++)null===a[c]&&(a[c]=0===c?s:a[c-1]),gr(a[c])&&l.push(c),"string"===typeof a[c]&&"none"!==a[c]&&"0"!==a[c]&&(i=a[c]);if(o&&l.length&&i)for(let c=0;c<l.length;c++)a[l[c]]=hr(t,i);return a}(t,e,n,a),d=l[0],u=l[l.length-1],p=ir(e,d),h=ir(e,u);E(p===h,"You are trying to animate ".concat(e,' from "').concat(d,'" to "').concat(u,'". ').concat(d," is not an animatable value - to enable this animation set ").concat(d," to a value animatable to ").concat(u," via the `style` property."));let x=c(c({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},a),{},{delay:-i,onUpdate:e=>{t.set(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{o(),a.onComplete&&a.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:a,repeat:s,repeatType:i,repeatDelay:l,from:c,elapsed:d}=e,u=Fe(e,fr);return!!Object.keys(u).length}(a)||(x=c(c({},x),sr(e,x))),x.duration&&(x.duration=_t(x.duration)),x.repeatDelay&&(x.repeatDelay=_t(x.repeatDelay)),!p||!h||Dt||!1===a.type||br)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:o}=e;const a=()=>(r&&r(t[t.length-1]),o&&o(),{time:0,speed:1,duration:0,play:m,pause:m,stop:m,then:e=>(e(),Promise.resolve()),cancel:m,complete:m});return n?Zn({keyframes:[0,1],duration:0,delay:n,onComplete:a}):a()}(Dt?c(c({},x),{},{delay:0}):x);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=nr(t,e,x);if(n)return n}return Zn(x)}};function wr(e){return Boolean(oe(e)&&e.add)}const Nr=e=>/^\-?\d*\.?\d+$/.test(e);function jr(e,t){-1===e.indexOf(t)&&e.push(t)}function kr(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Cr{constructor(){this.subscriptions=[]}add(e){return jr(this.subscriptions,e),()=>kr(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sr={current:void 0};class Er{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:o}=y;t.lastUpdated!==o&&(t.timeDelta=r,t.lastUpdated=o,g.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>g.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Cr);const n=this.events[e].add(t);return"change"===e?()=>{n(),g.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Sr.current&&Sr.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Ln(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tr(e,t){return new Er(e,t)}const Ar=e=>t=>t.test(e),Rr=[pe,je,Ne,we,Ce,ke,{test:e=>"auto"===e,parse:e=>e}],Ir=e=>Rr.find(Ar(e)),Pr=[...Rr,cn,kn],_r=e=>Pr.find(Ar(e)),Or=["transitionEnd","transition"];function Dr(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Tr(n))}function Lr(e,t){const n=Pt(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:o={},transition:a={}}=r,s=Fe(r,Or);s=c(c({},s),o);for(const i in s){Dr(e,i,tt(s[i]))}}function Mr(e,t){if(!t)return;return(t[e]||t.default||t).from}const Fr=["transition","transitionEnd"];function zr(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function Br(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function Ur(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.makeTargetAnimatable(t),{transition:s=e.getDefaultTransition(),transitionEnd:i}=a,l=Fe(a,Fr);const d=e.getValue("willChange");r&&(s=r);const u=[],p=o&&e.animationState&&e.animationState.getState()[o];for(const m in l){const t=e.getValue(m),r=l[m];if(!t||void 0===r||p&&zr(p,m))continue;const o=c({delay:n,elapsed:0},yr(s||{},m));if(window.HandoffAppearAnimations){const n=e.getProps()[D];if(n){const e=window.HandoffAppearAnimations(n,m,t,g);null!==e&&(o.elapsed=e,o.isHandoff=!0)}}let a=!o.isHandoff&&!Br(t,r);if("spring"===o.type&&(t.getVelocity()||o.velocity)&&(a=!1),t.animation&&(a=!1),a)continue;t.start(vr(m,t,r,e.shouldReduceMotion&&ne.has(m)?{type:!1}:o));const i=t.animation;wr(d)&&(d.add(m),i.then(()=>d.remove(m))),u.push(i)}return i&&Promise.all(u).then(()=>{i&&Lr(e,i)}),u}function Vr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Pt(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const a=r?()=>Promise.all(Ur(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:a=0,staggerChildren:s,staggerDirection:i}=o;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0;const s=[],i=(e.variantChildren.size-1)*r,l=1===o?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return i-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(Hr).forEach((e,r)=>{e.notify("AnimationStart",t),s.push(Vr(e,t,c(c({},a),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(s)}(e,t,a+r,s,i,n)}:()=>Promise.resolve(),{when:i}=o;if(i){const[e,t]="beforeChildren"===i?[a,s]:[s,a];return e().then(()=>t())}return Promise.all([a(),s(n.delay)])}function Hr(e,t){return e.sortNodePosition(t)}const Wr=["transition","transitionEnd"],Gr=[...z].reverse(),qr=z.length;function Yr(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map(t=>Vr(e,t,r));n=Promise.all(o)}else if("string"===typeof t)n=Vr(e,t,r);else{const o="function"===typeof t?Pt(e,t,r.custom):t;n=Promise.all(Ur(e,o,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function Xr(e){let t=Yr(e);const n={animate:$r(!0),whileInView:$r(),whileHover:$r(),whileTap:$r(),whileDrag:$r(),whileFocus:$r(),exit:$r()};let r=!0;const o=(t,n)=>{const r=Pt(e,n);if(r){const{transition:e,transitionEnd:n}=r,o=Fe(r,Wr);t=c(c(c({},t),o),n)}return t};function a(a,s){const i=e.getProps(),l=e.getVariantContext(!0)||{},d=[],u=new Set;let p={},m=1/0;for(let t=0;t<qr;t++){const h=Gr[t],x=n[h],g=void 0!==i[h]?i[h]:l[h],f=M(g),y=h===s?x.isActive:null;!1===y&&(m=t);let b=g===l[h]&&g!==i[h]&&f;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),x.protectedKeys=c({},p),!x.isActive&&null===y||!g&&!x.prevProp||F(g)||"boolean"===typeof g)continue;let v=Kr(x.prevProp,g)||h===s&&x.isActive&&!b&&f||t>m&&f,w=!1;const N=Array.isArray(g)?g:[g];let j=N.reduce(o,{});!1===y&&(j={});const{prevResolvedValues:k={}}=x,C=c(c({},k),j),S=e=>{v=!0,u.has(e)&&(w=!0,u.delete(e)),x.needsAnimating[e]=!0};for(const e in C){const t=j[e],n=k[e];if(p.hasOwnProperty(e))continue;let r=!1;r=et(t)&&et(n)?!It(t,n):t!==n,r?void 0!==t?S(e):u.add(e):void 0!==t&&u.has(e)?S(e):x.protectedKeys[e]=!0}x.prevProp=g,x.prevResolvedValues=j,x.isActive&&(p=c(c({},p),j)),r&&e.blockInitialAnimation&&(v=!1),!v||b&&!w||d.push(...N.map(e=>({animation:e,options:c({type:h},a)})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),d.push({animation:t})}let h=Boolean(d.length);return!r||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(h=!1),r=!1,h?t(d):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,o){var s;if(n[t].isActive===r)return Promise.resolve();null===(s=e.variantChildren)||void 0===s||s.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const i=a(o,t);for(const e in n)n[e].protectedKeys={};return i},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function Kr(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!It(t,e)}function $r(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let Qr=0;const Zr={animation:{Feature:class extends bt{constructor(e){super(e),e.animationState||(e.animationState=Xr(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),F(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends bt{constructor(){super(...arguments),this.id=Qr++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},Jr=(e,t)=>Math.abs(e-t);class eo{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=ro(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=Jr(e.x,t.x),r=Jr(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=y;this.history.push(c(c({},r),{},{timestamp:o}));const{onStart:a,onMove:s}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),s&&s(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=to(t,this.transformPagePoint),g.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=ro("pointercancel"===e.type?this.lastMoveEventInfo:to(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,a),r&&r(e,a)},!ct(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const a=to(dt(e),this.transformPagePoint),{point:s}=a,{timestamp:i}=y;this.history=[c(c({},s),{},{timestamp:i})];const{onSessionStart:l}=t;l&&l(e,ro(a,this.history)),this.removeListeners=mt(ut(this.contextWindow,"pointermove",this.handlePointerMove),ut(this.contextWindow,"pointerup",this.handlePointerUp),ut(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),f(this.updatePoint)}}function to(e,t){return t?{point:t(e.point)}:e}function no(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ro(e,t){let{point:n}=e;return{point:n,delta:no(n,ao(t)),offset:no(n,oo(t)),velocity:so(t,.1)}}function oo(e){return e[0]}function ao(e){return e[e.length-1]}function so(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=ao(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>_t(t)));)n--;if(!r)return{x:0,y:0};const a=Ot(o.timestamp-r.timestamp);if(0===a)return{x:0,y:0};const s={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function io(e){return e.max-e.min}function lo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function co(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=dn(t.min,t.max,e.origin),e.scale=io(n)/io(t),(lo(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=dn(n.min,n.max,e.origin)-e.originPoint,(lo(e.translate)||isNaN(e.translate))&&(e.translate=0)}function uo(e,t,n,r){co(e.x,t.x,n.x,r?r.originX:void 0),co(e.y,t.y,n.y,r?r.originY:void 0)}function po(e,t,n){e.min=n.min+t.min,e.max=e.min+io(t)}function mo(e,t,n){e.min=t.min-n.min,e.max=e.min+io(t)}function ho(e,t,n){mo(e.x,t.x,n.x),mo(e.y,t.y,n.y)}function xo(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function go(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const fo=.35;function yo(e,t,n){return{min:bo(e,t),max:bo(e,n)}}function bo(e,t){return"number"===typeof e?e:e[t]||0}const vo=()=>({x:{min:0,max:0},y:{min:0,max:0}});function wo(e){return[e("x"),e("y")]}function No(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}function jo(e){return void 0===e||1===e}function ko(e){let{scale:t,scaleX:n,scaleY:r}=e;return!jo(t)||!jo(n)||!jo(r)}function Co(e){return ko(e)||So(e)||e.z||e.rotate||e.rotateX||e.rotateY}function So(e){return Eo(e.x)||Eo(e.y)}function Eo(e){return e&&"0%"!==e}function To(e,t,n){return n+t*(e-n)}function Ao(e,t,n,r,o){return void 0!==o&&(e=To(e,o,r)),To(e,n,r)+t}function Ro(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=Ao(e.min,t,n,r,o),e.max=Ao(e.max,t,n,r,o)}function Io(e,t){let{x:n,y:r}=t;Ro(e.x,n.translate,n.scale,n.originPoint),Ro(e.y,r.translate,r.scale,r.originPoint)}function Po(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function _o(e,t){e.min=e.min+t,e.max=e.max+t}function Oo(e,t,n){let[r,o,a]=n;const s=void 0!==t[a]?t[a]:.5,i=dn(e.min,e.max,s);Ro(e,t[r],t[o],i,t.scale)}const Do=["x","scaleX","originX"],Lo=["y","scaleY","originY"];function Mo(e,t){Oo(e.x,t,Do),Oo(e.y,t,Lo)}function Fo(e,t){return No(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const zo=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},Bo=new WeakMap;class Uo{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new eo(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(dt(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ft(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wo(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Ne.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=io(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),o&&g.update(()=>o(e,t),!1,!0);const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:a}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>wo(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:zo(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&g.update(()=>o(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Vo(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?dn(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?dn(o,e,n.max):Math.min(e,o)),e}(a,this.constraints[e],this.elastic[e])),o.set(a)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&L(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:o,right:a}=t;return{x:xo(e.x,r,a),y:xo(e.y,n,o)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fo;return!1===e?e=0:!0===e&&(e=fo),{x:yo(e,"left","right"),y:yo(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&wo(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!L(e))return!1;const n=e.current;T(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=Fo(e,n),{scroll:o}=t;return o&&(_o(r.x,o.offset.x),_o(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:go(e.x,t.x),y:go(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=No(e))}return a}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),i=this.constraints||{},l=wo(s=>{if(!Vo(s,t,this.currentDirection))return;let l=i&&i[s]||{};a&&(l={min:0,max:0});const d=r?200:1e6,u=r?40:1e7,p=c(c({type:"inertia",velocity:n?e[s]:0,bounceStiffness:d,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},o),l);return this.startAxisValueAnimation(s,p)});return Promise.all(l).then(s)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(vr(e,n,0,t))}stopAnimation(){wo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){wo(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){wo(t=>{const{drag:n}=this.getProps();if(!Vo(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:a}=r.layout.layoutBox[t];o.set(e[t]-dn(n,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!L(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};wo(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=io(e),o=io(t);return o>r?n=Rn(t.min,t.max-r,e.min):r>o&&(n=Rn(e.min,e.max-o,t.min)),ue(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wo(t=>{if(!Vo(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:a}=this.constraints[t];n.set(dn(o,a,r[t]))})}addListeners(){if(!this.visualElement.current)return;Bo.set(this.visualElement,this);const e=ut(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();L(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const o=lt(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(wo(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{o(),e(),r(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:a=fo,dragMomentum:s=!0}=e;return c(c({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:a,dragMomentum:s})}}function Vo(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const Ho=e=>(t,n)=>{e&&g.update(()=>e(t,n))};const Wo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Go(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qo={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!je.test(e))return e;e=parseFloat(e)}const n=Go(e,t.target.x),r=Go(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Yo={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,a=kn.parse(e);if(a.length>5)return o;const s=kn.createTransformer(e),i="number"!==typeof a[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;a[0+i]/=l,a[1+i]/=c;const d=dn(l,c,.5);return"number"===typeof a[2+i]&&(a[2+i]/=d),"number"===typeof a[3+i]&&(a[3+i]/=d),s(a)}};class Xo extends r.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;var a;a=$o,Object.assign(ee,a),o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions(c(c({},o.options),{},{onExitComplete:()=>this.safeToRemove()}))),Wo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,a=n.projection;return a?(a.isPresent=o,r||e.layoutDependency!==t||void 0===t?a.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?a.promote():a.relegate()||g.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ko(e){const[t,n]=function(){const e=(0,r.useContext)(v);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:o}=e,a=(0,r.useId)();return(0,r.useEffect)(()=>o(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}(),o=(0,r.useContext)(S);return r.createElement(Xo,c(c({},e),{},{layoutGroup:o,switchLayoutGroup:(0,r.useContext)(Y),isPresent:t,safeToRemove:n}))}const $o={borderRadius:c(c({},qo),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:qo,borderTopRightRadius:qo,borderBottomLeftRadius:qo,borderBottomRightRadius:qo,boxShadow:Yo},Qo=["TopLeft","TopRight","BottomLeft","BottomRight"],Zo=Qo.length,Jo=e=>"string"===typeof e?parseFloat(e):e,ea=e=>"number"===typeof e||je.test(e);function ta(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const na=oa(0,.5,Kt),ra=oa(.5,.95,m);function oa(e,t,n){return r=>r<e?0:r>t?1:n(Rn(e,t,r))}function aa(e,t){e.min=t.min,e.max=t.max}function sa(e,t){aa(e.x,t.x),aa(e.y,t.y)}function ia(e,t,n,r,o){return e=To(e-=t,1/n,r),void 0!==o&&(e=To(e,1/o,r)),e}function la(e,t,n,r,o){let[a,s,i]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;Ne.test(t)&&(t=parseFloat(t),t=dn(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let i=dn(a.min,a.max,r);e===a&&(i-=t),e.min=ia(e.min,t,n,i,o),e.max=ia(e.max,t,n,i,o)}(e,t[a],t[s],t[i],t.scale,r,o)}const ca=["x","scaleX","originX"],da=["y","scaleY","originY"];function ua(e,t,n,r){la(e.x,t,ca,n?n.x:void 0,r?r.x:void 0),la(e.y,t,da,n?n.y:void 0,r?r.y:void 0)}function pa(e){return 0===e.translate&&1===e.scale}function ma(e){return pa(e.x)&&pa(e.y)}function ha(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function xa(e){return io(e.x)/io(e.y)}class ga{constructor(){this.members=[]}add(e){jr(this.members,e),e.scheduleRender()}remove(e){if(kr(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fa(e,t,n){let r="";const o=e.x.translate/t.x,a=e.y.translate/t.y;if((o||a)&&(r="translate3d(".concat(o,"px, ").concat(a,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:o}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),o&&(r+="rotateY(".concat(o,"deg) "))}const s=e.x.scale*t.x,i=e.y.scale*t.y;return 1===s&&1===i||(r+="scale(".concat(s,", ").concat(i,")")),r||"none"}const ya=(e,t)=>e.depth-t.depth;class ba{constructor(){this.children=[],this.isDirty=!1}add(e){jr(this.children,e),this.isDirty=!0}remove(e){kr(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ya),this.isDirty=!1,this.children.forEach(e)}}const va=["","X","Y","Z"],wa={visibility:"hidden"};let Na=0;const ja={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ka(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:a}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Na++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{var e;this.projectionUpdateScheduled=!1,ja.totalNodes=ja.resolvedTargetDeltas=ja.recalculatedProjection=0,this.nodes.forEach(Ea),this.nodes.forEach(Oa),this.nodes.forEach(Da),this.nodes.forEach(Ta),e=ja,window.MotionDebug&&window.MotionDebug.record(e)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new ba)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Cr),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:o,layout:a,visualElement:s}=this.options;if(s&&!s.current&&s.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(a||o)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=o=>{let{timestamp:a}=o;const s=a-n;s>=t&&(f(r),e(s-t))};return g.read(r,!0),()=>f(r)}(r,250),Wo.hasAnimatedSinceResize&&(Wo.hasAnimatedSinceResize=!1,this.nodes.forEach(_a))})}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&s&&(o||a)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||s.getDefaultTransition()||Ua,{onLayoutAnimationStart:i,onLayoutAnimationComplete:l}=s.getProps(),d=!this.targetLayout||!ha(this.targetLayout,o)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(d||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=c(c({},yr(a,"layout")),{},{onPlay:i,onComplete:l});(s.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||_a(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,f(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(La),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ra);this.isUpdating||this.nodes.forEach(Ia),this.isUpdating=!1,this.nodes.forEach(Pa),this.nodes.forEach(Ca),this.nodes.forEach(Sa),this.clearAllSnapshots();const e=performance.now();y.delta=ue(0,1e3/60,e-y.timestamp),y.timestamp=e,y.isProcessing=!0,b.update.process(y),b.preRender.process(y),b.render.process(y),y.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Aa),this.sharedNodes.forEach(Ma)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,g.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){g.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:o(this.instance),offset:r(this.instance)})}resetTransform(){if(!a)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!ma(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&(t||Co(this.latestValues)||o)&&(a(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),Wa((r=n).x),Wa(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(_o(t.x,n.offset.x),_o(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};sa(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:o,options:a}=r;if(r!==this.root&&o&&a.layoutScroll){if(o.isRoot){sa(t,e);const{scroll:n}=this.root;n&&(_o(t.x,-n.offset.x),_o(t.y,-n.offset.y))}_o(t.x,o.offset.x),_o(t.y,o.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};sa(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Mo(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Co(e.latestValues)&&Mo(n,e.latestValues)}return Co(this.latestValues)&&Mo(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};sa(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Co(e.latestValues))continue;ko(e.latestValues)&&e.updateSnapshot();const r=vo();sa(r,e.measurePageBox()),ua(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Co(this.latestValues)&&ua(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=c(c(c({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==y.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:o,layoutId:a}=this.options;if(this.layout&&(o||a)){if(this.resolvedRelativeTargetAt=y.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ho(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),sa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var s,i,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s=this.target,i=this.relativeTarget,l=this.relativeParent.target,po(s.x,i.x,l.x),po(s.y,i.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):sa(this.target,this.layout.layoutBox),Io(this.target,this.targetDelta)):sa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ho(this.relativeTargetOrigin,this.target,e.target),sa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ja.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!ko(this.parent.latestValues)&&!So(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===y.timestamp&&(r=!1),r)return;const{layout:o,layoutId:a}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!a)return;sa(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,i=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let a,s;t.x=t.y=1;for(let i=0;i<o;i++){a=n[i],s=a.projectionDelta;const o=a.instance;o&&o.style&&"contents"===o.style.display||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Mo(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Io(e,s)),r&&Co(a.latestValues)&&Mo(e,a.latestValues))}t.x=Po(t.x),t.y=Po(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;uo(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=fa(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===s&&this.treeScale.y===i||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ja.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o=c({},this.latestValues),a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const s={x:{min:0,max:0},y:{min:0,max:0}},i=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),d=!l||l.members.length<=1,u=Boolean(i&&!d&&!0===this.options.crossfade&&!this.path.some(Ba));let p;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,c,m,h,x,g;Fa(a.x,e.x,n),Fa(a.y,e.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ho(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),m=this.relativeTarget,h=this.relativeTargetOrigin,x=s,g=n,za(m.x,h.x,x.x,g),za(m.y,h.y,x.y,g),p&&(l=this.relativeTarget,c=p,l.x.min===c.x.min&&l.x.max===c.x.max&&l.y.min===c.y.min&&l.y.max===c.y.max)&&(this.isProjectionDirty=!1),p||(p={x:{min:0,max:0},y:{min:0,max:0}}),sa(p,this.relativeTarget)),i&&(this.animationValues=o,function(e,t,n,r,o,a){o?(e.opacity=dn(0,void 0!==n.opacity?n.opacity:1,na(r)),e.opacityExit=dn(void 0!==t.opacity?t.opacity:1,0,ra(r))):a&&(e.opacity=dn(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let s=0;s<Zo;s++){const o="border".concat(Qo[s],"Radius");let a=ta(t,o),i=ta(n,o);void 0===a&&void 0===i||(a||(a=0),i||(i=0),0===a||0===i||ea(a)===ea(i)?(e[o]=Math.max(dn(Jo(a),Jo(i),r),0),(Ne.test(i)||Ne.test(a))&&(e[o]+="%")):e[o]=i)}(t.rotate||n.rotate)&&(e.rotate=dn(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,u,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(f(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=g.update(()=>{Wo.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=oe(e)?e:Tr(e);return r.start(vr("",r,t,n)),r.animation}(0,1e3,c(c({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&Ga(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=io(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=io(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}sa(t,n),Mo(t,o),uo(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new ga);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let o=0;o<va.length;o++){const t="rotate"+va[o];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const o in r)e.setStaticValue(o,r[o]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wa;const r={visibility:""},o=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=nt(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=o?o(this.latestValues,""):"none",r;const a=this.getLead();if(!this.projectionDelta||!this.layout||!a.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=nt(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Co(this.latestValues)&&(t.transform=o?o({},""):"none",this.hasProjected=!1),t}const s=a.animationValues||a.latestValues;this.applyTransformsToTarget(),r.transform=fa(this.projectionDeltaWithTransform,this.treeScale,s),o&&(r.transform=o(s,r.transform));const{x:i,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*i.origin,"% ").concat(100*l.origin,"% 0"),a.animationValues?r.opacity=a===this?null!==(n=null!==(t=s.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:r.opacity=a===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const c in ee){if(void 0===s[c])continue;const{correct:e,applyTo:t}=ee[c],n="none"===r.transform?s[c]:e(s[c],a);if(t){const e=t.length;for(let o=0;o<e;o++)r[t[o]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=a===this?nt(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Ra),this.root.sharedNodes.clear()}}}function Ca(e){e.updateLayout()}function Sa(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,a=n.source!==e.layout.source;"size"===o?wo(e=>{const r=a?n.measuredBox[e]:n.layoutBox[e],o=io(r);r.min=t[e].min,r.max=r.min+o}):Ga(o,n.layoutBox,t)&&wo(r=>{const o=a?n.measuredBox[r]:n.layoutBox[r],s=io(t[r]);o.max=o.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)});const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};uo(s,t,n.layoutBox);const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?uo(i,e.applyTransform(r,!0),n.measuredBox):uo(i,t,n.layoutBox);const l=!ma(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:a}=r;if(o&&a){const s={x:{min:0,max:0},y:{min:0,max:0}};ho(s,n.layoutBox,o.layoutBox);const i={x:{min:0,max:0},y:{min:0,max:0}};ho(i,t,a.layoutBox),ha(s,i)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=i,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:i,layoutDelta:s,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Ea(e){ja.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Ta(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Aa(e){e.clearSnapshot()}function Ra(e){e.clearMeasurements()}function Ia(e){e.isLayoutDirty=!1}function Pa(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _a(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Oa(e){e.resolveTargetDelta()}function Da(e){e.calcProjection()}function La(e){e.resetRotation()}function Ma(e){e.removeLeadSnapshot()}function Fa(e,t,n){e.translate=dn(t.translate,0,n),e.scale=dn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function za(e,t,n,r){e.min=dn(t.min,n.min,r),e.max=dn(t.max,n.max,r)}function Ba(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ua={duration:.45,ease:[.4,0,.1,1]},Va=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),Ha=Va("applewebkit/")&&!Va("chrome/")?Math.round:m;function Wa(e){e.min=Ha(e.min),e.max=Ha(e.max)}function Ga(e,t,n){return"position"===e||"preserve-aspect"===e&&!lo(xa(t),xa(n),.2)}const qa=ka({attachResizeListener:(e,t)=>lt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ya={current:void 0},Xa=ka({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ya.current){const e=new qa({});e.mount(window),e.setOptions({layoutScroll:!0}),Ya.current=e}return Ya.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Ka={pan:{Feature:class extends bt{constructor(){super(...arguments),this.removePointerDownListener=m}onPointerDown(e){this.session=new eo(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zo(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ho(e),onStart:Ho(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&g.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=ut(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends bt{constructor(e){super(e),this.removeGroupControls=m,this.removeListeners=m,this.controls=new Uo(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||m}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Xa,MeasureLayout:Ko}};const $a=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Qa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;T(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,o]=function(e){const t=$a.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const e=a.trim();return Nr(e)?parseFloat(e):e}return ce(o)?Qa(o,t,n+1):o}function Za(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const o=e.current;if(!(o instanceof Element))return{target:r,transitionEnd:n};n&&(n=c({},n)),e.values.forEach(e=>{const t=e.get();if(!ce(t))return;const n=Qa(t,o);n&&e.set(n)});for(const a in r){const e=r[a];if(!ce(e))continue;const t=Qa(e,o);t&&(r[a]=t,n||(n={}),void 0===n[a]&&(n[a]=e))}return{target:r,transitionEnd:n}}const Ja=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),es=e=>Ja.has(e),ts=e=>e===pe||e===je,ns=(e,t)=>parseFloat(e.split(", ")[t]),rs=(e,t)=>(n,r)=>{let{transform:o}=r;if("none"===o||!o)return 0;const a=o.match(/^matrix3d\((.+)\)$/);if(a)return ns(a[1],t);{const t=o.match(/^matrix\((.+)\)$/);return t?ns(t[1],e):0}},os=new Set(["x","y","z"]),as=te.filter(e=>!os.has(e));const ss={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:rs(4,13),y:rs(5,14)};ss.translateX=ss.x,ss.translateY=ss.y;const is=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=c({},t),r=c({},r);const o=Object.keys(t).filter(es);let a=[],s=!1;const i=[];if(o.forEach(o=>{const l=e.getValue(o);if(!e.hasValue(o))return;let c=n[o],d=Ir(c);const u=t[o];let p;if(et(u)){const e=u.length,t=null===u[0]?1:0;c=u[t],d=Ir(c);for(let n=t;n<e&&null!==u[n];n++)p?T(Ir(u[n])===p,"All keyframes must be of the same type"):(p=Ir(u[n]),T(p===d||ts(d)&&ts(p),"Keyframes must be of the same dimension as the current value"))}else p=Ir(u);if(d!==p)if(ts(d)&&ts(p)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof u?t[o]=parseFloat(u):Array.isArray(u)&&p===je&&(t[o]=u.map(parseFloat))}else(null===d||void 0===d?void 0:d.transform)&&(null===p||void 0===p?void 0:p.transform)&&(0===c||0===u)?0===c?l.set(p.transform(c)):t[o]=d.transform(u):(s||(a=function(e){const t=[];return as.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),s=!0),i.push(o),r[o]=void 0!==r[o]?r[o]:t[o],l.jump(u))}),i.length){const n=i.indexOf("height")>=0?window.pageYOffset:null,o=((e,t,n)=>{const r=t.measureViewportBox(),o=t.current,a=getComputedStyle(o),{display:s}=a,i={};"none"===s&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{i[e]=ss[e](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(i[n]),e[n]=ss[n](l,a)}),e})(t,e,i);return a.length&&a.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),d&&null!==n&&window.scrollTo({top:n}),{target:o,transitionEnd:r}}return{target:t,transitionEnd:r}};function ls(e,t,n,r){return(e=>Object.keys(e).some(es))(t)?is(e,t,n,r):{target:t,transitionEnd:r}}const cs={current:null},ds={current:!1};const us=new WeakMap,ps=["willChange"],ms=["children"],hs=Object.keys(q),xs=hs.length,gs=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],fs=B.length;class ys{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:a}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>g.render(this.render,!1,!0);const{latestValues:i,renderState:l}=a;this.latestValues=i,this.baseTarget=c({},i),this.initialValues=n.initial?c({},i):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=U(n),this.isVariantNode=V(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const d=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=d,p=Fe(d,ps);for(const c in p){const e=p[c];void 0!==i[c]&&oe(e)&&(e.set(i[c],!1),wr(u)&&u.add(c))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,us.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),ds.current||function(){if(ds.current=!0,d)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cs.current=e.matches;e.addListener(t),t()}else cs.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||cs.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){us.delete(this.current),this.projection&&this.projection.unmount(),f(this.notifyUpdate),f(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=ne.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&g.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),o()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let o,a,{children:s}=e,i=Fe(e,ms);for(let l=0;l<xs;l++){const e=hs[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:s}=q[e];r&&(o=r),t(i)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),s&&(a=s))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:a,layoutScroll:s,layoutRoot:l}=i;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||a&&L(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:s,layoutRoot:l})}return a}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<gs.length;n++){const t=gs[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const o in t){const a=t[o],s=n[o];if(oe(a))e.addValue(o,a),wr(r)&&r.add(o);else if(oe(s))e.addValue(o,Tr(a,{owner:e})),wr(r)&&r.remove(o);else if(s!==a)if(e.hasValue(o)){const t=e.getValue(o);!t.hasAnimated&&t.set(a)}else{const t=e.getStaticValue(o);e.addValue(o,Tr(void 0!==t?t:a,{owner:e}))}}for(const o in n)void 0===t[o]&&e.removeValue(o);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<fs;t++){const n=B[t],r=this.props[n];(M(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Tr(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=Je(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||oe(o)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new Cr),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const bs=["transition","transitionEnd"];class vs extends ys{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:o}=e,a=Fe(e,bs),{transformValues:s}=t,i=function(e,t,n){const r={};for(const o in e){const e=Mr(o,t);if(void 0!==e)r[o]=e;else{const e=n.getValue(o);e&&(r[o]=e.get())}}return r}(a,r||{},this);if(s&&(o&&(o=s(o)),a&&(a=s(a)),i&&(i=s(i))),n){!function(e,t,n){var r,o;const a=Object.keys(t).filter(t=>!e.hasValue(t)),s=a.length;if(s)for(let i=0;i<s;i++){const s=a[i],l=t[s];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(o=null!==(r=n[s])&&void 0!==r?r:e.readValue(s))&&void 0!==o?o:t[s]),void 0!==c&&null!==c&&("string"===typeof c&&(Nr(c)||xr(c))?c=parseFloat(c):!_r(c)&&kn.test(l)&&(c=hr(s,l)),e.addValue(s,Tr(c,{owner:e})),void 0===n[s]&&(n[s]=c),null!==c&&e.setBaseTarget(s,c))}}(this,a,i);const e=((e,t,n,r)=>{const o=Za(e,t,r);return ls(e,t=o.target,n,r=o.transitionEnd)})(this,a,i,o);o=e.transitionEnd,a=e.target}return c({transition:r,transitionEnd:o},a)}}class ws extends vs{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(ne.has(t)){const e=mr(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),o=(le(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof o?o.trim():o}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Fo(e,n)}build(e,t,n,r){Ae(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Qe(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;oe(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){Xe(e,t,n,r)}}class Ns extends vs{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(ne.has(t)){const e=mr(t);return e&&e.default||0}return t=Ke.has(t)?t:O(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return Ze(e,t)}build(e,t,n,r){He(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){$e(e,t,0,r)}mount(e){this.isSVGTag=Ge(e.tagName),super.mount(e)}}const js=(e,t)=>J(e)?new Ns(t,{enableHardwareAcceleration:!1}):new ws(t,{enableHardwareAcceleration:!0}),ks={layout:{ProjectionNode:Xa,MeasureLayout:Ko}},Cs=c(c(c(c({},Zr),Rt),Ka),ks),Ss=Q((e,t)=>function(e,t,n,r){let{forwardMotionProps:o=!1}=t;return c(c({},J(e)?st:it),{},{preloadedFeatures:n,useRender:Ye(o),createVisualElement:r,Component:e})}(e,t,Cs,js));var Es={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ts=["color","size","strokeWidth","absoluteStrokeWidth","className","children"],As=(e,t)=>{const n=(0,r.forwardRef)((n,o)=>{let{color:a="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:d="",children:u}=n,p=Fe(n,Ts);return(0,r.createElement)("svg",c(c({ref:o},Es),{},{width:s,height:s,stroke:a,strokeWidth:l?24*Number(i)/Number(s):i,className:["lucide","lucide-".concat((m=e,m.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim())),d].join(" ")},p),[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(u)?u:[u]]);var m});return n.displayName="".concat(e),n},Rs=As("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Is=As("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Ps=As("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),_s=As("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Os=n(579);const Ds=["children","onClick","color","hoverColor","className","icon","disabled","type"],Ls=e=>{let{children:t,onClick:n,color:r="bg-yellow-400",hoverColor:o="hover:bg-yellow-500",className:a="",icon:s=null,disabled:i=!1,type:l="button"}=e,d=Fe(e,Ds);return(0,Os.jsxs)(Ss.button,c(c({type:l,className:"\n      font-mono tracking-wide border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n      ".concat(r," ").concat(o," px-4 py-2 flex items-center justify-center gap-2 \n      transition-colors ").concat(a,"\n      ").concat(i?"opacity-50 cursor-not-allowed":"cursor-pointer","\n    "),onClick:n,disabled:i,whileHover:i?{}:{scale:1.05},whileTap:i?{}:{scale:.95}},d),{},{children:[s&&s,t]}))},Ms=["value","onChange","placeholder","className","type"],Fs=["value","onChange","placeholder","className","rows"],zs=e=>{let{value:t,onChange:n,placeholder:r,className:o="",rows:a=4}=e,s=Fe(e,Fs);return(0,Os.jsx)("textarea",c({value:t,onChange:n,placeholder:r,rows:a,className:"\n      font-mono tracking-wide border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n      bg-white px-4 py-2 w-full resize-none focus:outline-none focus:ring-2 focus:ring-yellow-400\n      ".concat(o,"\n    ")},s))},Bs=e=>{let{value:t,onChange:n,placeholder:r,className:o="",type:a="text"}=e,s=Fe(e,Ms);return(0,Os.jsx)("input",c({type:a,value:t,onChange:n,placeholder:r,className:"\n      font-mono tracking-wide border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n      bg-white px-4 py-2 w-full focus:outline-none focus:ring-2 focus:ring-yellow-400\n      ".concat(o,"\n    ")},s))},Us=e=>{var t,n,r,o,a,s;let{achievement:i}=e;const l=(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"legendary":return{bg:"bg-yellow-100",border:"border-yellow-500",text:"text-yellow-700"};case"epic":return{bg:"bg-purple-100",border:"border-purple-500",text:"text-purple-700"};case"rare":return{bg:"bg-blue-100",border:"border-blue-500",text:"text-blue-700"};default:return{bg:"bg-gray-100",border:"border-gray-500",text:"text-gray-700"}}})((null===(t=i.achievement)||void 0===t?void 0:t.rarity)||i.rarity),c=i.isCompleted,d=i.progress||0,u=i.maxProgress||1,p=i.progressPercentage||0;return(0,Os.jsx)(Ss.div,{className:"border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] p-4 ".concat(l.bg," ").concat(c?"opacity-100":"opacity-75"),whileHover:{scale:1.02,y:-2},children:(0,Os.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Os.jsx)("div",{className:"border-2 ".concat(l.border," w-12 h-12 flex items-center justify-center bg-white"),children:(0,Os.jsx)("span",{className:"text-2xl",children:(null===(n=i.achievement)||void 0===n?void 0:n.icon)||i.icon||"\ud83c\udfc6"})}),(0,Os.jsxs)("div",{className:"flex-1",children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Os.jsx)("h4",{className:"font-mono font-bold text-sm",children:(null===(r=i.achievement)||void 0===r?void 0:r.name)||i.title}),c&&(0,Os.jsx)("span",{className:"text-green-600 text-xl",children:"\u2713"})]}),(0,Os.jsx)("p",{className:"text-xs text-gray-600 mb-2",children:(null===(o=i.achievement)||void 0===o?void 0:o.description)||i.description}),(0,Os.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Os.jsx)("span",{className:"text-xs font-mono px-2 py-1 border ".concat(l.border," ").concat(l.text),children:(null===(a=i.achievement)||void 0===a||null===(s=a.rarity)||void 0===s?void 0:s.toUpperCase())||"COMMON"}),(0,Os.jsxs)("span",{className:"text-xs text-gray-500",children:[d,"/",u]})]}),(0,Os.jsx)("div",{className:"border-2 border-black bg-gray-200 h-3",children:(0,Os.jsx)("div",{className:"h-full transition-all duration-500 ".concat(c?"bg-green-500":"bg-blue-500"),style:{width:"".concat(p,"%")}})}),i.unlockedAt&&(0,Os.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Unlocked: ",new Date(i.unlockedAt).toLocaleDateString()]})]})]})})},Vs=[{id:"first_scroll",name:"FIRST SCROLL",description:"Create your first note log",tier:"common",category:"notes",icon:"BookOpen",requirement:{type:"note_count",target:1},xpReward:50,color:"#10B981"},{id:"apprentice_scribe",name:"APPRENTICE SCRIBE",description:"Create 5 note logs",tier:"common",category:"notes",icon:"BookOpen",requirement:{type:"note_count",target:5},xpReward:100,color:"#10B981"},{id:"word_warrior",name:"WORD WARRIOR",description:"Write 100 words total in logs",tier:"common",category:"notes",icon:"Edit3",requirement:{type:"word_count",target:100},xpReward:75,color:"#10B981"},{id:"tag_rookie",name:"TAG ROOKIE",description:"Use your first tag in a log",tier:"common",category:"notes",icon:"Tag",requirement:{type:"tag_count",target:1},xpReward:50,color:"#10B981"},{id:"basic_editor",name:"BASIC EDITOR",description:"Edit your first log",tier:"common",category:"notes",icon:"Edit",requirement:{type:"note_edits",target:1},xpReward:50,color:"#10B981"},{id:"journeyman_writer",name:"JOURNEYMAN WRITER",description:"Collect 10 logs",tier:"uncommon",category:"notes",icon:"BookOpen",requirement:{type:"note_count",target:10},xpReward:200,color:"#3B82F6"},{id:"verbose_victor",name:"VERBOSE VICTOR",description:"Write 500 words total in logs",tier:"uncommon",category:"notes",icon:"Edit3",requirement:{type:"word_count",target:500},xpReward:250,color:"#3B82F6"},{id:"tag_apprentice",name:"TAG APPRENTICE",description:"Use 5 different tags in logs",tier:"uncommon",category:"notes",icon:"Tag",requirement:{type:"unique_tags",target:5},xpReward:200,color:"#3B82F6"},{id:"night_owl",name:"NIGHT OWL",description:"Write a log between 11 PM and 5 AM",tier:"uncommon",category:"notes",icon:"Moon",requirement:{type:"time_range",startHour:23,endHour:5},xpReward:150,color:"#3B82F6"},{id:"early_bird",name:"EARLY BIRD",description:"Write a log between 5 AM and 8 AM",tier:"uncommon",category:"notes",icon:"Sun",requirement:{type:"time_range",startHour:5,endHour:8},xpReward:150,color:"#3B82F6"},{id:"weekend_warrior",name:"WEEKEND WARRIOR",description:"Create 5 logs on weekends",tier:"uncommon",category:"notes",icon:"Calendar",requirement:{type:"weekend_notes",target:5},xpReward:200,color:"#3B82F6"},{id:"speed_writer",name:"SPEED WRITER",description:"Write 100 words in under 5 minutes",tier:"uncommon",category:"notes",icon:"Zap",requirement:{type:"speed_writing",words:100,timeLimit:300},xpReward:300,color:"#3B82F6"},{id:"revision_master",name:"REVISION MASTER",description:"Edit the same log 5 times",tier:"uncommon",category:"notes",icon:"RotateCcw",requirement:{type:"single_note_edits",target:5},xpReward:250,color:"#3B82F6"},{id:"master_chronicler",name:"MASTER CHRONICLER",description:"Collect 25 logs",tier:"rare",category:"notes",icon:"BookOpen",requirement:{type:"note_count",target:25},xpReward:500,color:"#8B5CF6"},{id:"wordsmith_supreme",name:"WORDSMITH SUPREME",description:"Write 2000 words total",tier:"rare",category:"notes",icon:"Edit3",requirement:{type:"word_count",target:2e3},xpReward:750,color:"#8B5CF6"},{id:"tag_master",name:"TAG MASTER",description:"Use 15 different tags",tier:"rare",category:"notes",icon:"Tag",requirement:{type:"unique_tags",target:15},xpReward:600,color:"#8B5CF6"},{id:"consistent_writer",name:"CONSISTENT WRITER",description:"Write logs for 7 consecutive days",tier:"rare",category:"notes",icon:"Calendar",requirement:{type:"streak",target:7},xpReward:800,color:"#8B5CF6"},{id:"marathon_scribe",name:"MARATHON SCRIBE",description:"Write 500+ words in one log",tier:"rare",category:"notes",icon:"FileText",requirement:{type:"single_note_words",target:500},xpReward:700,color:"#8B5CF6"},{id:"weekly_champion",name:"WEEKLY CHAMPION",description:"Create 10 logs in one week",tier:"rare",category:"notes",icon:"Trophy",requirement:{type:"weekly_notes",target:10},xpReward:600,color:"#8B5CF6"},{id:"organization_guru",name:"ORGANIZATION GURU",description:"Use 3+ tags in a single log",tier:"rare",category:"notes",icon:"Tags",requirement:{type:"single_note_tags",target:3},xpReward:500,color:"#8B5CF6"},{id:"legendary_archivist",name:"LEGENDARY ARCHIVIST",description:"Create 100 logs",tier:"legendary",category:"notes",icon:"Archive",requirement:{type:"note_count",target:100},xpReward:2e3,color:"#F59E0B"},{id:"epic_novelist",name:"EPIC NOVELIST",description:"Write 1000+ words in one log",tier:"legendary",category:"notes",icon:"Book",requirement:{type:"single_note_words",target:1e3},xpReward:2500,color:"#F59E0B"},{id:"tag_grandmaster",name:"TAG GRANDMASTER",description:"Use 25 different tags",tier:"legendary",category:"notes",icon:"Tags",requirement:{type:"unique_tags",target:25},xpReward:2e3,color:"#F59E0B"},{id:"archive_emperor",name:"ARCHIVE EMPEROR",description:"Write 10,000 words total",tier:"legendary",category:"notes",icon:"Crown",requirement:{type:"word_count",target:1e4},xpReward:5e3,color:"#F59E0B"}],Hs=[{id:"focused_initiate",name:"FOCUSED INITIATE",description:"Complete your first grind",tier:"common",category:"focus",icon:"Target",requirement:{type:"session_count",target:1},xpReward:100,color:"#10B981"},{id:"micro_master",name:"MICRO MASTER",description:"Complete 3 micro grinds (5-15 min)",tier:"common",category:"focus",icon:"Clock",requirement:{type:"session_duration_range",minDuration:5,maxDuration:15,target:3},xpReward:150,color:"#10B981"},{id:"hour_apprentice",name:"HOUR APPRENTICE",description:"Spend 1 hour total grinding",tier:"common",category:"focus",icon:"Clock",requirement:{type:"total_time",target:60},xpReward:200,color:"#10B981"},{id:"quick_burst",name:"QUICK BURST",description:"Complete a 5-minute grind",tier:"common",category:"focus",icon:"Zap",requirement:{type:"single_session_duration",target:5},xpReward:75,color:"#10B981"},{id:"pomodoro_starter",name:"POMODORO STARTER",description:"Complete your first 25-minute grind",tier:"common",category:"focus",icon:"Target",requirement:{type:"single_session_duration",target:25},xpReward:150,color:"#10B981"},{id:"break_taker",name:"BREAK TAKER",description:"Take a 5-minute grind break",tier:"common",category:"focus",icon:"Coffee",requirement:{type:"break_session",target:5},xpReward:50,color:"#10B981"},{id:"morning_focus",name:"MORNING FOCUS",description:"Complete a grind before 10 AM",tier:"common",category:"focus",icon:"Sun",requirement:{type:"time_before",hour:10},xpReward:100,color:"#10B981"},{id:"category_explorer",name:"CATEGORY EXPLORER",description:"Try 2 different grind skills",tier:"common",category:"focus",icon:"Compass",requirement:{type:"unique_categories",target:2},xpReward:100,color:"#10B981"},{id:"pomodoro_warrior",name:"POMODORO WARRIOR",description:"Complete 10 Pomodoro grinds",tier:"uncommon",category:"focus",icon:"Target",requirement:{type:"pomodoro_count",target:10},xpReward:300,color:"#3B82F6"},{id:"focus_streak",name:"FOCUS STREAK",description:"Grind for 3 days in a row",tier:"uncommon",category:"focus",icon:"Calendar",requirement:{type:"daily_streak",target:3},xpReward:400,color:"#3B82F6"},{id:"deep_diver",name:"DEEP DIVER",description:"Complete a 60+ minute grind",tier:"uncommon",category:"focus",icon:"Brain",requirement:{type:"single_session_duration",target:60},xpReward:350,color:"#3B82F6"},{id:"dedication_keeper",name:"DEDICATION KEEPER",description:"Grind for 5 hours total",tier:"uncommon",category:"focus",icon:"Clock",requirement:{type:"total_time",target:300},xpReward:500,color:"#3B82F6"},{id:"evening_scholar",name:"EVENING SCHOLAR",description:"Complete 5 grinds after 6 PM",tier:"uncommon",category:"focus",icon:"Moon",requirement:{type:"time_after",hour:18,target:5},xpReward:250,color:"#3B82F6"},{id:"study_buddy",name:"STUDY BUDDY",description:"Complete 10 study skill grinds",tier:"uncommon",category:"focus",icon:"BookOpen",requirement:{type:"category_sessions",category:"study",target:10},xpReward:300,color:"#3B82F6"},{id:"code_ninja",name:"CODE NINJA",description:"Complete 10 code skill grinds",tier:"uncommon",category:"focus",icon:"Code",requirement:{type:"category_sessions",category:"code",target:10},xpReward:300,color:"#3B82F6"},{id:"work_horse",name:"WORK HORSE",description:"Complete 10 work skill grinds",tier:"uncommon",category:"focus",icon:"Briefcase",requirement:{type:"category_sessions",category:"work",target:10},xpReward:300,color:"#3B82F6"},{id:"creative_soul",name:"CREATIVE SOUL",description:"Complete 10 creative skill grinds",tier:"uncommon",category:"focus",icon:"Palette",requirement:{type:"category_sessions",category:"create",target:10},xpReward:300,color:"#3B82F6"},{id:"session_variety",name:"SESSION VARIETY",description:"Grind in 5 different durations",tier:"uncommon",category:"focus",icon:"Shuffle",requirement:{type:"duration_variety",target:5},xpReward:250,color:"#3B82F6"},{id:"concentration_king",name:"CONCENTRATION KING",description:"Complete 50 grind sessions",tier:"rare",category:"focus",icon:"Crown",requirement:{type:"session_count",target:50},xpReward:1e3,color:"#8B5CF6"},{id:"flow_state_master",name:"FLOW STATE MASTER",description:"Grind for 7 days in a row",tier:"rare",category:"focus",icon:"Waves",requirement:{type:"daily_streak",target:7},xpReward:800,color:"#8B5CF6"},{id:"marathon_mind",name:"MARATHON MIND",description:"Spend 20 hours total grinding",tier:"rare",category:"focus",icon:"Brain",requirement:{type:"total_time",target:1200},xpReward:1200,color:"#8B5CF6"},{id:"category_crusher",name:"CATEGORY CRUSHER",description:"Reach 10 hours grinding any skill",tier:"rare",category:"focus",icon:"Target",requirement:{type:"category_time",target:600},xpReward:800,color:"#8B5CF6"},{id:"deep_work_legend",name:"DEEP WORK LEGEND",description:"Complete 5 grinds of 90+ minutes",tier:"rare",category:"focus",icon:"Brain",requirement:{type:"long_sessions",duration:90,target:5},xpReward:1e3,color:"#8B5CF6"},{id:"monthly_warrior",name:"MONTHLY WARRIOR",description:"Complete 30 grinds in one month",tier:"rare",category:"focus",icon:"Calendar",requirement:{type:"monthly_sessions",target:30},xpReward:800,color:"#8B5CF6"},{id:"super_streaker",name:"SUPER STREAKER",description:"Complete grinds 14 days in a row",tier:"rare",category:"focus",icon:"Flame",requirement:{type:"daily_streak",target:14},xpReward:1200,color:"#8B5CF6"},{id:"time_optimizer",name:"TIME OPTIMIZER",description:"Complete grinds at 6 different times of day",tier:"rare",category:"focus",icon:"Clock",requirement:{type:"time_variety",target:6},xpReward:700,color:"#8B5CF6"},{id:"focus_legend",name:"FOCUS LEGEND",description:"Complete 200 grinds",tier:"legendary",category:"focus",icon:"Crown",requirement:{type:"session_count",target:200},xpReward:3e3,color:"#F59E0B"},{id:"zen_master",name:"ZEN MASTER",description:"Complete grinds 30 days in a row",tier:"legendary",category:"focus",icon:"Lotus",requirement:{type:"daily_streak",target:30},xpReward:5e3,color:"#F59E0B"},{id:"time_lord",name:"TIME LORD",description:"Spend 100 hours total grinding",tier:"legendary",category:"focus",icon:"Clock",requirement:{type:"total_time",target:6e3},xpReward:4e3,color:"#F59E0B"},{id:"omnifocus_sage",name:"OMNIFOCUS SAGE",description:"Grind for 20 hours in all skills",tier:"legendary",category:"focus",icon:"Star",requirement:{type:"all_categories_time",target:1200},xpReward:6e3,color:"#F59E0B"}],Ws=[{id:"task_rookie",name:"TASK ROOKIE",description:"Complete your first mission",tier:"common",category:"tasks",icon:"CheckSquare",requirement:{type:"task_count",target:1},xpReward:75,color:"#10B981"},{id:"daily_warrior",name:"DAILY WARRIOR",description:"Complete 3 missions",tier:"common",category:"tasks",icon:"CheckSquare",requirement:{type:"task_count",target:3},xpReward:100,color:"#10B981"},{id:"checkbox_champion",name:"CHECKBOX CHAMPION",description:"Complete 2 missions in one day",tier:"common",category:"tasks",icon:"CheckSquare",requirement:{type:"daily_tasks",target:2},xpReward:100,color:"#10B981"},{id:"priority_learner",name:"PRIORITY LEARNER",description:"Set your first mission priority",tier:"common",category:"tasks",icon:"Flag",requirement:{type:"priority_usage",target:1},xpReward:50,color:"#10B981"},{id:"due_date_setter",name:"DUE DATE SETTER",description:"Set your first mission due date",tier:"common",category:"tasks",icon:"Calendar",requirement:{type:"due_date_usage",target:1},xpReward:50,color:"#10B981"},{id:"category_starter",name:"CATEGORY STARTER",description:"Create missions in 2 different operations",tier:"common",category:"tasks",icon:"Folder",requirement:{type:"task_categories",target:2},xpReward:75,color:"#10B981"},{id:"task_creator",name:"TASK CREATOR",description:"Create 5 total missions",tier:"common",category:"tasks",icon:"Plus",requirement:{type:"tasks_created",target:5},xpReward:100,color:"#10B981"},{id:"mission_commander",name:"MISSION COMMANDER",description:"Complete 15 missions",tier:"uncommon",category:"tasks",icon:"Shield",requirement:{type:"task_count",target:15},xpReward:300,color:"#3B82F6"},{id:"efficiency_expert",name:"EFFICIENCY EXPERT",description:"Complete 5 missions in one day",tier:"uncommon",category:"tasks",icon:"Zap",requirement:{type:"daily_tasks",target:5},xpReward:400,color:"#3B82F6"},{id:"priority_master",name:"PRIORITY MASTER",description:"Complete 10 high-priority missions",tier:"uncommon",category:"tasks",icon:"Flag",requirement:{type:"high_priority_tasks",target:10},xpReward:350,color:"#3B82F6"},{id:"deadline_defender",name:"DEADLINE DEFENDER",description:"Complete 10 missions before their due date",tier:"uncommon",category:"tasks",icon:"Clock",requirement:{type:"early_completions",target:10},xpReward:400,color:"#3B82F6"},{id:"weekly_crusher",name:"WEEKLY CRUSHER",description:"Complete 10 missions in one week",tier:"uncommon",category:"tasks",icon:"Calendar",requirement:{type:"weekly_tasks",target:10},xpReward:350,color:"#3B82F6"},{id:"overachiever",name:"OVERACHIEVER",description:"Complete 20% more missions than created",tier:"uncommon",category:"tasks",icon:"TrendingUp",requirement:{type:"completion_ratio",ratio:1.2},xpReward:300,color:"#3B82F6"},{id:"category_master",name:"CATEGORY MASTER",description:"Use 5 different operations",tier:"uncommon",category:"tasks",icon:"Folder",requirement:{type:"task_categories",target:5},xpReward:250,color:"#3B82F6"},{id:"morning_achiever",name:"MORNING ACHIEVER",description:"Complete 10 missions before noon",tier:"uncommon",category:"tasks",icon:"Sun",requirement:{type:"morning_completions",hour:12,target:10},xpReward:300,color:"#3B82F6"},{id:"evening_finisher",name:"EVENING FINISHER",description:"Complete 10 missions after 6 PM",tier:"uncommon",category:"tasks",icon:"Moon",requirement:{type:"evening_completions",hour:18,target:10},xpReward:300,color:"#3B82F6"},{id:"quest_conqueror",name:"QUEST CONQUEROR",description:"Complete 50 missions",tier:"rare",category:"tasks",icon:"Sword",requirement:{type:"task_count",target:50},xpReward:1e3,color:"#8B5CF6"},{id:"productivity_titan",name:"PRODUCTIVITY TITAN",description:"Complete 10 missions in one day",tier:"rare",category:"tasks",icon:"Zap",requirement:{type:"daily_tasks",target:10},xpReward:1200,color:"#8B5CF6"},{id:"organization_overlord",name:"ORGANIZATION OVERLORD",description:"Maintain 5 different active operations",tier:"rare",category:"tasks",icon:"List",requirement:{type:"active_lists",target:5},xpReward:800,color:"#8B5CF6"},{id:"streak_sentry",name:"STREAK SENTRY",description:"Complete missions 7 days in a row",tier:"rare",category:"tasks",icon:"Flame",requirement:{type:"completion_streak",target:7},xpReward:1e3,color:"#8B5CF6"},{id:"urgent_responder",name:"URGENT RESPONDER",description:"Complete 20 urgent-priority missions",tier:"rare",category:"tasks",icon:"AlertTriangle",requirement:{type:"urgent_tasks",target:20},xpReward:800,color:"#8B5CF6"},{id:"monthly_dominator",name:"MONTHLY DOMINATOR",description:"Complete 50 missions in one month",tier:"rare",category:"tasks",icon:"Calendar",requirement:{type:"monthly_tasks",target:50},xpReward:1200,color:"#8B5CF6"},{id:"perfectionist",name:"PERFECTIONIST",description:"Complete 100 missions with 95%+ on-time rate",tier:"rare",category:"tasks",icon:"Star",requirement:{type:"ontime_rate",tasks:100,rate:.95},xpReward:1500,color:"#8B5CF6"},{id:"task_juggler",name:"TASK JUGGLER",description:"Have 20+ active missions at once",tier:"rare",category:"tasks",icon:"Layers",requirement:{type:"concurrent_tasks",target:20},xpReward:700,color:"#8B5CF6"},{id:"mission_emperor",name:"MISSION EMPEROR",description:"Complete 200 missions",tier:"legendary",category:"tasks",icon:"Crown",requirement:{type:"task_count",target:200},xpReward:3e3,color:"#F59E0B"},{id:"ultimate_achiever",name:"ULTIMATE ACHIEVER",description:"Complete 25 missions in one day",tier:"legendary",category:"tasks",icon:"Zap",requirement:{type:"daily_tasks",target:25},xpReward:4e3,color:"#F59E0B"},{id:"grandmaster_planner",name:"GRANDMASTER PLANNER",description:"Maintain a 30-day mission completion streak",tier:"legendary",category:"tasks",icon:"Calendar",requirement:{type:"completion_streak",target:30},xpReward:5e3,color:"#F59E0B"},{id:"legendary_executor",name:"LEGENDARY EXECUTOR",description:"Complete 500 total missions",tier:"legendary",category:"tasks",icon:"Sword",requirement:{type:"task_count",target:500},xpReward:7500,color:"#F59E0B"}],Gs=[{id:"triple_threat",name:"TRIPLE THREAT",description:"Create a log, mission and grind in one day",tier:"uncommon",category:"combo",icon:"Star",requirement:{type:"daily_combo",activities:["note","task","focus"]},xpReward:500,color:"#3B82F6"},{id:"balanced_user",name:"BALANCED USER",description:"Complete a log, mission and grind in one week",tier:"uncommon",category:"combo",icon:"Scale",requirement:{type:"weekly_combo",activities:["note","task","focus"]},xpReward:300,color:"#3B82F6"},{id:"productivity_stack",name:"PRODUCTIVITY STACK",description:"Complete 5 missions + 1 grind + 1 log in one day",tier:"uncommon",category:"combo",icon:"Layers",requirement:{type:"super_combo",tasks:5,focus:1,notes:1},xpReward:600,color:"#3B82F6"},{id:"weekend_grinder",name:"WEEKEND GRINDER",description:"Complete a log, mission and grind on both weekend days",tier:"uncommon",category:"combo",icon:"Calendar",requirement:{type:"weekend_activity",days:2},xpReward:400,color:"#3B82F6"},{id:"midnight_oil",name:"MIDNIGHT OIL",description:"Be productive after midnight",tier:"uncommon",category:"combo",icon:"Moon",requirement:{type:"late_night_activity",hour:0},xpReward:300,color:"#3B82F6"},{id:"early_riser",name:"EARLY RISER",description:"Be productive before 6 AM",tier:"uncommon",category:"combo",icon:"Sun",requirement:{type:"early_morning_activity",hour:6},xpReward:300,color:"#3B82F6"},{id:"power_user",name:"POWER USER",description:"Complete a log, mission and grind for 7 consecutive days",tier:"rare",category:"combo",icon:"Zap",requirement:{type:"combo_streak",activities:["note","task","focus"],target:7},xpReward:1e3,color:"#8B5CF6"},{id:"completionist",name:"COMPLETIONIST",description:"Reach 25% completion in all achievement categories",tier:"rare",category:"meta",icon:"Award",requirement:{type:"category_completion",percentage:.25},xpReward:800,color:"#8B5CF6"},{id:"habit_master",name:"HABIT MASTER",description:"Complete a log, mission and grind for 14 days",tier:"rare",category:"combo",icon:"Repeat",requirement:{type:"daily_activity_streak",target:14},xpReward:1200,color:"#8B5CF6"},{id:"feature_explorer",name:"FEATURE EXPLORER",description:"Use every major feature at least once",tier:"rare",category:"meta",icon:"Compass",requirement:{type:"feature_usage",features:["notes","tasks","focus","achievements","tracker"]},xpReward:600,color:"#8B5CF6"},{id:"consistency_king",name:"CONSISTENCY KING",description:"Be productive every day for 21 days",tier:"rare",category:"combo",icon:"Crown",requirement:{type:"activity_consistency",target:21},xpReward:1500,color:"#8B5CF6"},{id:"productivity_beast",name:"PRODUCTIVITY BEAST",description:"Be productive 10+ times in one day",tier:"rare",category:"combo",icon:"Zap",requirement:{type:"daily_activity_count",target:10},xpReward:1e3,color:"#8B5CF6"},{id:"monthly_master",name:"MONTHLY MASTER",description:"Be productive 100+ times in one month",tier:"rare",category:"combo",icon:"Calendar",requirement:{type:"monthly_activity_count",target:100},xpReward:1200,color:"#8B5CF6"},{id:"level_climber",name:"LEVEL CLIMBER",description:"Reach level 10",tier:"rare",category:"meta",icon:"TrendingUp",requirement:{type:"player_level",target:10},xpReward:1e3,color:"#8B5CF6"},{id:"xp_hunter",name:"XP HUNTER",description:"Earn 5000 total XP",tier:"rare",category:"meta",icon:"Target",requirement:{type:"total_xp",target:5e3},xpReward:500,color:"#8B5CF6"},{id:"achievement_hunter",name:"ACHIEVEMENT HUNTER",description:"Unlock 25 achievement badges",tier:"rare",category:"meta",icon:"Trophy",requirement:{type:"achievement_count",target:25},xpReward:1e3,color:"#8B5CF6"},{id:"pixel_master",name:"PIXEL MASTER",description:"Unlock 50 total achievement badges",tier:"legendary",category:"meta",icon:"Crown",requirement:{type:"achievement_count",target:50},xpReward:3e3,color:"#F59E0B"},{id:"gaming_legend",name:"GAMING LEGEND",description:"Reach level 25 overall",tier:"legendary",category:"meta",icon:"Star",requirement:{type:"player_level",target:25},xpReward:5e3,color:"#F59E0B"},{id:"ultimate_completionist",name:"ULTIMATE COMPLETIONIST",description:"Unlock 75% of all achievement badges",tier:"legendary",category:"meta",icon:"Award",requirement:{type:"completion_percentage",target:.75},xpReward:4e3,color:"#F59E0B"},{id:"eternal_grinder",name:"ETERNAL GRINDER",description:"Be productive for 100 consecutive days",tier:"legendary",category:"combo",icon:"Infinity",requirement:{type:"activity_consistency",target:100},xpReward:1e4,color:"#F59E0B"},{id:"omnipotent_user",name:"OMNIPOTENT USER",description:"Master all skills (top 10% in each)",tier:"legendary",category:"meta",icon:"Crown",requirement:{type:"category_mastery",percentage:.9},xpReward:7500,color:"#F59E0B"},{id:"legendary_completionist",name:"LEGENDARY COMPLETIONIST",description:"Unlock 95% of all achievement badges",tier:"legendary",category:"meta",icon:"Gem",requirement:{type:"completion_percentage",target:.95},xpReward:15e3,color:"#F59E0B"}],qs=[...Vs,...Hs,...Ws,...Gs],Ys=(Gs.filter(e=>"combo"===e.category),Gs.filter(e=>"meta"===e.category),{common:qs.filter(e=>"common"===e.tier),uncommon:qs.filter(e=>"uncommon"===e.tier),rare:qs.filter(e=>"rare"===e.tier),legendary:qs.filter(e=>"legendary"===e.tier)}),Xs={common:{color:"#10B981",name:"Common",emoji:"\ud83d\udfe2",description:"Easy entry-level unlocks",glow:"rgba(16, 185, 129, 0.3)"},uncommon:{color:"#3B82F6",name:"Uncommon",emoji:"\ud83d\udd35",description:"Regular user milestones",glow:"rgba(59, 130, 246, 0.3)"},rare:{color:"#8B5CF6",name:"Rare",emoji:"\ud83d\udfe3",description:"Dedicated user rewards",glow:"rgba(139, 92, 246, 0.3)"},legendary:{color:"#F59E0B",name:"Legendary",emoji:"\ud83d\udfe1",description:"Elite mastery tier",glow:"rgba(245, 158, 11, 0.4)"}};qs.length,Ys.common.length,Ys.uncommon.length,Ys.rare.length,Ys.legendary.length,Gs.length;const Ks=new class{constructor(){this.unlockedAchievements=this.loadUnlockedAchievements(),this.listeners=[]}loadUnlockedAchievements(){const e=localStorage.getItem("unlockedAchievements");return e?JSON.parse(e):[]}saveUnlockedAchievements(){localStorage.setItem("unlockedAchievements",JSON.stringify(this.unlockedAchievements))}addEventListener(e){this.listeners.push(e)}removeEventListener(e){this.listeners=this.listeners.filter(t=>t!==e)}notifyListeners(e){this.listeners.forEach(t=>t(e))}isUnlocked(e){return this.unlockedAchievements.some(t=>t.id===e)}unlockAchievement(e){if(this.isUnlocked(e))return!1;const t=qs.find(t=>t.id===e);if(!t)return!1;const n=c(c({},t),{},{unlockedAt:(new Date).toISOString()});return this.unlockedAchievements.push(n),this.saveUnlockedAchievements(),this.syncAchievementWithBackend(e),this.triggerAchievementNotification(t),this.notifyListeners(t),this.trackAchievementUnlock(e),!0}async syncAchievementWithBackend(e){try{(await fetch("http://localhost:8080/api/player/achievements/unlock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"user",achievementId:e})})).ok?console.log("\u2705 Synced ".concat(e," with backend")):console.warn("\u26a0\ufe0f Failed to sync ".concat(e," with backend"))}catch(t){console.error("\u274c Error syncing ".concat(e,":"),t)}}trackAchievementUnlock(e){const t=this.getUnlockedAchievements();if(!t.includes(e)){const n=[...t,e],r=JSON.parse(localStorage.getItem("achievementData")||"{}");r.unlockedAchievements=n,r.unlockDates=c(c({},r.unlockDates),{},{[e]:(new Date).toISOString()}),localStorage.setItem("achievementData",JSON.stringify(r)),localStorage.setItem("unlockedAchievements",JSON.stringify(n))}}checkAchievements(e){const t=[];return qs.forEach(n=>{this.isUnlocked(n.id)||this.meetsRequirement(n.requirement,e)&&this.unlockAchievement(n.id)&&t.push(n)}),t}meetsRequirement(e,t){var n;switch(e.type){case"note_count":return(t.totalNotes||0)>=e.target;case"word_count":return(t.totalWords||0)>=e.target;case"unique_tags":case"tag_count":return(t.uniqueTags||0)>=e.target;case"daily_notes":(new Date).toDateString();const r=t.notesToday||0;return console.log("\ud83d\udcc5 Daily notes check: ".concat(r," notes today (need ").concat(e.target,")")),r>=e.target;case"weekend_notes":return(t.weekendNotes||0)>=e.target;case"weekly_notes":return(t.notesThisWeek||0)>=e.target;case"single_note_words":return(t.maxWordsInNote||0)>=e.target;case"single_note_tags":return(t.maxTagsInNote||0)>=e.target;case"streak":return(t.noteStreak||0)>=e.target;case"note_edits":case"note_edits":return(t.totalEdits||t.totalNotes||0)>=e.target;case"task_count":return(t.totalTasks||0)>=e.target;case"daily_tasks":return(t.tasksToday||0)>=e.target;case"weekly_tasks":return(t.tasksThisWeek||0)>=e.target;case"monthly_tasks":return(t.tasksThisMonth||0)>=e.target;case"high_priority_tasks":return(t.highPriorityTasks||0)>=e.target;case"urgent_tasks":return(t.urgentTasks||0)>=e.target;case"early_completions":return(t.earlyCompletions||0)>=e.target;case"completion_streak":return(t.taskStreak||0)>=e.target;case"task_categories":return(t.taskCategories||0)>=e.target;case"task_creation":case"tasks_created":return(t.tasksCreated||0)>=e.target;case"active_tasks":return(t.activeTasks||0)>=e.target;case"completion_rate":return(t.totalTasks>0?(t.completedTasks||0)/t.totalTasks:0)>=e.target;case"session_count":return(t.totalSessions||0)>=e.target;case"total_time":return(t.totalFocusTime||0)>=e.target;case"single_session_duration":return(t.maxSessionDuration||0)>=e.target;case"session_duration_range":const o=t.sessionsByDuration||{};let a=0;for(let t=e.minDuration;t<=e.maxDuration;t++)a+=o[t]||0;return a>=e.target;case"pomodoro_count":return((null===(n=t.sessionsByDuration)||void 0===n?void 0:n[25])||0)>=e.target;case"daily_streak":return(t.focusStreak||0)>=e.target;case"category_sessions":return((t.categorySessions||{})[e.category]||0)>=e.target;case"category_time":const s=t.categoryTime||{};return Math.max(...Object.values(s))>=e.target;case"all_categories_time":const i=t.categoryTime||{};return Object.values(i).every(t=>t>=e.target);case"unique_categories":return Object.keys(t.categorySessions||{}).length>=e.target;case"break_session":return(t.breakSessions||0)>=e.target;case"long_sessions":return(t.sessionsOver90Min||0)>=e.target;case"time_variety":return Object.keys(t.sessionsByTime||{}).length>=e.target;case"daily_combo":const l=t.dailyActivities||[];return e.activities.every(e=>l.includes(e));case"weekly_combo":const c=t.weeklyActivities||[];return e.activities.every(e=>c.includes(e));case"combo_streak":return(t.comboStreak||0)>=e.target;case"activity_consistency":return(t.activityStreak||0)>=e.target;case"daily_activity_count":return(t.activitiesToday||0)>=e.target;case"monthly_activity_count":return(t.activitiesThisMonth||0)>=e.target;case"player_level":return(t.level||1)>=e.target;case"total_xp":return(t.totalXP||0)>=e.target;case"achievement_count":return this.unlockedAchievements.length>=e.target;case"completion_percentage":return this.unlockedAchievements.length/qs.length>=e.target;case"tier_completion":const d=qs.filter(t=>t.tier===e.tier);return this.unlockedAchievements.filter(t=>t.tier===e.tier).length/d.length>=e.target;case"time_range":const u=(new Date).getHours();return e.startHour>e.endHour?u>=e.startHour||u<e.endHour:u>=e.startHour&&u<e.endHour;case"time_before":return(new Date).getHours()<e.hour;case"time_after":return(new Date).getHours()>=e.hour;case"weekend_activity":const p=(new Date).getDay();return(0===p||6===p)&&(t.weekendActivities||0)>=e.target;case"speed_writing":return(t.fastestWordsPer5Min||0)>=e.words;case"duration_variety":return(t.durationVariety||0)>=e.target;case"monthly_sessions":return(t.sessionsThisMonth||0)>=e.target;case"priority_usage":return(t.priorityUsage||0)>=e.target;case"due_date_usage":return(t.dueDateUsage||0)>=e.target;case"completion_ratio":return(t.totalTasks>0?(t.completedTasks||0)/t.totalTasks:0)>=e.target;case"morning_completions":return(t.morningCompletions||0)>=e.target;case"evening_completions":return(t.eveningCompletions||0)>=e.target;case"active_lists":return(t.activeLists||0)>=e.target;case"ontime_rate":return(t.totalTasks>0?(t.ontimeTasks||0)/t.totalTasks:0)>=e.rate;case"concurrent_tasks":return(t.concurrentTasks||0)>=e.target;case"super_combo":return(t.superCombo||0)>=e.target;case"late_night_activity":const m=(new Date).getHours();return(m>=22||m<=5)&&(t.notesToday||0)>=1;case"early_morning_activity":return(t.earlyMorningActivity||0)>=e.target;case"category_completion":return(t.categoryCompletion||0)>=e.target;case"daily_activity_streak":return(t.dailyActivityStreak||0)>=e.target;case"feature_usage":return(t.featureUsage||0)>=e.target;case"category_mastery":return(t.categoryMastery||0)>=e.target;default:return console.warn("Unknown requirement type: ".concat(e.type)),!1}}triggerAchievementNotification(e){const t=Xs[e.tier];console.log("\ud83c\udf89 ".concat(t.emoji," ").concat(e.name," UNLOCKED! (+").concat(e.xpReward," XP)")),window.dispatchEvent(new CustomEvent("achievementUnlocked",{detail:{achievement:e,tier:t,timestamp:(new Date).toISOString()}})),this.playAchievementSound(e.tier)}playAchievementSound(e){try{const t=new Audio("/sounds/achievement_".concat(e,".mp3"));t.volume=.3,t.play().catch(()=>{console.log("Sound not found for tier: ".concat(e))})}catch(t){console.error("Error playing achievement sound:",t)}}getAchievementProgress(e,t){const n=qs.find(t=>t.id===e);if(!n||this.isUnlocked(e))return 1;const r=n.requirement;let o=0,a=r.target||1;switch(r.type){case"note_count":o=t.totalNotes||0;break;case"word_count":o=t.totalWords||0;break;case"task_count":o=t.totalTasks||0;break;case"session_count":o=t.totalSessions||0;break;case"total_time":o=t.totalFocusTime||0;break;case"unique_tags":o=t.uniqueTags||0;break;case"streak":case"completion_streak":case"daily_streak":o=t["streak"===r.type?"noteStreak":"completion_streak"===r.type?"taskStreak":"focusStreak"]||0;break;default:return 0}return Math.min(o/a,1)}getNextAchievements(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return qs.filter(e=>!this.isUnlocked(e.id)).map(t=>c(c({},t),{},{progress:this.getAchievementProgress(t.id,e)})).sort((e,t)=>t.progress-e.progress).slice(0,t)}getRecentlyUnlocked(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;const t=new Date;return t.setDate(t.getDate()-e),this.unlockedAchievements.filter(e=>new Date(e.unlockedAt)>=t).sort((e,t)=>new Date(t.unlockedAt)-new Date(e.unlockedAt))}getStats(){const e=qs.length,t=this.unlockedAchievements.length,n={common:this.unlockedAchievements.filter(e=>"common"===e.tier).length,uncommon:this.unlockedAchievements.filter(e=>"uncommon"===e.tier).length,rare:this.unlockedAchievements.filter(e=>"rare"===e.tier).length,legendary:this.unlockedAchievements.filter(e=>"legendary"===e.tier).length},r=this.unlockedAchievements.reduce((e,t)=>e+t.xpReward,0);return{total:e,unlocked:t,percentage:Math.round(t/e*100),byTier:n,totalXP:r,recentUnlocks:this.getRecentlyUnlocked(7).length}}resetAchievements(){this.unlockedAchievements=[],this.saveUnlockedAchievements(),console.log("\ud83d\udd04 All achievements reset!")}forceUnlock(e){return this.unlockAchievement(e)}getAchievementWithUnlockDate(e){const t=JSON.parse(localStorage.getItem("achievementData")||"{}").unlockDates||{};return c(c({},e),{},{unlockedAt:t[e.id]||null})}getUnlockedAchievements(){return this.unlockedAchievements.map(e=>e.id)}},$s=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[a,s]=(0,r.useState)(null),i="http://localhost:8080/api/notes";(0,r.useEffect)(()=>{l()},[]);const l=async()=>{try{o(!0);const e=await fetch("".concat(i,"?username=user"));if(e.ok){const n=await e.json();t(n),s(null)}else console.error("Failed to fetch notes:",e.statusText),s("Failed to fetch notes")}catch(a){console.error("Error fetching notes:",a),s(a.message)}finally{o(!1)}},d=()=>{const t=u(e),n=Ks.checkAchievements(t);return n.length>0&&console.log("\ud83d\udcdd Note achievements unlocked: ".concat(n.map(e=>e.name).join(", "))),n},u=e=>{const t=new Date,n=t.toDateString(),r=(e=>{const t=new Date(e),n=t.getDay(),r=t.getDate()-n;return new Date(t.setDate(r))})(t);console.log("\ud83d\udcc5 Today is: ".concat(n));const o=e.length,a=e.reduce((e,t)=>{var n;return e+((null===(n=t.content)||void 0===n?void 0:n.split(" ").length)||0)},0),s=new Set;e.forEach(e=>{Array.isArray(e.tags)?e.tags.forEach(e=>s.add(e.toLowerCase().trim())):"string"===typeof e.tags&&e.tags.trim()&&e.tags.split(",").forEach(e=>{const t=e.toLowerCase().trim();t&&s.add(t)}),e.tagsString&&"string"===typeof e.tagsString&&e.tagsString.split(",").forEach(e=>{const t=e.toLowerCase().trim();t&&s.add(t)})});const i=s.size,l=e.filter(e=>{if(!e.createdAt)return console.warn("\u274c Note missing createdAt:",e),!1;const t=new Date(e.createdAt),n=new Date,r=t.toDateString(),o=n.toDateString(),a=r===o;return a?console.log("\u2705 TODAY's note found: \"".concat(e.title,'" created ').concat(e.createdAt)):console.log('\ud83d\udcc5 Note "'.concat(e.title,'": created ').concat(e.createdAt," -> ").concat(r," | Today: ").concat(o," | Match: ").concat(a)),a}).length;console.log("\ud83d\udcca Notes today: ".concat(l," out of ").concat(e.length," total"));const c=e.filter(e=>e.createdAt&&new Date(e.createdAt)>=r).length,d=e.filter(e=>{if(!e.createdAt)return!1;const t=new Date(e.createdAt).getDay();return 0===t||6===t}).length,u=Math.max(...e.map(e=>{var t;return(null===(t=e.content)||void 0===t?void 0:t.split(" ").length)||0}),0),p=Math.max(...e.map(e=>Array.isArray(e.tags)?e.tags.length:"string"===typeof e.tags&&e.tags.trim()?e.tags.split(",").length:0),0),m=(e=>{if(0===e.length)return 0;const t=[...new Set(e.map(e=>new Date(e.createdAt).toDateString()))].sort();let n=1,r=1;for(let o=1;o<t.length;o++){const e=new Date(t[o-1]);1===(new Date(t[o])-e)/864e5?(r++,n=Math.max(n,r)):r=1}return n})(e);return{totalNotes:o,totalWords:a,uniqueTags:i,notesToday:l,notesThisWeek:c,weekendNotes:d,maxWordsInNote:u,maxTagsInNote:p,noteStreak:m,totalEdits:e.reduce((e,t)=>e+(t.editCount||1),0),maxEditsOnNote:Math.max(...e.map(e=>e.editCount||1),0)}};return{notes:e,loading:n,error:a,createNote:async e=>{try{console.log("useNotes: Creating note with data:",e);const n=c(c({},e),{},{tags:e.tags?Array.isArray(e.tags)?e.tags:e.tags.split(",").map(e=>e.trim()).filter(e=>e):[],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()});console.log("\ud83d\udcdd Note with timestamp and fixed tags:",n);const r=await fetch("".concat(i,"?username=user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok){const e=await r.text();throw console.error("\u274c Backend error response:",e),console.error("\u274c Response status:",r.status),new Error("Failed to create note: ".concat(r.status," - ").concat(e))}const o=await r.json();console.log("\ud83d\udcdd Backend returned note:",o);const a=c(c({},o),{},{createdAt:o.createdAt||(new Date).toISOString(),updatedAt:o.updatedAt||(new Date).toISOString()});return console.log("\ud83d\udcdd Final note for state:",a),t(e=>[...e,a]),s(null),setTimeout(()=>{d()},100),a}catch(n){throw console.error("useNotes: Error creating note:",n),s(n.message),n}},updateNote:async(e,n)=>{try{console.log("useNotes: Updating note with ID:",e,"Data:",n);const r=c(c({},n),{},{tags:Array.isArray(n.tags)?n.tags:"string"===typeof n.tags?n.tags.split(",").map(e=>e.trim()).filter(e=>e):[],updatedAt:(new Date).toISOString()}),o=await fetch("".concat(i,"/").concat(e,"?username=user"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(o.ok){const n=await o.json();return t(t=>t.map(t=>t.id===e||t.filename===e?n:t)),s(null),setTimeout(()=>{d()},100),n}{const e=await o.text();throw new Error("Failed to update note: ".concat(o.status," ").concat(e))}}catch(a){throw console.error("Error updating note:",a),s(a.message),a}},deleteNote:async e=>{try{console.log("useNotes: Deleting note with ID:",e);const n=await fetch("".concat(i,"/").concat(e,"?username=user"),{method:"DELETE"});if(!n.ok)throw new Error("Failed to delete note: ".concat(n.status));t(t=>t.filter(t=>t.id!==e)),s(null)}catch(a){throw console.error("Error deleting note:",a),s(a.message),a}},refreshNotes:l}},Qs=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[i,l]=(0,r.useState)(null),d="http://localhost:8080/api/tasks",u="http://localhost:8080/api/task-lists",p=async()=>{try{s(!0);const e=await fetch("".concat(d,"?username=user"));if(!e.ok)throw new Error("Failed to fetch tasks");const n=await e.json();t(n),l(null)}catch(e){console.error("Failed to fetch tasks:",e),l(e.message)}finally{s(!1)}},m=async()=>{try{const e=await fetch("".concat(u,"?username=user"));if(!e.ok)throw new Error("Failed to fetch task lists");const t=await e.json();o(t)}catch(e){console.error("Failed to fetch task lists:",e)}},h=async(e,n)=>{try{console.log("Updating task:",e,n);const r={title:n.title,description:n.description,priority:n.priority,dueDate:n.dueDate,tags:n.tags,taskListId:n.taskListId,completed:n.completed},o=await fetch("".concat(d,"/").concat(e,"?username=user"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!o.ok){const e=await o.text();throw console.error("Update task error response:",e),new Error("Failed to update task: ".concat(o.status," - ").concat(e))}const a=await o.json();return t(t=>t.map(t=>t.id===e?a:t)),console.log("Task updated successfully:",a),a}catch(i){throw console.error("Failed to update task:",i),i}},x=()=>{const t=g(e),n=Ks.checkAchievements(t);return n.length>0&&console.log("\u2705 Task achievements unlocked: ".concat(n.map(e=>e.name).join(", "))),n},g=e=>{const t=new Date,n=t.toDateString(),r=(e=>{const t=new Date(e),n=t.getDay(),r=t.getDate()-n;return new Date(t.setDate(r))})(t),o=new Date(t.getFullYear(),t.getMonth(),1),a=e.filter(e=>e.completed),s=a.length,i=e.length,l=e.filter(e=>!e.completed).length,c=a.filter(e=>e.completedAt&&new Date(e.completedAt).toDateString()===n).length,d=a.filter(e=>e.completedAt&&new Date(e.completedAt)>=r).length,u=a.filter(e=>e.completedAt&&new Date(e.completedAt)>=o).length,p=a.filter(e=>"high"===e.priority).length,m=a.filter(e=>"urgent"===e.priority).length,h=a.filter(e=>!(!e.dueDate||!e.completedAt)&&new Date(e.completedAt)<new Date(e.dueDate)).length,x=new Set(e.map(e=>e.category).filter(Boolean)).size,g=(e=>{if(0===e.length)return 0;const t=[...new Set(e.map(e=>new Date(e.completedAt).toDateString()))].sort();let n=1,r=1;for(let o=1;o<t.length;o++){const e=new Date(t[o-1]);1===(new Date(t[o])-e)/864e5?(r++,n=Math.max(n,r)):r=1}return n})(a);return{totalTasks:s,tasksCreated:i,activeTasks:l,completedTasks:s,tasksToday:c,tasksThisWeek:d,tasksThisMonth:u,highPriorityTasks:p,urgentTasks:m,earlyCompletions:h,taskCategories:x,taskStreak:g,completionRate:i>0?s/i:0}};return(0,r.useEffect)(()=>{p(),m()},[]),{tasks:e,taskLists:n,loading:a,error:i,createTask:async e=>{try{const n=await fetch("".concat(d,"?username=user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Failed to create task");const r=await n.json();return t(e=>[...e,r]),setTimeout(()=>{x()},100),r}catch(n){throw console.error("Failed to create task:",n),l(n.message),n}},updateTask:h,deleteTask:async e=>{try{if(!(await fetch("".concat(d,"/").concat(e,"?username=user"),{method:"DELETE"})).ok)throw new Error("Failed to delete task");t(t=>t.filter(t=>t.id!==e))}catch(n){throw console.error("Failed to delete task:",n),l(n.message),n}},toggleTask:async t=>{const n=e.find(e=>e.id===t);if(n){const e=c(c({},n),{},{completed:!n.completed});e.completed&&(e.completedAt=(new Date).toISOString()),await h(t,e)}},fetchTasks:p,createTaskList:async e=>{try{const t=await fetch("".concat(u,"?username=user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to create task list");const n=await t.json();return o(e=>[...e,n]),n}catch(t){throw console.error("Failed to create task list:",t),t}},deleteTaskList:async e=>{try{if(!(await fetch("".concat(u,"/").concat(e,"?username=user"),{method:"DELETE"})).ok)throw new Error("Failed to delete task list");o(t=>t.filter(t=>t.id!==e)),await p()}catch(t){throw console.error("Failed to delete task list:",t),t}},fetchTaskLists:m,getOverdueTasks:async()=>{try{const e=await fetch("".concat(d,"/overdue?username=user"));if(!e.ok)throw new Error("Failed to fetch overdue tasks");return await e.json()}catch(e){return console.error("Failed to fetch overdue tasks:",e),[]}},getDueSoonTasks:async()=>{try{const e=await fetch("".concat(d,"/due-soon?username=user"));if(!e.ok)throw new Error("Failed to fetch tasks due soon");return await e.json()}catch(e){return console.error("Failed to fetch tasks due soon:",e),[]}},getTasksByList:t=>e.filter(e=>e.taskListId===t),getTaskStats:()=>{const t=e.length,n=e.filter(e=>e.completed).length;return{total:t,completed:n,overdue:e.filter(e=>e.overdue&&!e.completed).length,dueSoon:e.filter(e=>e.dueSoon&&!e.completed).length,completionRate:t>0?Math.round(n/t*100):0}}}},Zs=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[a,s]=(0,r.useState)(null),i="http://localhost:8080/api/task-lists",l=async()=>{try{o(!0);const e=await fetch("".concat(i,"?username=user"));if(!e.ok)throw new Error("Failed to fetch task lists");const n=await e.json();t(n),s(null)}catch(e){console.error("Failed to fetch task lists:",e),s(e.message),t([])}finally{o(!1)}};return(0,r.useEffect)(()=>{l()},[]),{taskLists:e,loading:n,error:a,createTaskList:async e=>{try{const n=await fetch("".concat(i,"?username=user"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok)throw new Error("Failed to create task list");const r=await n.json();return t(e=>[...e,r]),r}catch(n){throw console.error("Failed to create task list:",n),n}},updateTaskList:async(e,n)=>{try{const r=await fetch("".concat(i,"/").concat(e,"?username=user"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error("Failed to update task list");const o=await r.json();return t(t=>t.map(t=>t.id===e?o:t)),o}catch(r){throw console.error("Failed to update task list:",r),r}},deleteTaskList:async e=>{try{if(!(await fetch("".concat(i,"/").concat(e,"?username=user"),{method:"DELETE"})).ok)throw new Error("Failed to delete task list");t(t=>t.filter(t=>t.id!==e))}catch(n){throw console.error("Failed to delete task list:",n),n}},getTaskListById:t=>e.find(e=>e.id===t),fetchTaskLists:l,refetch:l}},Js="http://localhost:8080/api",ei={async fetchNotes(){const e=await fetch("".concat(Js,"/notes"));if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return await e.json()},async createNote(e){const t=await fetch("".concat(Js,"/notes"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()},async updateNote(e,t){const n=await fetch("".concat(Js,"/notes/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()},async deleteNote(e){const t=await fetch("".concat(Js,"/notes/").concat(e),{method:"DELETE"});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return!0},async searchNotes(e){const t=await fetch("".concat(Js,"/notes/search?query=").concat(encodeURIComponent(e)));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()},async getTasks(e){const t=await fetch("".concat(Js,"/tasks?username=").concat(e));if(!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));return t.json()},async getTaskLists(e){const t=await fetch("".concat(Js,"/task-lists?username=").concat(e));if(!t.ok)throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));return t.json()},async getFocusSessions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new URLSearchParams({username:e});t.category&&n.append("category",t.category),void 0!==t.activeOnly&&n.append("activeOnly",t.activeOnly);const r=await fetch("".concat(Js,"/focus/sessions?").concat(n));if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()},async getFocusSession(e){const t=await fetch("".concat(Js,"/focus/sessions/").concat(e));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()},async createFocusSession(e){const t=await fetch("".concat(Js,"/focus/sessions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()},async updateFocusSession(e,t){const n=await fetch("".concat(Js,"/focus/sessions/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()},async deleteFocusSession(e){const t=await fetch("".concat(Js,"/focus/sessions/").concat(e),{method:"DELETE"});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()},async getFocusSessionStats(e){const t=await fetch("".concat(Js,"/focus/sessions/stats?username=").concat(e));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()},async getFocusEntries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new URLSearchParams({username:e});t.sessionId&&n.append("sessionId",t.sessionId),t.date&&n.append("date",t.date),t.startDate&&n.append("startDate",t.startDate),t.endDate&&n.append("endDate",t.endDate);const r=await fetch("".concat(Js,"/focus/entries?").concat(n));if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()},async createFocusEntry(e){const t=await fetch("".concat(Js,"/focus/entries"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()},async updateFocusEntry(e,t){const n=await fetch("".concat(Js,"/focus/entries/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()},async deleteFocusEntry(e){const t=await fetch("".concat(Js,"/focus/entries/").concat(e),{method:"DELETE"});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()},async getFocusEntryStats(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=new URLSearchParams({username:e});t&&n.append("date",t);const r=await fetch("".concat(Js,"/focus/entries/stats?").concat(n));if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()},async getFocusTracker(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"week";const n=await fetch("".concat(Js,"/focus/tracker?username=").concat(e,"&period=").concat(t));if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()},async getDailyFocusTracker(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=new URLSearchParams({username:e});t&&n.append("date",t);const r=await fetch("".concat(Js,"/focus/tracker/daily?").concat(n));if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()},async getFocusTrackerRange(e,t,n){const r=new URLSearchParams({username:e,startDate:t,endDate:n}),o=await fetch("".concat(Js,"/focus/tracker/range?").concat(r));if(!o.ok)throw new Error("HTTP error! status: ".concat(o.status));return await o.json()},async getRecentFocusTracker(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;const n=await fetch("".concat(Js,"/focus/tracker/recent?username=").concat(e,"&days=").concat(t));if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()},async getFocusAnalytics(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"week";const n=await fetch("".concat(Js,"/focus/tracker/analytics?username=").concat(e,"&period=").concat(t));if(!n.ok)throw new Error("HTTP error! status: ".concat(n.status));return await n.json()},async generateDailyFocusStats(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=new URLSearchParams({username:e});t&&n.append("date",t);const r=await fetch("".concat(Js,"/focus/tracker/generate?").concat(n),{method:"POST"});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));return await r.json()},async updateDailyGoal(e,t,n){const r=new URLSearchParams({username:e,date:t,goalMet:n}),o=await fetch("".concat(Js,"/focus/tracker/goal?").concat(r),{method:"PUT"});if(!o.ok)throw new Error("HTTP error! status: ".concat(o.status));return await o.json()},async getFocusStreaks(e){const t=await fetch("".concat(Js,"/focus/tracker/streaks?username=").concat(e));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()},async getFocusDashboard(e){const t=await fetch("".concat(Js,"/focus/tracker/dashboard?username=").concat(e));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()},async getAchievements(e){try{const t=await fetch("".concat(Js,"/achievements?username=").concat(e||"user"));return t.ok?t.json():{achievements:[],summary:{completed:0,inProgress:0,locked:0}}}catch(t){return console.warn("Achievements API not available, using mock data"),{achievements:[],summary:{completed:0,inProgress:0,locked:0}}}},async getPlayerStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user";try{e||(console.warn("No username provided for player stats, using default"),e="user");const t=await fetch("".concat(Js,"/players/").concat(e));if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()}catch(t){throw console.error("Failed to fetch player stats:",t),t}},async saveFocusSessionWithCategory(e){const t=await fetch("".concat(Js,"/focus/sessions"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c(c({},e),{},{category:e.category||"OTHER"}))});if(!t.ok)throw new Error("HTTP error! status: ".concat(t.status));return await t.json()},async getFocusCategories(e){try{const t=await fetch("".concat(Js,"/focus/sessions/stats?username=").concat(e));if(!t.ok)throw new Error("Backend not available");const n=await t.json(),r=[];return n.categoryBreakdown&&Object.entries(n.categoryBreakdown).forEach(e=>{let[t,n]=e;r.push({id:t.toLowerCase(),name:t,xp:n,iconName:this.getCategoryIcon(t)})}),r}catch(t){console.warn("Using localStorage categories as fallback");const e=localStorage.getItem("focusCategories");return e?JSON.parse(e):[]}},getCategoryIcon:e=>({SCHOLAR:"BookOpen",PROFESSION:"Briefcase",ARTISAN:"Palette",SCRIBE:"PenTool",PROGRAMMING:"Code",LITERACY:"Target",STRATEGIST:"Calendar",MINDFULNESS:"Heart",KNOWLEDGE:"Search",STUDY:"BookOpen",WORK:"Briefcase",LEARNING:"BookOpen",CODE:"Code",CREATE:"Palette",CREATIVE:"Palette",PERSONAL:"User",HEALTH:"User",OTHER:"User"}[e.toUpperCase()]||"User"),async getAllAchievements(){try{const e=await fetch("".concat(Js,"/achievements"));if(!e.ok)throw new Error("Failed to fetch achievements");return await e.json()}catch(e){return console.error("Error fetching achievements:",e),[]}},async getPlayerAchievements(e){if(!e||"undefined"===e)return console.log("No username provided for player achievements"),[];try{const t=await fetch("".concat(Js,"/achievements/player/").concat(e));if(!t.ok)throw new Error("Failed to fetch player achievements");return await t.json()}catch(t){return console.error("Error fetching player achievements:",t),[]}},async getAchievementPlayerStats(e){if(!e||"undefined"===e)return console.log("No username provided for achievement player stats"),{completedAchievements:0,totalAchievements:0,totalXp:0,completionPercentage:0};try{const t=await fetch("".concat(Js,"/achievements/player/").concat(e,"/stats"));if(!t.ok)throw new Error("Failed to fetch achievement player stats");return await t.json()}catch(t){return console.error("Error fetching achievement player stats:",t),{completedAchievements:0,totalAchievements:0,totalXp:0,completionPercentage:0}}},async updateAchievementProgress(e,t,n){try{const r=await fetch("".concat(Js,"/achievements/player/").concat(e,"/progress"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({achievementId:t,progress:n})});if(!r.ok)throw new Error("Failed to update achievement progress");return await r.text()}catch(r){throw console.error("Error updating achievement progress:",r),r}},async populateTestAchievements(e){try{const t=await fetch("".concat(Js,"/achievements/test/populate/").concat(e),{method:"POST"});if(!t.ok)throw new Error("Failed to populate test achievements");return await t.text()}catch(t){throw console.error("Error populating test achievements:",t),t}},async checkAllAchievements(e){const t=await fetch("".concat(Js,"/achievements/player/").concat(e,"/check"),{method:"POST"});if(!t.ok)throw new Error("Failed to check achievements");return t.text()},async updateTask(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user";const r={title:t.title,description:t.description,priority:t.priority,dueDate:t.dueDate,tags:t.tags,taskListId:t.taskListId,completed:t.completed},o=await fetch("".concat(Js,"/tasks/").concat(e,"?username=").concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!o.ok){const e=await o.text();throw console.error("Update task error:",e),new Error("Failed to update task: ".concat(o.status," - ").concat(e))}return await o.json()}},ti=ei,ni=()=>{const[e,t]=(0,r.useState)({username:"PixelAdventurer",level:1,experience:0,experienceToNext:100,totalNotes:0,totalWords:0,uniqueTags:0,achievementsUnlocked:0}),[n,o]=(0,r.useState)(!0),[a,s]=(0,r.useState)(null),i=(0,r.useCallback)(async()=>{try{o(!0),s(null);const e=await ti.getPlayerStats(),n=e.data||e;t(e=>c(c({},e),n))}catch(e){s("Failed to fetch player stats"),console.error("Error fetching player stats:",e),t(e=>c({},e))}finally{o(!1)}},[]),l=(0,r.useCallback)(e=>{t(t=>c(c({},t),e))},[]);return(0,r.useEffect)(()=>{i()},[i]),{playerStats:e,setPlayerStats:l,loading:n,error:a,refreshStats:i}},ri=As("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),oi=As("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ai=As("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),si=As("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),ii=As("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),li=As("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ci=As("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),di=As("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ui=e=>{let{activeTab:t,onTabChange:n}=e;const r=[{id:"dashboard",label:"DASHBOARD",icon:ri,color:"#67E8F9"},{id:"notes",label:"LOGS",icon:oi,color:"#22D3EE"},{id:"tasks",label:"MISSIONS",icon:ai,color:"#0EA5E9"},{id:"library",label:"VAULT",icon:si,color:"#3B82F6"},{id:"focus",label:"GRIND",icon:ii,color:"#8B5CF6"},{id:"tracker",label:"SKILLS",icon:li,color:"#F59E0B"},{id:"achievements",label:"ACHIEVEMENTS",icon:ci,color:"#8B5CF6"},{id:"profile",label:"PROFILE",icon:di,color:"#A78BFA"}];return(0,Os.jsxs)("div",{className:"pixel-tab-navigation starfield-theme",children:[(0,Os.jsxs)("div",{className:"nav-stars",children:[(0,Os.jsx)("div",{className:"star star-1"}),(0,Os.jsx)("div",{className:"star star-2"}),(0,Os.jsx)("div",{className:"star star-3"}),(0,Os.jsx)("div",{className:"star star-4"}),(0,Os.jsx)("div",{className:"star star-5"})]}),(0,Os.jsxs)("div",{className:"tab-container justify-between items-center",children:[(0,Os.jsx)("div",{className:"flex",children:r.map(e=>{const r=e.icon,o=t===e.id;return(0,Os.jsxs)(Ss.button,{className:"pixel-tab ".concat(o?"active":""),onClick:()=>n(e.id),whileHover:{scale:1.05},whileTap:{scale:.95},style:{"--tab-color":e.color,"--tab-shadow":o?"0 0 25px ".concat(e.color,"80, 0 0 50px ").concat(e.color,"40, 0 8px 16px rgba(0, 0, 50, 0.4)"):"0 0 5px ".concat(e.color,"30")},children:[(0,Os.jsxs)("div",{className:"tab-content",children:[(0,Os.jsx)(r,{size:16,className:"tab-icon"}),(0,Os.jsx)("span",{className:"tab-label",children:e.label})]}),o&&(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsx)(Ss.div,{className:"tab-indicator",layoutId:"activeTab",initial:!1,transition:{type:"spring",stiffness:300,damping:30}}),(0,Os.jsx)(Ss.div,{className:"tab-constellation",animate:{opacity:[.3,.8,.3],scale:[1,1.1,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})]})]},e.id)})}),(0,Os.jsxs)(Ss.div,{className:"app-logo-container",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},style:{position:"absolute",right:"50px",top:"0px",zIndex:20},children:[(0,Os.jsx)("img",{src:"/PixelPageSingleHeaderDraft.png",alt:"Pixel Pages Logo",className:"app-logo",style:{height:"65px",width:"auto",maxWidth:"250px",filter:"brightness(1.1) contrast(1.1)",opacity:.9,display:"block",objectFit:"contain"},onLoad:()=>{console.log("Image loaded successfully! Dimensions:",document.querySelector(".app-logo").naturalWidth,"x",document.querySelector(".app-logo").naturalHeight)},onError:e=>{console.log("Image failed to load:",e.target.src),e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,Os.jsx)("div",{style:{display:"none",color:"#22D3EE",fontFamily:"monospace",fontSize:"18px",fontWeight:"bold",textShadow:"0 0 10px rgba(34, 211, 238, 0.5)"},children:"\ud83d\udcd6 PIXEL PAGES"})]})]}),(0,Os.jsx)("div",{className:"nav-shooting-star"})]})},pi="pixelPages_activeTab",mi=()=>{const[e,t]=(0,r.useState)("dashboard");(0,r.useEffect)(()=>{try{const e=localStorage.getItem(pi);e&&t(e)}catch(e){console.warn("Failed to load tab from localStorage:",e)}},[]),(0,r.useEffect)(()=>{try{localStorage.setItem(pi,e)}catch(t){console.warn("Failed to save tab to localStorage:",t)}},[e]);const n=(0,r.useCallback)(e=>{t(e)},[]),o=(0,r.useCallback)(()=>{t("dashboard");try{localStorage.removeItem(pi)}catch(e){console.warn("Failed to clear tab from localStorage:",e)}},[]);return{activeTab:e,changeTab:n,resetTabs:o}},hi=As("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),xi=As("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),gi=As("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fi=As("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),yi=As("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),bi=As("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]),vi=As("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),wi=As("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),Ni=As("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]),ji=As("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),ki=As("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]),Ci=As("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Si=As("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),Ei=As("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Ti=As("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Ai=As("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),Ri=As("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Ii=As("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),Pi=As("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),_i=As("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Oi=As("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Di=As("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Li=(0,r.createContext)(),Mi=()=>{const e=(0,r.useContext)(Li);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},Fi=e=>{let{children:t}=e;const[n,o]=(0,r.useState)([]),a=e=>{switch(e){case"success":default:return(0,Os.jsx)(Pi,{size:20});case"error":return(0,Os.jsx)(_i,{size:20});case"warning":return(0,Os.jsx)(Oi,{size:20});case"info":return(0,Os.jsx)(Di,{size:20})}},s=e=>{switch(e){case"success":default:return"bg-green-400 border-green-600 text-black";case"error":return"bg-red-400 border-red-600 text-black";case"warning":return"bg-yellow-400 border-yellow-600 text-black";case"info":return"bg-blue-400 border-blue-600 text-black"}};return(0,Os.jsxs)(Li.Provider,{value:{showNotification:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3;const r=Date.now(),a={id:r,message:e,type:t};o(e=>[...e,a]),setTimeout(()=>{o(e=>e.filter(e=>e.id!==r))},n)}},children:[t,(0,Os.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:(0,Os.jsx)(R,{children:n.map(e=>(0,Os.jsx)(Ss.div,{initial:{opacity:0,y:-50,scale:.8},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.8},className:"\n                p-4 border-2 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]\n                font-mono text-sm max-w-sm cursor-pointer\n                ".concat(s(e.type),"\n              "),onClick:()=>(e=>{o(t=>t.filter(t=>t.id!==e))})(e.id),children:(0,Os.jsxs)("div",{className:"flex items-start gap-3",children:[(0,Os.jsx)("div",{className:"flex-shrink-0",children:a(e.type)}),(0,Os.jsxs)("div",{className:"flex-1",children:[(0,Os.jsx)("p",{className:"font-bold",children:e.message}),(0,Os.jsx)("p",{className:"text-xs mt-1 opacity-75",children:"Click to dismiss"})]})]})},e.id))})})]})},zi=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"text";const a=e.selectionStart,s=e.selectionEnd,i=t.substring(a,s)||o;return{newContent:t.substring(0,a)+n+i+r+t.substring(s),newCursorPosition:a+n.length+i.length}},Bi=e=>{if(!e)return"";let t=e;t=t.replace(/\*\*(.*?)\*\*/g,(e,t)=>"BOLD_START".concat(t,"BOLD_END")),t=t.replace(/\*(.*?)\*/g,(e,t)=>"ITALIC_START".concat(t,"ITALIC_END")),t=t.replace(/<u>(.*?)<\/u>/g,(e,t)=>"UNDERLINE_START".concat(t,"UNDERLINE_END")),t=t.replace(/`(.*?)`/g,(e,t)=>"CODE_START".concat(t,"CODE_END")),t=t.replace(/==(.*?)==/g,(e,t)=>"HIGHLIGHT_START".concat(t,"HIGHLIGHT_END"));const n=t.split(/(BOLD_START|BOLD_END|ITALIC_START|ITALIC_END|UNDERLINE_START|UNDERLINE_END|CODE_START|CODE_END|HIGHLIGHT_START|HIGHLIGHT_END)/);let r=!1,o=!1,a=!1,s=!1,i=!1;return n.map((e,t)=>{switch(e){case"BOLD_START":return r=!0,null;case"BOLD_END":return r=!1,null;case"ITALIC_START":return o=!0,null;case"ITALIC_END":return o=!1,null;case"UNDERLINE_START":return a=!0,null;case"UNDERLINE_END":return a=!1,null;case"CODE_START":return s=!0,null;case"CODE_END":return s=!1,null;case"HIGHLIGHT_START":return i=!0,null;case"HIGHLIGHT_END":return i=!1,null;default:if(""===e)return null;let n="",l={};return r&&(n+=" font-bold text-cyan-400"),o&&(n+=" italic text-purple-400"),a&&(n+=" underline",l.textDecoration="underline"),s&&(n+=" bg-gray-800 text-green-400 px-2 py-1 rounded font-mono text-sm"),i&&(n+=" bg-pink-300 text-black px-1 rounded",l.backgroundColor="#f9a8d4",l.color="#000000"),(0,Os.jsx)("span",{className:n,style:l,children:e},t)}}).filter(Boolean)},Ui=e=>{let{content:t}=e;return(0,Os.jsx)("div",{className:"text-white font-mono text-base leading-relaxed",children:(n=t,n?n.split("\n").map((e,t)=>{if(e.startsWith("# "))return(0,Os.jsx)("div",{className:"text-2xl font-bold text-cyan-400 mb-4 border-b border-cyan-400 pb-2",children:Bi(e.substring(2))},t);if(e.startsWith("## "))return(0,Os.jsx)("div",{className:"text-xl font-bold text-cyan-400 mb-3",children:Bi(e.substring(3))},t);if(e.startsWith("### "))return(0,Os.jsx)("div",{className:"text-lg font-bold text-cyan-400 mb-2",children:Bi(e.substring(4))},t);if(e.startsWith("- ")||e.startsWith("* "))return(0,Os.jsxs)("div",{className:"flex items-start mb-1",children:[(0,Os.jsx)("span",{className:"text-cyan-400 mr-2 flex-shrink-0",children:"\u2022"}),(0,Os.jsx)("span",{className:"flex-1",children:Bi(e.substring(2))})]},t);if(/^\d+\.\s/.test(e)){const n=e.match(/^(\d+)\.\s(.*)$/);if(n)return(0,Os.jsxs)("div",{className:"flex items-start mb-1",children:[(0,Os.jsxs)("span",{className:"text-cyan-400 mr-2 flex-shrink-0",children:[n[1],"."]}),(0,Os.jsx)("span",{className:"flex-1",children:Bi(n[2])})]},t)}return e.startsWith("> ")?(0,Os.jsx)("div",{className:"border-l-4 border-cyan-400 pl-4 italic text-gray-300 my-2",children:Bi(e.substring(2))},t):""===e.trim()?(0,Os.jsx)("div",{className:"h-6"},t):(0,Os.jsx)("div",{className:"mb-4 leading-relaxed",children:Bi(e)},t)}):"")});var n},Vi=e=>{let{isOpen:t,onClose:n,onSave:o,onDelete:a,folders:s,notebooks:i,existingNote:l=null,defaultFolderId:d=null,defaultNotebookId:u=null,title:p=null}=e;const[m,h]=(0,r.useState)({title:"",content:"",tags:"",color:"#4ADE80",folderId:null,notebookId:null}),[x,g]=(0,r.useState)(!1),[f,y]=(0,r.useState)(!1),{showNotification:b}=Mi(),v=null!==l,w=p||(v?"MODIFY LOG ENTRY":"CREATE NEW LOG ENTRY");(0,r.useEffect)(()=>{h(l?{title:l.title||"",content:l.content||"",tags:Array.isArray(l.tags)?l.tags.join(", "):l.tags||"",color:l.color||"#4ADE80",folderId:l.folderId||null,notebookId:l.notebookId||null}:{title:"",content:"",tags:"",color:"#4ADE80",folderId:d,notebookId:u})},[l,t,d,u]),(0,r.useEffect)(()=>{if(!t)return;const e=e=>{"Escape"===e.key&&(e.preventDefault(),n()),(e.ctrlKey||e.metaKey)&&"Enter"===e.key&&(e.preventDefault(),j(e))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,n,m]);const N=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";const r=document.getElementById("content-textarea"),o=zi(r,m.content,e,t,n);h(c(c({},m),{},{content:o.newContent})),setTimeout(()=>{r.focus(),r.setSelectionRange(o.newCursorPosition,o.newCursorPosition)},0)},j=async e=>{e.preventDefault();try{console.log("Submitting note data:",m),await o(m),n()}catch(t){console.error("Failed to save note:",t),b("Failed to save note. Please try again.","error")}};return(0,Os.jsx)(R,{children:t&&(0,Os.jsxs)(Ss.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gray-900 z-50 flex flex-col",children:[(0,Os.jsxs)(Ss.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"bg-gray-800 border-b-2 border-cyan-400 p-4 flex items-center justify-between flex-shrink-0",style:{boxShadow:"0 2px 20px rgba(34,211,238,0.3)"},children:[(0,Os.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Os.jsxs)("button",{onClick:n,className:"bg-gray-900 border-2 border-cyan-400 p-2 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_15px_rgba(34,211,238,0.3)] text-cyan-400",style:{boxShadow:"0 0 5px rgba(34, 211, 238, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},title:"Back to Library (ESC)",children:[(0,Os.jsx)(fi,{size:20,className:"text-cyan-400"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-10 transition-opacity"})]}),(0,Os.jsx)("div",{className:"flex items-center gap-3",children:(0,Os.jsx)("h1",{className:"font-mono text-2xl font-bold text-white",children:w})})]}),(0,Os.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400 hidden sm:flex gap-4",children:[(0,Os.jsx)("span",{children:"ESC: Back"}),(0,Os.jsx)("span",{children:"CTRL+ENTER: Save"})]}),v&&(0,Os.jsxs)("button",{onClick:()=>y(!0),className:"bg-gray-900 border-2 border-red-500 px-4 py-2 relative group cursor-pointer transition-all duration-300 hover:border-red-400 hover:shadow-[0_0_15px_rgba(239,68,68,0.3)] font-mono font-bold text-red-500",style:{boxShadow:"0 0 5px rgba(239, 68, 68, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},title:"Delete Log Entry",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(_s,{size:16,className:"text-red-500"}),(0,Os.jsx)("span",{className:"text-red-500",children:"DELETE"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-red-500 opacity-0 group-hover:opacity-10 transition-opacity"})]}),(0,Os.jsxs)("button",{type:"submit",form:"note-form",className:"bg-gray-900 border-2 border-cyan-400 px-6 py-2 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_15px_rgba(34,211,238,0.3)] font-mono font-bold text-cyan-400",style:{boxShadow:"0 0 5px rgba(34, 211, 238, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[v?(0,Os.jsx)(Is,{size:18,className:"text-cyan-400"}):(0,Os.jsx)(yi,{size:18,className:"text-cyan-400"}),(0,Os.jsx)("span",{className:"text-cyan-400",children:v?"SAVE CHANGES":"CREATE ENTRY"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-10 transition-opacity"})]})]})]}),(0,Os.jsx)("div",{className:"flex-1 overflow-hidden flex flex-col",children:(0,Os.jsx)(Ss.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"w-full h-full p-3 overflow-hidden flex flex-col",children:(0,Os.jsxs)("form",{id:"note-form",onSubmit:j,className:"h-full flex flex-col space-y-3",children:[(0,Os.jsxs)("div",{className:"flex-shrink-0",children:[(0,Os.jsx)("input",{value:m.title,onChange:e=>h(c(c({},m),{},{title:e.target.value})),placeholder:"Enter your log title...",className:"w-full text-3xl font-mono font-bold bg-transparent border-none outline-none text-white placeholder-gray-500 p-0",style:{color:"#ffffff !important",WebkitTextFillColor:"#ffffff",textFillColor:"#ffffff"},required:!0,autoFocus:!0}),(0,Os.jsx)("div",{className:"h-1 bg-gradient-to-r from-cyan-400 to-purple-400 mt-2"})]}),(0,Os.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-6 gap-3 overflow-hidden",children:[(0,Os.jsx)("div",{className:"lg:col-span-5 flex flex-col overflow-hidden",children:(0,Os.jsxs)("div",{className:"bg-gray-800 border-2 border-cyan-400 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] relative flex-1 flex flex-col overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-cyan-400 opacity-20 animate-pulse pointer-events-none"}),(0,Os.jsxs)("div",{className:"flex items-center justify-between p-3 border-b-2 border-gray-700 relative z-10 flex-shrink-0",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(oi,{size:18,className:"text-cyan-400"}),(0,Os.jsx)("span",{className:"font-mono text-sm font-bold text-cyan-400",children:"LOG CONTENT"})]}),(0,Os.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Os.jsx)("button",{type:"button",onClick:()=>N("**","**","bold text"),className:"p-1.5 bg-gray-700 border border-gray-600 text-gray-300 hover:text-cyan-400 hover:border-cyan-400 transition-colors",title:"Bold (Ctrl+B)",children:(0,Os.jsx)(bi,{size:14})}),(0,Os.jsx)("button",{type:"button",onClick:()=>N("*","*","italic text"),className:"p-1.5 bg-gray-700 border border-gray-600 text-gray-300 hover:text-cyan-400 hover:border-cyan-400 transition-colors",title:"Italic (Ctrl+I)",children:(0,Os.jsx)(vi,{size:14})}),(0,Os.jsx)("button",{type:"button",onClick:()=>N("<u>","</u>","underlined text"),className:"p-1.5 bg-gray-700 border border-gray-600 text-gray-300 hover:text-cyan-400 hover:border-cyan-400 transition-colors",title:"Underline (Ctrl+U)",children:(0,Os.jsx)(wi,{size:14})}),(0,Os.jsx)("button",{type:"button",onClick:()=>N("==","==","highlighted text"),className:"p-1.5 bg-gray-700 border border-gray-600 text-gray-300 hover:text-cyan-400 hover:border-cyan-400 transition-colors",title:"Highlight",children:(0,Os.jsx)(Ni,{size:14})}),(0,Os.jsx)("div",{className:"w-px h-5 bg-gray-600"}),(0,Os.jsx)("button",{type:"button",onClick:()=>N("- ","",""),className:"p-1.5 bg-gray-700 border border-gray-600 text-gray-300 hover:text-cyan-400 hover:border-cyan-400 transition-colors",title:"Bullet List",children:(0,Os.jsx)(ji,{size:14})}),(0,Os.jsx)("button",{type:"button",onClick:()=>N("1. ","",""),className:"p-1.5 bg-gray-700 border border-gray-600 text-gray-300 hover:text-cyan-400 hover:border-cyan-400 transition-colors",title:"Numbered List",children:(0,Os.jsx)(ki,{size:14})}),(0,Os.jsx)("button",{type:"button",onClick:()=>N("> ","",""),className:"p-1.5 bg-gray-700 border border-gray-600 text-gray-300 hover:text-cyan-400 hover:border-cyan-400 transition-colors",title:"Quote",children:(0,Os.jsx)(Ci,{size:14})}),(0,Os.jsx)("button",{type:"button",onClick:()=>N("`","`","code"),className:"p-1.5 bg-gray-700 border border-gray-600 text-gray-300 hover:text-cyan-400 hover:border-cyan-400 transition-colors",title:"Inline Code (Ctrl+`)",children:(0,Os.jsx)(Si,{size:14})}),(0,Os.jsx)("div",{className:"w-px h-5 bg-gray-600"}),(0,Os.jsx)("button",{type:"button",onClick:()=>g(!x),className:"p-1.5 bg-gray-700 border border-gray-600 transition-colors ".concat(x?"text-cyan-400 border-cyan-400":"text-gray-300 hover:text-cyan-400 hover:border-cyan-400"),title:"Toggle Preview",children:x?(0,Os.jsx)(Ei,{size:14}):(0,Os.jsx)(gi,{size:14})})]})]}),(0,Os.jsxs)("div",{className:"flex-1 flex relative z-10 overflow-hidden",children:[(0,Os.jsx)("div",{className:"".concat(x?"w-1/2 border-r-2 border-gray-700":"w-full"," flex flex-col"),children:(0,Os.jsx)("textarea",{id:"content-textarea",value:m.content,onChange:e=>h(c(c({},m),{},{content:e.target.value})),onKeyDown:e=>{if((e.ctrlKey||e.metaKey)&&"Enter"===e.key&&!e.shiftKey)return e.preventDefault(),void j(e);((e,t,n,r)=>{if(e.ctrlKey||e.metaKey)switch(e.key){case"b":e.preventDefault();const o=zi(t,n,"**","**","bold text");r(o.newContent),setTimeout(()=>{t.setSelectionRange(o.newCursorPosition,o.newCursorPosition)},0);break;case"i":e.preventDefault();const a=zi(t,n,"*","*","italic text");r(a.newContent),setTimeout(()=>{t.setSelectionRange(a.newCursorPosition,a.newCursorPosition)},0);break;case"u":e.preventDefault();const s=zi(t,n,"<u>","</u>","underlined text");r(s.newContent),setTimeout(()=>{t.setSelectionRange(s.newCursorPosition,s.newCursorPosition)},0);break;case"`":e.preventDefault();const i=zi(t,n,"`","`","code");r(i.newContent),setTimeout(()=>{t.setSelectionRange(i.newCursorPosition,i.newCursorPosition)},0)}})(e,document.getElementById("content-textarea"),m.content,e=>{h(c(c({},m),{},{content:e}))})},placeholder:"Start writing your log entry... **Bold text** or *italic text*\n- Bullet points\n1. Numbered lists\n> Quoted text\n`inline code`\n==highlighted text== Use the toolbar above or keyboard shortcuts:\n- Ctrl/Cmd + B: Bold\n- Ctrl/Cmd + I: Italic  \n- Ctrl/Cmd + U: Underline\n- Ctrl/Cmd + `: Code",className:"w-full flex-1 bg-transparent border-none outline-none text-white placeholder-gray-400 font-mono text-base resize-none leading-relaxed overflow-y-auto p-4",style:{color:"#ffffff !important",WebkitTextFillColor:"#ffffff",textFillColor:"#ffffff"},required:!0})}),x&&(0,Os.jsx)("div",{className:"w-1/2 overflow-y-auto p-4 bg-gray-900",children:(0,Os.jsx)("div",{className:"font-mono text-white leading-relaxed text-base",children:(0,Os.jsx)(Ui,{content:m.content||"*Start typing to see preview...*"})})})]})]})}),(0,Os.jsx)("div",{className:"lg:col-span-1 overflow-y-auto",children:(0,Os.jsxs)("div",{className:"space-y-2",children:[(0,Os.jsxs)("div",{className:"bg-gray-800 border-2 border-gray-600 p-2",children:[(0,Os.jsxs)("label",{className:"block text-xs font-mono font-bold text-cyan-400 mb-1",children:[(0,Os.jsx)(Ti,{size:12,className:"inline mr-1"}),"TAGS"]}),(0,Os.jsx)("input",{value:m.tags,onChange:e=>h(c(c({},m),{},{tags:e.target.value})),placeholder:"work, ideas...",className:"w-full px-2 py-1 bg-gray-900 border-2 border-gray-600 text-white font-mono text-xs focus:border-cyan-400 focus:outline-none transition-colors",style:{color:"#ffffff !important",WebkitTextFillColor:"#ffffff",textFillColor:"#ffffff"}})]}),(0,Os.jsxs)("div",{className:"bg-gray-800 border-2 border-gray-600 p-2",children:[(0,Os.jsxs)("label",{className:"block text-xs font-mono font-bold text-cyan-400 mb-1",children:[(0,Os.jsx)(xi,{size:12,className:"inline mr-1"}),"COLOR"]}),(0,Os.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Os.jsx)("div",{className:"w-6 h-4 border-2 border-gray-600",style:{backgroundColor:m.color},title:"Current color"}),(0,Os.jsx)("input",{type:"color",value:m.color,onChange:e=>h(c(c({},m),{},{color:e.target.value})),className:"w-6 h-4 border-2 border-gray-600 bg-transparent cursor-pointer",title:"Custom color picker"}),(0,Os.jsx)("span",{className:"text-xs font-mono text-gray-400",children:"Custom"})]}),(0,Os.jsx)("div",{className:"grid grid-cols-2 gap-1",children:["#4ADE80","#60A5FA","#F472B6","#FBBF24","#A78BFA","#FB7185","#34D399","#FCD34D"].map(e=>{const t=(e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),", ").concat(parseInt(t[2],16),", ").concat(parseInt(t[3],16)):"74, 222, 128"})(e);return(0,Os.jsx)("button",{type:"button",onClick:()=>h(c(c({},m),{},{color:e})),className:"w-full h-6 border-2 transition-all duration-300 relative ".concat(m.color===e?"border-white scale-105":"border-gray-600 hover:border-gray-400"),style:{backgroundColor:e,boxShadow:m.color===e?"0 0 15px rgba(".concat(t,", 0.6), 2px 2px 0px 0px rgba(0,0,0,1)"):"0 0 5px rgba(".concat(t,", 0.3), 1px 1px 0px 0px rgba(0,0,0,1)")},title:e,children:m.color===e&&(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-white opacity-60"})},e)})})]}),(0,Os.jsxs)("div",{className:"bg-gray-800 border-2 border-gray-600 p-2",children:[(0,Os.jsxs)("label",{className:"block text-xs font-mono font-bold text-cyan-400 mb-1",children:[(0,Os.jsx)(Ai,{size:12,className:"inline mr-1"}),"ARCHIVE"]}),(0,Os.jsxs)("select",{value:m.folderId||"",onChange:e=>h(c(c({},m),{},{folderId:e.target.value?parseInt(e.target.value):null})),className:"w-full px-2 py-1 bg-gray-900 border-2 border-gray-600 text-white font-mono text-xs focus:border-cyan-400 focus:outline-none transition-colors",style:{color:"#ffffff !important",WebkitTextFillColor:"#ffffff",textFillColor:"#ffffff"},children:[(0,Os.jsx)("option",{value:"",children:"None"}),s.map(e=>(0,Os.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Os.jsxs)("div",{className:"bg-gray-800 border-2 border-gray-600 p-2",children:[(0,Os.jsxs)("label",{className:"block text-xs font-mono font-bold text-cyan-400 mb-1",children:[(0,Os.jsx)(Ri,{size:12,className:"inline mr-1"}),"COLLECTION"]}),(0,Os.jsxs)("select",{value:m.notebookId||"",onChange:e=>h(c(c({},m),{},{notebookId:e.target.value?parseInt(e.target.value):null})),className:"w-full px-2 py-1 bg-gray-900 border-2 border-gray-600 text-white font-mono text-xs focus:border-cyan-400 focus:outline-none transition-colors",style:{color:"#ffffff !important",WebkitTextFillColor:"#ffffff",textFillColor:"#ffffff"},children:[(0,Os.jsx)("option",{value:"",children:"None"}),i.map(e=>(0,Os.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),v&&(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-800 border-2 border-gray-600 p-2",children:[(0,Os.jsx)("div",{className:"flex items-center gap-1 mb-1",children:(0,Os.jsx)("h3",{className:"font-mono text-xs font-bold text-cyan-400",children:"EXPORT"})}),(0,Os.jsxs)("button",{type:"button",onClick:async()=>{try{const e=await fetch("/api/notes/".concat(l.id,"/export"));if(e.ok){const t=await e.blob(),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="".concat(l.title.replace(/[^a-zA-Z0-9\s]/g,"").replace(/\s+/g,"_"),".md"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r),b('"'.concat(l.title,'" exported successfully!'),"success")}}catch(e){b("Export failed. Please try again.","error")}},className:"w-full bg-gray-900 border-2 border-cyan-400 px-2 py-1 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_15px_rgba(34,211,238,0.3)] font-mono font-bold text-cyan-400 text-xs",style:{boxShadow:"0 0 5px rgba(34, 211, 238, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Os.jsx)(Ii,{size:10,className:"text-cyan-400"}),(0,Os.jsx)("span",{className:"text-cyan-400",children:"EXPORT"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-10 transition-opacity"})]})]})]})})]})]})})}),f&&(0,Os.jsx)(Ss.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:(0,Os.jsx)(Ss.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-gray-800 border-2 border-red-500 p-6 max-w-md mx-4",style:{boxShadow:"0 0 20px rgba(239, 68, 68, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)"},children:(0,Os.jsxs)("div",{className:"text-center",children:[(0,Os.jsx)(_s,{size:48,className:"text-red-500 mx-auto mb-4"}),(0,Os.jsx)("h3",{className:"font-mono text-xl font-bold text-white mb-2",children:"DELETE LOG ENTRY"}),(0,Os.jsxs)("p",{className:"text-gray-300 font-mono mb-4",children:["Are you sure you want to permanently delete",(0,Os.jsx)("br",{}),(0,Os.jsxs)("span",{className:"text-cyan-400 font-bold",children:['"',null===l||void 0===l?void 0:l.title,'"']}),"?"]}),(0,Os.jsx)("p",{className:"text-red-400 text-sm font-mono mb-6",children:"This action cannot be undone."}),(0,Os.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,Os.jsx)("button",{onClick:()=>y(!1),className:"bg-gray-900 border-2 border-gray-600 px-4 py-2 font-mono font-bold text-gray-300 hover:border-gray-500 transition-colors",children:(0,Os.jsx)("span",{className:"text-gray-300",children:"CANCEL"})}),(0,Os.jsx)("button",{onClick:async()=>{try{await a(l.id),b('"'.concat(l.title,'" deleted successfully!'),"success"),n()}catch(e){console.error("Failed to delete note:",e),b("Failed to delete note. Please try again.","error")}},className:"bg-gray-900 border-2 border-red-500 px-4 py-2 font-mono font-bold text-red-500 hover:border-red-400 transition-colors",children:(0,Os.jsx)("span",{className:"text-red-500",children:"DELETE"})})]})]})})})]})})},Hi=As("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Wi=As("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Gi=e=>{let{notes:t,onBack:n,onCreateNote:o,onEditNote:a,folders:s=[],notebooks:i=[]}=e;const[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)("updated"),[p,m]=(0,r.useState)("desc"),h="#3B82F6",x="59, 130, 246",g=t.filter(e=>{var t,n;if(!l)return!0;const r=l.toLowerCase(),o=(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().includes(r))||!1,a=(null===(n=e.content)||void 0===n?void 0:n.toLowerCase().includes(r))||!1,s=(i=e.tags,i?Array.isArray(i)?i.filter(e=>e&&"string"===typeof e).join(" "):"string"===typeof i?i:"":"").toLowerCase().includes(r);var i;return o||a||s}).sort((e,t)=>{let n,r;switch(d){case"title":n=e.title.toLowerCase(),r=t.title.toLowerCase();break;case"created":n=new Date(e.createdAt||"2020-01-01"),r=new Date(t.createdAt||"2020-01-01");break;default:n=new Date(e.updatedAt||e.createdAt||"2020-01-01"),r=new Date(t.updatedAt||t.createdAt||"2020-01-01")}return n<r?"asc"===p?-1:1:n>r?"asc"===p?1:-1:0});return(0,Os.jsxs)("div",{className:"p-6",children:[(0,Os.jsx)("div",{className:"mb-8",children:(0,Os.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Os.jsxs)("button",{onClick:n,className:"bg-gray-900 border-2 px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold",style:{borderColor:h,color:h,boxShadow:"0 0 5px rgba(".concat(x,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},onMouseEnter:e=>{e.target.style.borderColor=h,e.target.style.boxShadow="0 0 15px rgba(".concat(x,", 0.3)")},onMouseLeave:e=>{e.target.style.borderColor=h,e.target.style.boxShadow="0 0 5px rgba(".concat(x,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(fi,{size:16}),(0,Os.jsx)("span",{children:"BACK"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity",style:{backgroundColor:h}})]}),(0,Os.jsx)("div",{className:"flex-1",children:(0,Os.jsxs)("h1",{className:"font-mono text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,Os.jsx)("div",{}),"ALL PLAYER LOGS"]})})]})}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative mb-6",style:{borderColor:h,boxShadow:"0 0 20px rgba(".concat(x,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 animate-pulse pointer-events-none",style:{borderColor:h}}),(0,Os.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-stretch lg:items-center justify-between relative z-10",children:[(0,Os.jsxs)("div",{className:"relative flex-1",children:[(0,Os.jsx)(Hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:h},size:20}),(0,Os.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Search player logs...",className:"w-full bg-gray-900 border-2 border-gray-600 text-white pl-10 pr-4 py-2 font-mono text-sm focus:outline-none transition-colors duration-200",style:{color:"#fff"},onFocus:e=>{e.target.style.borderColor=h},onBlur:e=>{e.target.style.borderColor="#4B5563"}})]}),(0,Os.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)("span",{className:"text-xs font-mono font-bold",style:{color:h},children:"SORT BY:"}),(0,Os.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"bg-gray-900 border-2 border-gray-600 text-white px-2 py-1 text-xs font-mono focus:outline-none",style:{focusBorderColor:h},onFocus:e=>{e.target.style.borderColor=h},onBlur:e=>{e.target.style.borderColor="#4B5563"},children:[(0,Os.jsx)("option",{value:"updated",children:"Last Updated"}),(0,Os.jsx)("option",{value:"created",children:"Date Created"}),(0,Os.jsx)("option",{value:"title",children:"Log Title"})]})]}),(0,Os.jsx)("button",{onClick:()=>m("asc"===p?"desc":"asc"),className:"transition-colors duration-200 p-1 border",style:{color:h,borderColor:h},onMouseEnter:e=>{e.target.style.color=h,e.target.style.borderColor=h},title:"Sort ".concat("asc"===p?"descending":"ascending"),children:"asc"===p?"\u2191":"\u2193"}),(0,Os.jsxs)("button",{onClick:o,className:"bg-gray-900 border-2 px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold",style:{borderColor:h,color:h,boxShadow:"0 0 5px rgba(".concat(x,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},onMouseEnter:e=>{e.target.style.borderColor=h,e.target.style.boxShadow="0 0 15px rgba(".concat(x,", 0.3)")},onMouseLeave:e=>{e.target.style.borderColor=h,e.target.style.boxShadow="0 0 5px rgba(".concat(x,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(yi,{size:16}),(0,Os.jsx)("span",{children:"NEW LOG"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity",style:{backgroundColor:h}})]})]})]})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative",style:{borderColor:h,boxShadow:"0 0 20px rgba(".concat(x,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-50 animate-pulse pointer-events-none",style:{borderColor:h}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:["PLAYER LOG ENTRIES",(0,Os.jsxs)("span",{className:"ml-3 text-sm",style:{color:h},children:["[",g.length,"]"]})]}),g.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:g.map((e,t)=>{const n=(r=e.tags)?Array.isArray(r)?r:"string"===typeof r?r.split(",").map(e=>e.trim()):[]:[];var r;const o=e.color||e.colorCode||"#4ADE80",s=(e=>{if(!e||!e.startsWith("#"))return"74, 222, 128";const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),", ").concat(parseInt(t[2],16),", ").concat(parseInt(t[3],16)):"74, 222, 128"})(o);return(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"bg-gray-900 border-2 p-4 cursor-pointer group relative transition-all duration-300",style:{borderColor:o,boxShadow:"0 0 10px rgba(".concat(s,", 0.4), 2px 2px 0px 0px rgba(0,0,0,1)")},whileHover:{scale:1.02,y:-2,boxShadow:"0 0 20px rgba(".concat(s,", 0.6), 2px 2px 0px 0px rgba(0,0,0,1)")},whileTap:{scale:.98},onClick:()=>a(e),children:[(0,Os.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Os.jsx)(oi,{size:24,style:{color:o}}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400 bg-gray-700 px-2 py-1 border border-gray-600",children:[n.length," TAGS"]})]}),(0,Os.jsx)("h4",{className:"font-mono font-bold text-white mb-2 truncate",title:e.title,children:e.title}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:e.content&&e.content.length>100?"".concat(e.content.substring(0,100),"..."):e.content}),n.length>0&&(0,Os.jsxs)("div",{className:"flex flex-wrap gap-1 mb-2",children:[n.slice(0,2).map((e,t)=>(0,Os.jsx)("span",{className:"px-2 py-1 bg-gray-700 border border-gray-600 text-xs font-mono",style:{color:h},children:e},t)),n.length>2&&(0,Os.jsxs)("span",{className:"text-xs text-gray-500 font-mono px-2 py-1",children:["+",n.length-2]})]}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e)},className:"absolute bottom-2 right-2 p-1.5 bg-gray-700 hover:bg-gray-600 rounded opacity-0 group-hover:opacity-100 transition-opacity",style:{color:h},title:"Edit log entry",children:(0,Os.jsx)(Wi,{size:14})})]},e.id)})}):(0,Os.jsx)("div",{className:"text-center py-8 text-gray-400 font-mono",children:l?"No logs match your search criteria.":"No player logs found."})]})]})]})},qi=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{a()},[]);const a=async()=>{try{o(!0);const e=await fetch("/api/folders");if(e.ok){const n=await e.json();t(n)}else console.error("Failed to fetch folders:",e.statusText)}catch(e){console.error("Error fetching folders:",e)}finally{o(!1)}};return{folders:e,loading:n,createFolder:async e=>{try{const n=await fetch("/api/folders/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(n.ok){const e=await n.json();return t(t=>[...t,e]),e}throw new Error("Failed to create folder: ".concat(n.status))}catch(n){throw console.error("Error creating folder:",n),n}},updateFolder:async(e,n)=>{try{const r=await fetch("/api/folders/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(r.ok){const n=await r.json();return t(t=>t.map(t=>t.id===e?n:t)),n}throw new Error("Failed to update folder: ".concat(r.status))}catch(r){throw console.error("Error updating folder:",r),r}},deleteFolder:async e=>{try{const n=await fetch("/api/folders/".concat(e),{method:"DELETE"});if(!n.ok)throw new Error("Failed to delete folder: ".concat(n.status));t(t=>t.filter(t=>t.id!==e))}catch(n){throw console.error("Error deleting folder:",n),n}},refreshFolders:a}},Yi=()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{a()},[]);const a=async()=>{try{o(!0);const e=await fetch("/api/notebooks");if(e.ok){const n=await e.json();t(n)}else console.error("Failed to fetch notebooks:",e.statusText)}catch(e){console.error("Error fetching notebooks:",e)}finally{o(!1)}};return{notebooks:e,loading:n,createNotebook:async e=>{try{const n=await fetch("/api/notebooks/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,description:e.description,colorCode:e.colorCode,folderId:e.folderId||null})});if(n.ok){const e=await n.json();return t(t=>[...t,e]),e}{const e=await n.text();throw console.error("Failed to create notebook:",n.status,e),new Error("Failed to create notebook: ".concat(n.status))}}catch(n){throw console.error("Error creating notebook:",n),n}},updateNotebook:async(e,n)=>{try{console.log("updateNotebook called with:",{id:e,notebookData:n});const r={name:n.name,description:n.description,colorCode:n.colorCode,tags:n.tags,folderId:n.folderId||null};console.log("Sending payload to API:",r);const o=await fetch("/api/notebooks/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(o.ok){const n=await o.json();return console.log("Received updated notebook from API:",n),t(t=>t.map(t=>t.id===e?n:t)),n}{const e=await o.text();throw console.error("Failed to update notebook:",o.status,e),new Error("Failed to update notebook: ".concat(o.status))}}catch(r){throw console.error("Error updating notebook:",r),r}},deleteNotebook:async e=>{try{const n=await fetch("/api/notebooks/".concat(e),{method:"DELETE"});if(!n.ok)throw new Error("Failed to delete notebook: ".concat(n.status));t(t=>t.filter(t=>t.id!==e))}catch(n){throw console.error("Error deleting notebook:",n),n}},refreshNotebooks:a}},Xi=e=>{let{tabColor:t="#22D3EE"}=e;const{notes:n,loading:o,error:a,deleteNote:s,createNote:i,updateNote:l}=$s(),{folders:c}=qi(),{notebooks:d}=Yi(),[u,p]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[x,g]=(0,r.useState)(""),[f,y]=(0,r.useState)("#4ADE80"),[b,v]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[j,k]=(0,r.useState)(!1),[C,S]=(0,r.useState)("TERMINAL READY"),[E,T]=(0,r.useState)(null),[A,R]=(0,r.useState)(!1),[I,P]=(0,r.useState)(!1),[_,O]=(0,r.useState)(!1),D=n.sort((e,t)=>new Date(t.createdAt||t.date)-new Date(e.createdAt||e.date)).slice(0,7);(0,r.useEffect)(()=>{u.trim()||m.trim()?S("INPUT DETECTED..."):S("TERMINAL READY")},[u,m]),(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&I&&(e.preventDefault(),P(!1)),(e.ctrlKey||e.metaKey)&&"Enter"===e.key&&(e.preventDefault(),I||L()),"F11"===e.key&&(e.preventDefault(),z())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[I]);const L=r.useCallback(async()=>{if(u.trim()||m.trim()){k(!0),S("TRANSMITTING...");try{const e={title:u.trim()||"Untitled Log Entry",content:m.trim(),tags:x.trim()?x.split(",").map(e=>e.trim()):[],color:f,folderId:b||null,notebookId:w||null};await i(e),p(""),h(""),g(""),S("LOG ARCHIVED!"),setTimeout(()=>S("TERMINAL READY"),2e3)}catch(a){console.error("Failed to save quick note:",a),S("TRANSMISSION FAILED"),setTimeout(()=>S("TERMINAL READY"),3e3)}finally{k(!1)}}},[u,m,x,f,b,w,i]),M=async e=>{try{await l(E.id,e),R(!1),T(null)}catch(a){console.error("Failed to update note:",a),alert("Failed to update log entry: "+a.message)}},F=async e=>{try{await i(e),P(!1),p(""),h(""),g(""),S("LOG ARCHIVED!"),setTimeout(()=>S("TERMINAL READY"),2e3)}catch(a){console.error("Failed to save fullscreen note:",a),alert("Failed to save log entry: "+a.message)}},z=()=>{console.log("Toggling fullscreen modal with current form data"),P(!I)},B=e=>{T(e),R(!0),O(!1)},U={title:u,content:m,tags:x.trim()?x.split(",").map(e=>e.trim()):[],color:f,folderId:b||null,notebookId:w||null};return _?(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsx)(Gi,{notes:n,onBack:()=>O(!1),onCreateNote:()=>{T(null),R(!0)},onEditNote:B,folders:c,notebooks:d}),(0,Os.jsx)(Vi,{isOpen:A,onClose:()=>{R(!1),T(null)},onSave:E?M:F,onDelete:s,folders:c,notebooks:d,existingNote:E})]}):(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsx)("style",{jsx:!0,children:"\n        .notes-tab-container input,\n        .notes-tab-container textarea,\n        .notes-tab-container select {\n          color: #ffffff !important;\n          -webkit-text-fill-color: #ffffff !important;\n          caret-color: #22d3ee !important;\n        }\n        \n        .notes-tab-container input::placeholder,\n        .notes-tab-container textarea::placeholder {\n          color: #6b7280 !important;\n          -webkit-text-fill-color: #6b7280 !important;\n        }\n        \n        .notes-tab-container input:focus,\n        .notes-tab-container textarea:focus {\n          caret-color: #22d3ee !important;\n          outline: none !important;\n        }\n        \n        .notes-tab-container input::-webkit-spelling-error,\n        .notes-tab-container textarea::-webkit-spelling-error {\n          color: #ffffff !important;\n          -webkit-text-fill-color: #ffffff !important;\n          text-decoration: underline wavy red !important;\n        }\n        \n        .notes-tab-container input::-webkit-grammar-error,\n        .notes-tab-container textarea::-webkit-grammar-error {\n          color: #ffffff !important;\n          -webkit-text-fill-color: #ffffff !important;\n          text-decoration: underline wavy red !important;\n        }\n      "}),(0,Os.jsxs)("div",{className:"notes-tab-container p-6",children:[(0,Os.jsxs)("div",{className:"mb-8",children:[(0,Os.jsxs)("h1",{className:"font-mono text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,Os.jsx)("div",{className:"w-6 h-6 border border-gray-600",style:{backgroundColor:t}}),"PLAYER LOGS"]}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono text-sm",children:"Quick entry terminal for creating notes, ideas and reports."})]}),a&&(0,Os.jsx)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 border-2 border-red-400 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-4 mb-6",style:{boxShadow:"0 0 20px rgba(239, 68, 68, 0.3), 8px 8px 0px 0px rgba(0,0,0,1)"},children:(0,Os.jsxs)("div",{className:"font-mono text-red-400",children:["SYSTEM ERROR: ",a]})}),(0,Os.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-10 gap-6 min-h-[calc(100vh-300px)]",children:[(0,Os.jsx)("div",{className:"lg:col-span-7",children:(0,Os.jsxs)(Ss.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-gray-800 border-2 border-cyan-400 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative min-h-full flex flex-col",style:{boxShadow:"0 0 20px rgba(34, 211, 238, 0.3), 8px 8px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-cyan-400 opacity-30 animate-pulse pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/15 to-cyan-600/20 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex flex-col h-full",children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Os.jsx)("div",{className:"flex items-center",children:(0,Os.jsx)("h2",{className:"text-xl font-mono font-bold text-white",children:"LOG ENTRY TERMINAL"})}),(0,Os.jsx)("div",{className:"flex items-center",children:(0,Os.jsxs)("button",{onClick:z,className:"bg-gray-900 border border-cyan-400 px-4 py-2 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_8px_rgba(34,211,238,0.4)] font-mono font-bold text-cyan-400 overflow-hidden",style:{boxShadow:"0 0 3px rgba(34, 211, 238, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},title:"Extended Terminal Mode (F11)",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/8 to-cyan-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center gap-2",children:[(0,Os.jsx)(hi,{size:16,className:"text-cyan-400"}),(0,Os.jsx)("span",{className:"text-cyan-400",children:"EXTENDED MODE"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-5 transition-opacity"})]})})]}),(0,Os.jsx)("div",{className:"flex justify-end mb-4",children:(0,Os.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono",children:[(0,Os.jsx)("div",{className:"w-2 h-2 ".concat("TERMINAL READY"===C?"bg-green-400":"INPUT DETECTED..."===C?"bg-yellow-400":"TRANSMITTING..."===C?"bg-blue-400":"LOG ARCHIVED!"===C?"bg-green-400":"bg-red-400")}),(0,Os.jsx)("span",{className:"text-cyan-400",children:C})]})}),(0,Os.jsxs)("div",{className:"space-y-4 flex-1 flex flex-col",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"TITLE"}),(0,Os.jsx)("input",{value:u,onChange:e=>p(e.target.value),placeholder:"Enter title...",spellCheck:!1,className:"w-full px-4 py-3 transition-colors placeholder-gray-500 bg-gray-900 border-2 border-gray-600 font-mono text-sm focus:border-cyan-400 focus:outline-none",style:{color:"#ffffff !important",WebkitTextFillColor:"#ffffff !important",textFillColor:"#ffffff !important",caretColor:"#ffffff !important"},autoFocus:!0})]}),(0,Os.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,Os.jsx)("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"CONTENT"}),(0,Os.jsxs)("div",{className:"mb-2 text-xs font-mono text-purple-400 flex items-center gap-2",children:[(0,Os.jsx)(hi,{size:12}),(0,Os.jsx)("span",{children:"Open in Extended Mode to use Markdown formatting"})]}),(0,Os.jsx)("textarea",{value:m,onChange:e=>h(e.target.value),placeholder:"Enter content here...",spellCheck:!1,className:"w-full px-4 py-3 transition-colors resize-none placeholder-gray-500 bg-gray-900 border-2 border-gray-600 font-mono text-sm focus:border-cyan-400 focus:outline-none flex-1",style:{color:"#ffffff !important",WebkitTextFillColor:"#ffffff !important",textFillColor:"#ffffff !important",minHeight:"400px",caretColor:"#22d3ee !important"}})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"block text-sm font-mono text-gray-400 mb-2",children:"CLASSIFICATION TAGS"}),(0,Os.jsx)("input",{value:x,onChange:e=>g(e.target.value),placeholder:"personal, work, idea, important...",spellCheck:!1,className:"w-full px-4 py-3 transition-colors placeholder-gray-500 bg-gray-900 border-2 border-gray-600 font-mono text-sm focus:border-cyan-400 focus:outline-none",style:{color:"#ffffff !important",WebkitTextFillColor:"#ffffff !important",textFillColor:"#ffffff !important",caretColor:"#ffffff !important"}})]}),(0,Os.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-auto",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono text-gray-400 mb-2 flex items-center gap-2",children:[(0,Os.jsx)(xi,{size:14}),"LOG COLOR"]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border-2 border-gray-600 p-3",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,Os.jsx)("div",{className:"w-6 h-6 border-2 border-gray-500",style:{backgroundColor:f}}),(0,Os.jsx)("span",{className:"text-xs font-mono text-gray-400",children:"Selected"})]}),(0,Os.jsx)("div",{className:"grid grid-cols-5 gap-1",children:["#4ADE80","#22D3EE","#A78BFA","#FB7185","#FBBF24","#F87171","#60A5FA","#34D399","#F59E0B","#8B5CF6"].map((e,t)=>(0,Os.jsx)("button",{onClick:()=>y(e),className:"w-6 h-6 border-2 transition-all hover:scale-110 ".concat(f===e?"border-white":"border-gray-600"),style:{backgroundColor:e},title:"Select ".concat(e)},t))}),(0,Os.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,Os.jsx)("input",{type:"color",value:f,onChange:e=>y(e.target.value),className:"w-6 h-6 border-2 border-gray-600 bg-transparent cursor-pointer"}),(0,Os.jsx)("span",{className:"text-xs font-mono text-gray-400",children:"Custom"})]})]})]}),(0,Os.jsxs)("div",{className:"flex flex-col",children:[(0,Os.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono text-gray-400 mb-2 flex items-center gap-2",children:[(0,Os.jsx)(si,{size:14}),"ARCHIVE"]}),(0,Os.jsxs)("select",{value:b,onChange:e=>v(e.target.value),className:"w-full px-3 py-3 bg-gray-900 border-2 border-gray-600 font-mono text-sm focus:border-cyan-400 focus:outline-none",style:{color:"#ffffff !important",WebkitTextFillColor:"#ffffff !important"},children:[(0,Os.jsx)("option",{value:"",children:"No Archive"}),c.map(e=>(0,Os.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono text-gray-400 mb-2 flex items-center gap-2",children:[(0,Os.jsx)(oi,{size:14}),"COLLECTION"]}),(0,Os.jsxs)("select",{value:w,onChange:e=>N(e.target.value),className:"w-full px-3 py-3 bg-gray-900 border-2 border-gray-600 font-mono text-sm focus:border-cyan-400 focus:outline-none",style:{color:"#ffffff !important",WebkitTextFillColor:"#ffffff !important"},children:[(0,Os.jsx)("option",{value:"",children:"No Collection"}),d.map(e=>(0,Os.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Os.jsxs)("div",{className:"flex gap-3 pt-4 justify-center",children:[(0,Os.jsxs)("button",{onClick:L,disabled:j||!u.trim()&&!m.trim(),className:"bg-gray-900 border border-cyan-400 px-4 py-2 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_8px_rgba(34,211,238,0.4)] font-mono font-bold text-cyan-400 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden",style:{boxShadow:"0 0 3px rgba(34, 211, 238, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/8 to-cyan-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center gap-2",children:[(0,Os.jsx)(Is,{size:16,className:"text-cyan-400"}),(0,Os.jsx)("span",{className:"text-cyan-400",children:j?"ARCHIVING...":"ARCHIVE LOG"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-5 transition-opacity"})]}),(0,Os.jsxs)("button",{onClick:()=>{p(""),h(""),g(""),y("#4ADE80"),v(""),N(""),S("TERMINAL READY")},className:"bg-gray-900 border border-cyan-400 px-4 py-2 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_8px_rgba(34,211,238,0.4)] font-mono font-bold text-cyan-400 overflow-hidden",style:{boxShadow:"0 0 3px rgba(34, 211, 238, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/8 to-cyan-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center gap-2",children:[(0,Os.jsx)(Rs,{size:16,className:"text-cyan-400"}),(0,Os.jsx)("span",{className:"text-cyan-400",children:"CLEAR TERMINAL"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-5 transition-opacity"})]})]})]})]})]})]})]})}),(0,Os.jsx)("div",{className:"lg:col-span-3",children:(0,Os.jsxs)(Ss.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-gray-800 border-2 border-cyan-400 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative h-full",style:{boxShadow:"0 0 20px rgba(34, 211, 238, 0.3), 8px 8px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-cyan-400 opacity-30 animate-pulse pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/15 to-cyan-600/20 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,Os.jsx)("h2",{className:"text-xl font-mono font-bold text-white",children:"RECENT LOGS"})}),o?(0,Os.jsxs)("div",{className:"text-center py-8 font-mono text-white",children:[(0,Os.jsx)(Ss.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-4",children:(0,Os.jsx)(oi,{size:24,className:"text-cyan-400"})}),(0,Os.jsx)("div",{className:"text-sm",children:"Accessing archives..."})]}):D.length>0?(0,Os.jsxs)("div",{className:"space-y-3",children:[D.map(e=>{const t=e.color||e.colorCode||"#4ADE80",n=(e=>{if(!e||!e.startsWith("#"))return"74, 222, 128";const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),", ").concat(parseInt(t[2],16),", ").concat(parseInt(t[3],16)):"74, 222, 128"})(t);return(0,Os.jsxs)(Ss.div,{className:"bg-gray-900 border p-3 cursor-pointer group transition-all duration-300 hover:scale-[1.02] relative overflow-hidden",style:{borderColor:t,boxShadow:"0 0 5px rgba(".concat(n,", 0.3), 1px 1px 0px 0px rgba(0,0,0,1)")},whileHover:{boxShadow:"0 0 10px rgba(".concat(n,", 0.6), 1px 1px 0px 0px rgba(0,0,0,1)")},onClick:()=>(e=>{T(e),R(!0)})(e),children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/8 to-cyan-600/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-5 transition-opacity",style:{backgroundColor:t}}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-start gap-2",children:[(0,Os.jsx)(oi,{size:14,style:{color:t},className:"mt-0.5 flex-shrink-0"}),(0,Os.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Os.jsx)("h4",{className:"font-mono font-bold text-white text-sm truncate mb-1",children:e.title}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 line-clamp-2",children:e.content&&e.content.length>60?"".concat(e.content.substring(0,60),"..."):e.content}),(0,Os.jsx)("div",{className:"text-xs text-gray-500 font-mono mt-1",children:new Date(e.createdAt||e.date).toLocaleDateString()})]})]})]},e.id||e.filename||e.title)}),(0,Os.jsx)("div",{className:"pt-4 border-t border-gray-600",children:(0,Os.jsxs)("button",{onClick:()=>{O(!0)},className:"w-full bg-gray-900 border border-cyan-400 px-3 py-3 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_8px_rgba(34,211,238,0.4)] font-mono font-bold text-cyan-400 overflow-hidden",style:{boxShadow:"0 0 3px rgba(34, 211, 238, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/8 to-cyan-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center justify-center gap-2",children:[(0,Os.jsx)(gi,{size:16,className:"text-cyan-400"}),(0,Os.jsx)("span",{className:"text-cyan-400",children:"ACCESS ALL LOGS"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-5 transition-opacity"})]})})]}):(0,Os.jsxs)("div",{className:"text-center py-8",children:[(0,Os.jsx)(oi,{size:32,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono text-sm",children:"No log entries found"}),(0,Os.jsx)("p",{className:"text-gray-500 font-mono text-xs mt-1",children:"Begin your first personal log!"})]})]})]})})]}),(0,Os.jsx)(Vi,{isOpen:I,onClose:()=>P(!1),onSave:F,folders:c,notebooks:d,existingNote:U,title:"EXTENDED LOG ENTRY TERMINAL"}),(0,Os.jsx)(Vi,{isOpen:A,onClose:()=>{R(!1),T(null)},onSave:E?M:F,onDelete:s,folders:c,notebooks:d,existingNote:E})]})]})},Ki=As("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),$i=As("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Qi=As("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),Zi=As("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ji=As("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),el=As("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),tl=As("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),nl=As("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),rl=e=>{let{isOpen:t,onClose:n,onSubmit:o,taskLists:a=[],editTask:s=null}=e;const[i,l]=(0,r.useState)({title:"",description:"",priority:"medium",dueDate:"",tags:"",taskListId:null}),[d,u]=(0,r.useState)({});(0,r.useEffect)(()=>{l(s?{title:s.title||"",description:s.description||"",priority:s.priority||"medium",dueDate:s.dueDate?s.dueDate.split("T")[0]:"",tags:s.tags||"",taskListId:s.taskListId||null}:{title:"",description:"",priority:"medium",dueDate:"",tags:"",taskListId:null})},[s,t]);const p=(e,t)=>{l(n=>c(c({},n),{},{[e]:t})),d[e]&&u(t=>c(c({},t),{},{[e]:null}))};return t?(0,Os.jsx)(Os.Fragment,{children:t&&(0,Os.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center p-4 pt-20",style:{zIndex:2147483647},onClick:n,children:(0,Os.jsxs)(Ss.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:"bg-gray-800 border-2 border-cyan-400 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] relative max-w-2xl w-full max-h-[80vh] overflow-y-auto",style:{boxShadow:"0 0 20px rgba(34, 211, 238, 0.3), 8px 8px 0px 0px rgba(0,0,0,1)",zIndex:2147483647},onClick:e=>e.stopPropagation(),children:[(0,Os.jsxs)("div",{className:"bg-gray-900 px-6 py-4 border-b-2 border-cyan-400 flex items-center justify-between",children:[(0,Os.jsx)("h2",{className:"text-xl font-mono font-bold text-white",children:s?"EDIT MISSION":"NEW MISSION"}),(0,Os.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:(0,Os.jsx)(Rs,{size:24})})]}),(0,Os.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={};if(i.title.trim()||(t.title="Title is required"),Object.keys(t).length>0)return void u(t);const r=c(c({},i),{},{completed:(null===s||void 0===s?void 0:s.completed)||!1,dueDate:i.dueDate||null,taskListId:""===i.taskListId?null:i.taskListId});o(r),n(),u({})},className:"p-6 space-y-6 bg-gray-800",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"block text-sm font-mono font-bold text-cyan-400 mb-2",children:"MISSION NAME"}),(0,Os.jsx)("input",{type:"text",value:i.title,onChange:e=>p("title",e.target.value),placeholder:"Enter mission name...",className:"w-full bg-gray-900 border-2 text-white px-3 py-2 font-mono text-sm focus:outline-none focus:border-cyan-400 ".concat(d.title?"border-red-500":"border-gray-600")}),d.title&&(0,Os.jsxs)("p",{className:"text-red-400 text-xs font-mono mt-1 flex items-center",children:[(0,Os.jsx)(tl,{size:12,className:"mr-1"}),d.title]})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono font-bold text-cyan-400 mb-2 flex items-center",children:[(0,Os.jsx)(oi,{size:16,className:"mr-2"}),"MISSION DETAILS"]}),(0,Os.jsx)("textarea",{value:i.description,onChange:e=>p("description",e.target.value),placeholder:"Optional mission details...",rows:"3",className:"w-full bg-gray-900 border-2 border-gray-600 text-white px-3 py-2 font-mono text-sm focus:outline-none focus:border-cyan-400 resize-none"})]}),(0,Os.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"block text-sm font-mono font-bold text-cyan-400 mb-2",children:"PRIORITY LEVEL"}),(0,Os.jsxs)("select",{value:i.priority,onChange:e=>p("priority",e.target.value),className:"w-full bg-gray-900 border-2 border-gray-600 text-white px-3 py-2 font-mono text-sm focus:outline-none focus:border-cyan-400",style:{color:(e=>{switch(e){case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}})(i.priority)},children:[(0,Os.jsx)("option",{value:"low",children:"Low"}),(0,Os.jsx)("option",{value:"medium",children:"Medium"}),(0,Os.jsx)("option",{value:"high",children:"High"})]})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono font-bold text-cyan-400 mb-2 flex items-center",children:[(0,Os.jsx)(Ji,{size:16,className:"mr-2"}),"DEADLINE"]}),(0,Os.jsx)("input",{type:"date",value:i.dueDate,onChange:e=>p("dueDate",e.target.value),className:"w-full bg-gray-900 border-2 border-gray-600 text-white px-3 py-2 font-mono text-sm focus:outline-none focus:border-cyan-400"})]})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono font-bold text-cyan-400 mb-2 flex items-center",children:[(0,Os.jsx)(nl,{size:16,className:"mr-2"}),"OPERATION"]}),(0,Os.jsxs)("select",{value:i.taskListId||"",onChange:e=>p("taskListId",e.target.value?parseInt(e.target.value):null),className:"w-full bg-gray-900 border-2 border-gray-600 text-white px-3 py-2 font-mono text-sm focus:outline-none focus:border-cyan-400",children:[(0,Os.jsx)("option",{value:"",children:"General Player Missions"}),a.map(e=>(0,Os.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono font-bold text-cyan-400 mb-2 flex items-center",children:[(0,Os.jsx)(Ti,{size:16,className:"mr-2"}),"MISSION TAGS"]}),(0,Os.jsx)("input",{type:"text",value:i.tags,onChange:e=>p("tags",e.target.value),placeholder:"to-do, ideas, work...",className:"w-full bg-gray-900 border-2 border-gray-600 text-white px-3 py-2 font-mono text-sm focus:outline-none focus:border-cyan-400"}),(0,Os.jsx)("p",{className:"text-gray-400 text-xs font-mono mt-1",children:"Separate tags with commas"})]}),(0,Os.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Os.jsx)("button",{type:"button",onClick:n,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 border-2 border-gray-500 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all duration-200 hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] font-mono font-bold",children:"ABORT MISSION"}),(0,Os.jsxs)("button",{type:"submit",className:"flex-1 bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 border-2 border-gray-600 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all duration-200 hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] font-mono font-bold",children:[s?"UPDATE":"DEPLOY"," MISSION"]})]})]})]})})}):null},ol=e=>{let{taskLists:t,onCreateTaskList:n,onDeleteTaskList:o,onSelectTaskList:a,selectedTaskListId:s,tabColor:i="#0EA5E9"}=e;const[l,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(""),[m,h]=(0,r.useState)({name:"",description:"",color:"#0EA5E9"}),x="14, 165, 233",g=t.filter(e=>e.name.toLowerCase().includes(u.toLowerCase())||e.description&&e.description.toLowerCase().includes(u.toLowerCase()));return(0,Os.jsxs)("div",{className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] relative",style:{borderColor:i,boxShadow:"0 0 20px rgba(".concat(x,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 animate-pulse pointer-events-none",style:{borderColor:i}}),(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(".concat(x,", 0.15), rgba(").concat(x,", 0.2))")}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"bg-black border-b px-4 py-3",style:{borderColor:i},children:(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center",children:[(0,Os.jsx)($i,{className:"mr-2",size:20,style:{color:i}}),"MISSION OPERATIONS"]})}),(0,Os.jsxs)("div",{className:"p-4 space-y-3",children:[(0,Os.jsxs)("div",{className:"relative",children:[(0,Os.jsx)(Hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2",size:16,style:{color:i}}),(0,Os.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),placeholder:"Search operations...",className:"w-full bg-black border text-white pl-9 pr-3 py-2 font-mono text-sm transition-colors",style:{borderColor:null===s?i:"#4B5563",color:"#fff"},onFocus:e=>{e.target.style.borderColor=i},onBlur:e=>{e.target.style.borderColor="#4B5563"}}),u&&(0,Os.jsx)("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:(0,Os.jsx)(Rs,{size:14})})]}),(0,Os.jsxs)("button",{onClick:()=>a(null),className:"w-full text-left p-3 border-2 transition-all duration-200 font-mono relative overflow-hidden bg-gray-900 ".concat(null===s?"text-white":"text-gray-300 hover:text-white"),style:{borderColor:null===s?i:"#4B5563",boxShadow:null===s?"0 0 3px rgba(".concat(x,", 0.3)"):"none"},children:[null===s&&(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(".concat(x,", 0.08), rgba(").concat(x,", 0.12))")}}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center",children:[(0,Os.jsx)(Ai,{size:16,className:"mr-2"}),(0,Os.jsx)("span",{className:"font-bold",children:"TO-DO MISSIONS"})]})]}),g.map(e=>(0,Os.jsxs)("div",{className:"relative group",children:[(0,Os.jsxs)("button",{onClick:()=>a(e.id),className:"w-full text-left p-3 border-2 transition-all duration-200 font-mono relative overflow-hidden bg-gray-900 ".concat(s===e.id?"text-white":"text-gray-300 hover:text-white"),style:{borderColor:s===e.id?i:"#4B5563",boxShadow:s===e.id?"0 0 3px rgba(".concat(x,", 0.3)"):"none"},children:[s===e.id&&(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(".concat(x,", 0.08), rgba(").concat(x,", 0.12))")}}),(0,Os.jsx)("div",{className:"relative z-10 flex items-center justify-between",children:(0,Os.jsxs)("div",{className:"flex items-center",children:[(0,Os.jsx)("div",{className:"w-3 h-3 mr-2 border",style:{backgroundColor:e.color,borderColor:e.color}}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"font-bold",children:e.name}),e.description&&(0,Os.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:e.description})]})]})})]}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),window.confirm('Terminate "'.concat(e.name,'" operation? Missions will be moved to General Operations.'))&&o(e.id)},className:"absolute top-2 right-2 text-red-400 hover:text-red-300 opacity-0 group-hover:opacity-100 transition-opacity duration-200 p-1",title:"Terminate operation",children:(0,Os.jsx)(_s,{size:14})})]},e.id)),u&&(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400 px-2",children:[g.length," of ",t.length," operations"]}),(0,Os.jsxs)("button",{onClick:()=>a("all"),className:"w-full p-3 border-2 transition-all duration-200 font-mono font-bold relative overflow-hidden bg-gray-900 ".concat("all"===s?"text-white":"text-gray-300 hover:text-white"),style:{borderColor:"all"===s?i:"#4B5563",boxShadow:"all"===s?"0 0 3px rgba(".concat(x,", 0.3)"):"none"},children:["all"===s&&(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(".concat(x,", 0.08), rgba(").concat(x,", 0.12))")}}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center justify-center gap-2",children:[(0,Os.jsx)($i,{size:16}),(0,Os.jsx)("span",{children:"ALL MISSIONS"})]})]}),l?(0,Os.jsxs)(Ss.form,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},onSubmit:async e=>{if(e.preventDefault(),m.name.trim())try{await n(m),h({name:"",description:"",color:"#0EA5E9"}),d(!1)}catch(t){console.error("Failed to deploy operation:",t)}},className:"space-y-3 p-3 border-2 bg-black",style:{borderColor:i},children:[(0,Os.jsx)("input",{type:"text",value:m.name,onChange:e=>h(t=>c(c({},t),{},{name:e.target.value})),placeholder:"Operation name...",className:"w-full bg-gray-800 border border-gray-600 text-white px-2 py-1 font-mono text-sm focus:outline-none",style:{focusBorderColor:i},onFocus:e=>{e.target.style.borderColor=i},onBlur:e=>{e.target.style.borderColor="#4B5563"},autoFocus:!0}),(0,Os.jsx)("input",{type:"text",value:m.description,onChange:e=>h(t=>c(c({},t),{},{description:e.target.value})),placeholder:"Operation details (optional)...",className:"w-full bg-gray-800 border border-gray-600 text-white px-2 py-1 font-mono text-sm focus:outline-none",onFocus:e=>{e.target.style.borderColor=i},onBlur:e=>{e.target.style.borderColor="#4B5563"}}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400 mb-2",children:"IDENTIFICATION COLOR"}),(0,Os.jsx)("div",{className:"flex gap-2",children:["#EF4444","#F59E0B","#EAB308","#22C55E","#0EA5E9","#8B5CF6","#EC4899","#6B7280"].map(e=>(0,Os.jsx)("button",{type:"button",onClick:()=>h(t=>c(c({},t),{},{color:e})),className:"w-6 h-6 border-2 transition-all duration-200 ".concat(m.color===e?"border-white scale-110":"border-gray-600"),style:{backgroundColor:e}},e))})]}),(0,Os.jsxs)("div",{className:"flex gap-2",children:[(0,Os.jsx)("button",{type:"submit",className:"flex-1 bg-black border px-3 py-1 font-mono text-sm font-bold transition-colors duration-200",style:{borderColor:i,color:i},onMouseEnter:e=>{e.target.style.backgroundColor="rgba(".concat(x,", 0.1)")},onMouseLeave:e=>{e.target.style.backgroundColor="black"},children:"CREATE OPERATION"}),(0,Os.jsx)("button",{type:"button",onClick:()=>{d(!1),h({name:"",description:"",color:"#0EA5E9"})},className:"px-3 py-1 text-gray-400 hover:text-white border border-gray-600 font-mono text-sm transition-colors duration-200",children:(0,Os.jsx)(Rs,{size:14})})]})]}):(0,Os.jsxs)("button",{onClick:()=>d(!0),className:"w-full p-3 border-2 border-dashed text-gray-400 hover:text-white transition-all duration-200 font-mono font-bold flex items-center justify-center gap-2 bg-gray-900",style:{borderColor:"#4B5563"},onMouseEnter:e=>{e.target.style.borderColor=i,e.target.style.color=i},onMouseLeave:e=>{e.target.style.borderColor="#4B5563",e.target.style.color="#9CA3AF"},children:[(0,Os.jsx)(yi,{size:16}),"CREATE OPERATION"]})]})]})]})},al=As("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),sl=As("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]),il=As("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),ll=e=>{let{tasks:t,onFilteredResults:n,onQuickAction:o,onShowAllMissions:a}=e;const[s,i]=(0,r.useState)(""),[l,d]=(0,r.useState)("priority"),[u,p]=(0,r.useState)("desc"),[m,h]=(0,r.useState)({overdue:!1,dueSoon:!1,highPriority:!1,untagged:!1});(0,r.useEffect)(()=>{x()},[s,l,u,m,t]);const x=()=>{let e=[...t];if(s.trim()){const t=s.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.tags&&e.tags.toLowerCase().includes(t))}m.overdue&&(e=e.filter(e=>e.overdue&&!e.completed)),m.dueSoon&&(e=e.filter(e=>e.dueSoon&&!e.completed)),m.highPriority&&(e=e.filter(e=>"high"===e.priority&&!e.completed)),m.untagged&&(e=e.filter(e=>!e.tags||""===e.tags.trim())),e.sort((e,t)=>{let n,r;switch(l){case"priority":const o={high:3,medium:2,low:1};n=o[e.priority]||0,r=o[t.priority]||0;break;case"dueDate":n=e.dueDate?new Date(e.dueDate):new Date("9999-12-31"),r=t.dueDate?new Date(t.dueDate):new Date("9999-12-31");break;case"created":n=new Date(e.createdAt||e.created||"2020-01-01"),r=new Date(t.createdAt||t.created||"2020-01-01");break;case"title":n=e.title.toLowerCase(),r=t.title.toLowerCase();break;default:return 0}return n<r?"asc"===u?-1:1:n>r?"asc"===u?1:-1:0}),n(e)},g=e=>{h(t=>c(c({},t),{},{[e]:!t[e]}))},f=s.trim()||Object.values(m).some(Boolean);return(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gray-900 border-2 border-cyan-400 p-4 space-y-4 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] relative",style:{boxShadow:"0 0 10px rgba(34, 211, 238, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-cyan-400 opacity-20 animate-pulse pointer-events-none"}),(0,Os.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,Os.jsx)($i,{size:20,className:"text-cyan-400"}),(0,Os.jsx)("h4",{className:"text-lg font-mono font-bold text-white",children:"SEARCH & FILTER"})]}),(0,Os.jsxs)("div",{className:"relative",children:[(0,Os.jsx)(Hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-cyan-400",size:20}),(0,Os.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"Search missions, descriptions, tags...",className:"w-full bg-gray-800 border-2 border-gray-600 text-white pl-10 pr-10 py-2 font-mono text-sm focus:outline-none focus:border-cyan-400 transition-colors duration-200"}),s&&(0,Os.jsx)("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-cyan-400 transition-colors duration-200",children:(0,Os.jsx)(Rs,{size:16})})]}),(0,Os.jsxs)("div",{className:"space-y-2",children:[(0,Os.jsx)("label",{className:"block text-xs font-mono font-bold text-cyan-400",children:"QUICK FILTERS"}),(0,Os.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Os.jsx)("button",{onClick:()=>g("overdue"),className:"px-3 py-1 text-xs font-mono font-bold border-2 transition-all duration-200 shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] ".concat(m.overdue?"bg-red-500 border-red-500 text-white":"border-red-500 text-red-500 hover:bg-red-500 hover:text-white"),children:"OVERDUE"}),(0,Os.jsx)("button",{onClick:()=>g("dueSoon"),className:"px-3 py-1 text-xs font-mono font-bold border-2 transition-all duration-200 shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] ".concat(m.dueSoon?"bg-yellow-500 border-yellow-500 text-white":"border-yellow-500 text-yellow-500 hover:bg-yellow-500 hover:text-white"),children:"DUE SOON"}),(0,Os.jsx)("button",{onClick:()=>g("highPriority"),className:"px-3 py-1 text-xs font-mono font-bold border-2 transition-all duration-200 shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] ".concat(m.highPriority?"bg-orange-500 border-orange-500 text-white":"border-orange-500 text-orange-500 hover:bg-orange-500 hover:text-white"),children:"HIGH PRIORITY"}),(0,Os.jsx)("button",{onClick:()=>g("untagged"),className:"px-3 py-1 text-xs font-mono font-bold border-2 transition-all duration-200 shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)] ".concat(m.untagged?"bg-gray-500 border-gray-500 text-white":"border-gray-500 text-gray-500 hover:bg-gray-500 hover:text-white"),children:"UNTAGGED"})]})]}),(0,Os.jsxs)("div",{className:"flex items-center gap-4 bg-gray-800 border border-cyan-400 p-3",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)("span",{className:"text-xs font-mono font-bold text-cyan-400",children:"SORT BY:"}),(0,Os.jsxs)("select",{value:l,onChange:e=>d(e.target.value),className:"bg-gray-900 border-2 border-gray-600 text-white px-2 py-1 text-xs font-mono focus:outline-none focus:border-cyan-400",children:[(0,Os.jsx)("option",{value:"priority",children:"Priority"}),(0,Os.jsx)("option",{value:"dueDate",children:"Deadline"}),(0,Os.jsx)("option",{value:"created",children:"Created"}),(0,Os.jsx)("option",{value:"title",children:"Mission Name"})]})]}),(0,Os.jsx)("button",{onClick:()=>p("asc"===u?"desc":"asc"),className:"text-cyan-400 hover:text-cyan-300 transition-colors duration-200 p-1 border border-cyan-400 hover:border-cyan-300",title:"Sort ".concat("asc"===u?"descending":"ascending"),children:"asc"===u?(0,Os.jsx)(al,{size:16}):(0,Os.jsx)(sl,{size:16})}),f&&(0,Os.jsx)("button",{onClick:()=>{i(""),d("priority"),p("desc"),h({overdue:!1,dueSoon:!1,highPriority:!1,untagged:!1})},className:"text-xs font-mono font-bold text-gray-400 hover:text-cyan-400 transition-colors duration-200 ml-auto px-2 py-1 border border-gray-600 hover:border-cyan-400",children:"CLEAR ALL"})]}),(0,Os.jsxs)("div",{className:"space-y-2",children:[(0,Os.jsx)("label",{className:"block text-xs font-mono font-bold text-cyan-400",children:"BULK OPERATIONS"}),(0,Os.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2 border-t-2 border-cyan-400",children:[(0,Os.jsx)("button",{onClick:()=>o("markAllComplete"),className:"px-3 py-1 text-xs font-mono font-bold border-2 border-green-500 text-green-500 hover:bg-green-500 hover:text-white transition-all duration-200 shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)]",children:(0,Os.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Os.jsx)($i,{size:12}),"COMPLETE ALL VISIBLE"]})}),(0,Os.jsx)("button",{onClick:()=>o("deleteCompleted"),className:"px-3 py-1 text-xs font-mono font-bold border-2 border-red-500 text-red-500 hover:bg-red-500 hover:text-white transition-all duration-200 shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)]",children:(0,Os.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Os.jsx)(Rs,{size:12}),"ARCHIVE COMPLETED"]})}),(0,Os.jsx)("button",{onClick:()=>o("addToProject"),className:"px-3 py-1 text-xs font-mono font-bold border-2 border-blue-500 text-blue-500 hover:bg-blue-500 hover:text-white transition-all duration-200 shadow-[1px_1px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[1px] hover:translate-y-[1px] hover:shadow-[0px_0px_0px_0px_rgba(0,0,0,1)]",children:(0,Os.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Os.jsx)(il,{size:12}),"BULK ASSIGN"]})})]})]}),(0,Os.jsx)("div",{className:"mb-4",children:(0,Os.jsxs)("button",{onClick:()=>a&&a(),className:"w-full bg-black border px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden",style:{borderColor:"rgb(14 165 233)",color:"rgb(14 165 233)",boxShadow:"0 0 3px rgba(14, 165, 233, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},onMouseEnter:e=>{e.target.style.borderColor="rgb(14 165 233)",e.target.style.boxShadow="0 0 8px rgba(14, 165, 233, 0.4)"},onMouseLeave:e=>{e.target.style.borderColor="rgb(14 165 233)",e.target.style.boxShadow="0 0 3px rgba(14, 165, 233, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(14, 165, 233, 0.08), rgba(14, 165, 233, 0.12))"}}),(0,Os.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Os.jsx)($i,{size:16}),(0,Os.jsx)("span",{children:"ALL MISSIONS"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-5 transition-opacity",style:{backgroundColor:"rgb(14 165 233)"}})]})})]})},cl=e=>{let{tabColor:t="#0EA5E9"}=e;const{tasks:n,taskLists:o,loading:a,error:s,createTask:i,updateTask:l,toggleTask:d,deleteTask:u,createTaskList:p,deleteTaskList:m,getTasksByList:h}=Qs(),[x,g]=(0,r.useState)(!1),[f,y]=(0,r.useState)(null),[b,v]=(0,r.useState)(null),[w,N]=(0,r.useState)([]),[j,k]=(0,r.useState)(!1),[C,S]=(0,r.useState)(!0),[E,T]=(0,r.useState)({priority:"all",status:"all",tags:""}),[A,R]=(0,r.useState)(!1),[I,P]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e;if(e="all"===b?n:null===b?n.filter(e=>!e.taskListId):n.filter(e=>e.taskListId===b),"all"!==E.priority&&(e=e.filter(e=>e.priority===E.priority)),"all"!==E.status){const t="completed"===E.status;e=e.filter(e=>e.completed===t)}E.tags&&(e=e.filter(e=>e.tags&&e.tags.some(e=>e.toLowerCase().includes(E.tags.toLowerCase())))),N(e)},[n,b,E]);const _=e=>{y(e),g(!0)},O=async e=>{try{await d(e)}catch(t){console.error("Failed to update mission status:",t)}},D=async e=>{try{await u(e)}catch(t){console.error("Failed to abort mission:",t)}},L=e=>{switch(e){case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}},M=e=>{switch(e){case"high":return"HIGH";case"medium":return"MEDIUM";default:return"LOW"}},F=e=>{if(!e)return null;const t=new Date(e),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate()),o=new Date(t.getFullYear(),t.getMonth(),t.getDate())-r,a=Math.ceil(o/864e5);return 0===a?"TODAY":1===a?"TOMORROW":-1===a?"YESTERDAY":a<0?"".concat(Math.abs(a)," DAYS OVERDUE"):a<7?"".concat(a," DAYS REMAINING"):t.toLocaleDateString()},z=(e,t)=>{if(!e||t)return"#6B7280";const n=new Date(e),r=new Date,o=new Date(r.getFullYear(),r.getMonth(),r.getDate()),a=new Date(n.getFullYear(),n.getMonth(),n.getDate())-o,s=Math.ceil(a/864e5);return s<0?"#EF4444":s<=1?"#F59E0B":"#10B981"},B=e=>e?e.split(",").map(e=>e.trim()).filter(e=>e.length>0):[],U=()=>{if("all"===b)return"All Operations";if(null===b)return"General Operations";const e=o.find(e=>e.id===b);return e?e.name:"Unknown Operation"};return a?(0,Os.jsxs)("div",{className:"p-6 text-center",children:[(0,Os.jsx)(Ss.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-4",children:(0,Os.jsx)($i,{size:24,className:"text-cyan-400"})}),(0,Os.jsx)("div",{className:"text-white font-mono",children:"Loading mission database..."})]}):s?(0,Os.jsx)("div",{className:"p-6 text-center",children:(0,Os.jsxs)("div",{className:"text-red-400 font-mono",children:["SYSTEM ERROR: ",s]})}):(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsxs)("div",{className:"flex h-full",children:[C&&(0,Os.jsx)(Ss.div,{initial:{x:-320,opacity:0},animate:{x:0,opacity:1},exit:{x:-320,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"w-80 p-4 border-r border-gray-600",children:(0,Os.jsx)(ol,{taskLists:o,onCreateTaskList:p,onDeleteTaskList:m,onSelectTaskList:e=>{v(e)},selectedTaskListId:b,tabColor:t})}),(0,Os.jsxs)("div",{className:"flex-1 p-6 space-y-6",children:[(0,Os.jsxs)("div",{className:"mb-8",children:[(0,Os.jsxs)("h1",{className:"font-mono text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,Os.jsx)("div",{className:"w-6 h-6 border border-gray-600",style:{backgroundColor:t}}),"PLAYER MISSIONS"]}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono text-sm",children:"Active player missions and operation tracking terminal."})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 mb-6 relative",style:{borderColor:t,boxShadow:"0 0 20px rgba(14, 165, 233, 0.3), 8px 8px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 animate-pulse pointer-events-none",style:{borderColor:t}}),(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(14, 165, 233, 0.15), rgba(14, 165, 233, 0.2))"}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsx)("h2",{className:"text-2xl font-mono font-bold text-white flex items-center",children:"all"===b?"ALL MISSIONS":null===b?"TO-DO MISSIONS":"".concat(U().toUpperCase()," MISSIONS")}),(0,Os.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Os.jsxs)("button",{onClick:()=>S(!C),className:"bg-black border px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden",style:{borderColor:t,color:t,boxShadow:"0 0 3px rgba(14, 165, 233, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},onMouseEnter:e=>{e.target.style.borderColor=t,e.target.style.boxShadow="0 0 8px rgba(14, 165, 233, 0.4)"},onMouseLeave:e=>{e.target.style.borderColor=t,e.target.style.boxShadow="0 0 3px rgba(14, 165, 233, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(14, 165, 233, 0.08), rgba(14, 165, 233, 0.12))"}}),(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[C?(0,Os.jsx)(Rs,{size:16}):(0,Os.jsx)(Qi,{size:16}),(0,Os.jsx)("span",{children:C?"HIDE OPERATIONS":"SHOW OPERATIONS"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-5 transition-opacity",style:{backgroundColor:t}})]}),(0,Os.jsxs)("button",{onClick:()=>k(!j),className:"bg-black border px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden",style:{borderColor:t,color:t,boxShadow:"0 0 3px rgba(14, 165, 233, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},onMouseEnter:e=>{e.target.style.borderColor=t,e.target.style.boxShadow="0 0 8px rgba(14, 165, 233, 0.4)"},onMouseLeave:e=>{e.target.style.borderColor=t,e.target.style.boxShadow="0 0 3px rgba(14, 165, 233, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(14, 165, 233, 0.08), rgba(14, 165, 233, 0.12))"}}),(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(Zi,{size:16}),(0,Os.jsx)("span",{children:"FILTER"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-5 transition-opacity",style:{backgroundColor:t}})]}),(0,Os.jsxs)("button",{onClick:()=>g(!0),className:"bg-black border px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden",style:{borderColor:t,color:t,boxShadow:"0 0 3px rgba(14, 165, 233, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},onMouseEnter:e=>{e.target.style.borderColor=t,e.target.style.boxShadow="0 0 8px rgba(14, 165, 233, 0.4)"},onMouseLeave:e=>{e.target.style.borderColor=t,e.target.style.boxShadow="0 0 3px rgba(14, 165, 233, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(14, 165, 233, 0.08), rgba(14, 165, 233, 0.12))"}}),(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(yi,{size:16}),(0,Os.jsx)("span",{children:"NEW MISSION"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-5 transition-opacity",style:{backgroundColor:t}})]})]})]}),(0,Os.jsx)("div",{className:"mt-4",children:(0,Os.jsxs)("div",{className:"text-sm font-mono text-gray-400",children:[w.filter(e=>e.completed).length,"/",w.length," MISSIONS COMPLETE \u2022 ",U()]})})]})]}),j&&(0,Os.jsxs)(Ss.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 mb-6 relative",style:{borderColor:t,boxShadow:"0 0 20px rgba(14, 165, 233, 0.3), 8px 8px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 animate-pulse pointer-events-none",style:{borderColor:t}}),(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(14, 165, 233, 0.15), rgba(14, 165, 233, 0.2))"}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("h3",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:"MISSION FILTERS"}),(0,Os.jsx)(ll,{tasks:w,onFilteredResults:e=>{P(e)},onQuickAction:e=>{switch(e){case"markAllComplete":I.forEach(e=>{e.completed||O(e.id)});break;case"deleteCompleted":w.filter(e=>e.completed).forEach(e=>{D(e.id)});break;case"addToProject":console.log("Bulk assign to operation")}}}),(0,Os.jsx)("div",{className:"bg-black border p-4 mt-4",style:{borderColor:t,boxShadow:"0 0 3px rgba(14, 165, 233, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:(0,Os.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"block text-xs font-mono text-gray-400 mb-2",children:"MISSION PRIORITY"}),(0,Os.jsxs)("select",{value:E.priority,onChange:e=>T(t=>c(c({},t),{},{priority:e.target.value})),className:"w-full bg-gray-800 border border-gray-600 text-white px-2 py-1 font-mono text-sm focus:border-cyan-400 focus:outline-none",children:[(0,Os.jsx)("option",{value:"all",children:"All Priorities"}),(0,Os.jsx)("option",{value:"high",children:"HIGH PRIORITY"}),(0,Os.jsx)("option",{value:"medium",children:"MEDIUM PRIORITY"}),(0,Os.jsx)("option",{value:"low",children:"LOW PRIORITY"})]})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"block text-xs font-mono text-gray-400 mb-2",children:"MISSION STATUS"}),(0,Os.jsxs)("select",{value:E.status,onChange:e=>T(t=>c(c({},t),{},{status:e.target.value})),className:"w-full bg-gray-800 border border-gray-600 text-white px-2 py-1 font-mono text-sm focus:border-cyan-400 focus:outline-none",children:[(0,Os.jsx)("option",{value:"all",children:"All Statuses"}),(0,Os.jsx)("option",{value:"active",children:"Active"}),(0,Os.jsx)("option",{value:"completed",children:"Completed"}),(0,Os.jsx)("option",{value:"overdue",children:"Overdue"})]})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"block text-xs font-mono text-gray-400 mb-2",children:"MISSION TAGS"}),(0,Os.jsx)("input",{type:"text",value:E.tags,onChange:e=>T(t=>c(c({},t),{},{tags:e.target.value})),placeholder:"to-do, ideas, work...",className:"w-full bg-gray-800 border border-gray-600 text-white px-2 py-1 font-mono text-sm focus:border-cyan-400 focus:outline-none"})]})]})})]})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative mb-6",style:{borderColor:t,boxShadow:"0 0 20px rgba(14, 165, 233, 0.3), 8px 8px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-50 animate-pulse pointer-events-none",style:{borderColor:t}}),(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(14, 165, 233, 0.15), rgba(14, 165, 233, 0.2))"}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:["ACTIVE MISSIONS",(0,Os.jsxs)("span",{className:"ml-3 text-sm",style:{color:t},children:["[",w.filter(e=>!e.completed).length,"]"]})]}),0===(I.length>0?I:w).filter(e=>!e.completed).length?(0,Os.jsx)("div",{className:"text-center py-8 text-gray-400 font-mono",children:null===b?"No active missions. Deploy your first mission above!":'No active missions in "'.concat(U(),'" operation. Deploy your first mission above!')}):(I.length>0?I:w).filter(e=>!e.completed).map((e,t)=>(0,Os.jsx)(Ss.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"bg-gray-900 border-2 p-4 transition-all duration-200 ".concat(e.overdue?"border-red-500":e.dueSoon?"border-yellow-500":"border-cyan-400"),style:{boxShadow:e.overdue?"0 0 10px rgba(239, 68, 68, 0.3), 2px 2px 0px 0px rgba(0,0,0,1)":e.dueSoon?"0 0 10px rgba(245, 158, 11, 0.3), 2px 2px 0px 0px rgba(0,0,0,1)":"0 0 5px rgba(34, 211, 238, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},children:(0,Os.jsxs)("div",{className:"space-y-3",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Os.jsx)("button",{onClick:()=>O(e.id),className:"w-6 h-6 border-2 border-gray-500 hover:border-cyan-400 flex items-center justify-center transition-all duration-200",title:"Mark as Complete"}),(0,Os.jsx)("span",{className:"flex-1 font-mono text-white",children:e.title}),(0,Os.jsx)("span",{className:"px-2 py-1 text-xs font-mono font-bold border",style:{color:L(e.priority),borderColor:L(e.priority),backgroundColor:"".concat(L(e.priority),"20")},children:M(e.priority)}),(0,Os.jsx)("button",{onClick:()=>_(e),className:"text-blue-400 hover:text-blue-300 p-1 transition-colors duration-200",title:"Modify mission",children:(0,Os.jsx)(Wi,{size:16})}),(0,Os.jsx)("button",{onClick:()=>D(e.id),className:"text-red-400 hover:text-red-300 p-1 transition-colors duration-200",title:"Abort mission",children:(0,Os.jsx)(_s,{size:16})})]}),e.description&&(0,Os.jsxs)("div",{className:"ml-10 text-gray-300 text-sm font-mono flex items-start gap-2",children:[(0,Os.jsx)(oi,{size:14,className:"mt-0.5 text-gray-500"}),(0,Os.jsx)("span",{children:e.description})]}),(e.dueDate||e.tags&&e.tags.length>0)&&(0,Os.jsxs)("div",{className:"ml-10 flex items-center gap-4 text-sm",children:[e.dueDate&&(0,Os.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Os.jsx)(Ji,{size:14,style:{color:z(e.dueDate,e.completed)}}),(0,Os.jsx)("span",{className:"font-mono",style:{color:z(e.dueDate,e.completed)},children:F(e.dueDate)})]}),e.tags&&B(e.tags).length>0&&(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(Ti,{size:14,className:"text-gray-500"}),(0,Os.jsx)("div",{className:"flex gap-1",children:B(e.tags).map((e,t)=>(0,Os.jsx)("span",{className:"px-2 py-0.5 text-xs font-mono bg-gray-700 text-gray-300 border border-gray-600",children:e},t))})]})]})]})},e.id))]})]}),w.filter(e=>e.completed).length>0&&(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-800 border-2 border-cyan-400 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative space-y-3",style:{boxShadow:"0 0 20px rgba(34, 211, 238, 0.3), 8px 8px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-cyan-400 opacity-50 animate-pulse pointer-events-none"}),(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:["COMPLETED MISSIONS",(0,Os.jsxs)("span",{className:"ml-3 text-sm text-cyan-400",children:["[",w.filter(e=>e.completed).length,"]"]})]}),w.filter(e=>e.completed).map((e,t)=>(0,Os.jsx)(Ss.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},className:"bg-gray-900 border-2 border-cyan-400 p-4 transition-all duration-200",style:{boxShadow:"0 0 10px rgba(34, 211, 238, 0.3), 2px 2px 0px 0px rgba(0,0,0,1)"},children:(0,Os.jsxs)("div",{className:"space-y-3",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Os.jsx)("button",{onClick:()=>O(e.id),className:"w-6 h-6 border-2 bg-cyan-500 border-cyan-500 text-white flex items-center justify-center transition-all duration-200",title:"Mission Complete - Click to reactivate",children:(0,Os.jsx)(el,{size:16})}),(0,Os.jsx)("span",{className:"flex-1 font-mono text-gray-400 line-through",children:e.title}),(0,Os.jsx)("span",{className:"px-2 py-1 text-xs font-mono font-bold border opacity-60",style:{color:L(e.priority),borderColor:L(e.priority),backgroundColor:"".concat(L(e.priority),"15")},children:M(e.priority)}),(0,Os.jsx)("button",{onClick:()=>_(e),className:"text-blue-400 hover:text-blue-300 p-1 transition-colors duration-200 opacity-60 hover:opacity-100",title:"Modify mission",children:(0,Os.jsx)(Wi,{size:16})}),(0,Os.jsx)("button",{onClick:()=>D(e.id),className:"text-red-400 hover:text-red-300 p-1 transition-colors duration-200 opacity-60 hover:opacity-100",title:"Archive mission",children:(0,Os.jsx)(_s,{size:16})})]}),e.description&&(0,Os.jsxs)("div",{className:"ml-10 text-gray-500 text-sm font-mono flex items-start gap-2",children:[(0,Os.jsx)(oi,{size:14,className:"mt-0.5 text-gray-600"}),(0,Os.jsx)("span",{className:"line-through",children:e.description})]}),(e.dueDate||e.tags&&e.tags.length>0)&&(0,Os.jsxs)("div",{className:"ml-10 flex items-center gap-4 text-sm opacity-60",children:[e.dueDate&&(0,Os.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Os.jsx)(Ji,{size:14,className:"text-gray-500"}),(0,Os.jsx)("span",{className:"font-mono text-gray-500",children:F(e.dueDate)})]}),e.tags&&B(e.tags).length>0&&(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(Ti,{size:14,className:"text-gray-600"}),(0,Os.jsx)("div",{className:"flex gap-1",children:B(e.tags).map((e,t)=>(0,Os.jsx)("span",{className:"px-2 py-0.5 text-xs font-mono bg-gray-800 text-gray-500 border border-gray-700",children:e},t))})]})]})]})},e.id))]})]})]}),(0,Os.jsx)(rl,{isOpen:x,onClose:()=>{g(!1),y(null)},onSubmit:e=>{f?(async e=>{try{await l(f.id,e),y(null)}catch(t){console.error("Failed to update mission:",t)}})(e):(async e=>{try{const t=c(c({},e),{},{taskListId:b});await i(t)}catch(t){console.error("Failed to deploy mission:",t)}})(e)},taskLists:o,editTask:f})]})},dl=As("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),ul=e=>{let{isOpen:t,onClose:n,onSave:o,existingFolder:a=null}=e;const[s,i]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)("#FFD700");(0,r.useEffect)(()=>{a?(i(a.name||""),c(a.description||""),u(a.colorCode||"#FFD700")):(i(""),c(""),u("#FFD700"))},[a,t]);const p=()=>{i(""),c(""),u("#FFD700"),n()};return t?(0,Os.jsx)(R,{children:(0,Os.jsx)(Ss.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 pt-16",onClick:p,children:(0,Os.jsxs)(Ss.div,{initial:{scale:.8,opacity:0,y:-50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:-50},className:"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 w-full max-w-md relative max-h-[90vh] overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},onClick:e=>e.stopPropagation(),children:[(0,Os.jsxs)("div",{className:"relative z-10 mb-6",children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Os.jsx)(Ai,{size:24,className:"text-white"}),(0,Os.jsx)("h3",{className:"font-mono text-xl font-bold text-white",children:a?"MODIFY ARCHIVE":"NEW ARCHIVE"})]}),(0,Os.jsx)("button",{onClick:p,className:"text-gray-400 hover:text-white transition-colors p-1",children:(0,Os.jsx)(Rs,{size:20})})]}),(0,Os.jsx)("p",{className:"text-sm font-mono text-gray-400",children:a?"Update archive system parameters":"Initialize new archive system for organized storage"})]}),(0,Os.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!s.trim())return void alert("Archive name is required");const t={name:s.trim(),description:l.trim(),colorCode:d,parentFolderId:null};try{a?await o(a.id,t):await o(t),n()}catch(r){console.error("Failed to save archive:",r),alert("Failed to save archive. Please try again.")}},className:"relative z-10 space-y-4",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono font-bold text-white mb-2",children:[(0,Os.jsx)(si,{size:16,className:"inline mr-1"}),"ARCHIVE NAME"]}),(0,Os.jsx)("input",{type:"text",value:s,onChange:e=>i(e.target.value),placeholder:"Enter archive name...",className:"w-full px-3 py-2 bg-black border-2 border-gray-600 text-white font-mono text-sm transition-colors focus:outline-none focus:border-white",required:!0}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mt-1 font-mono",children:"Unique identifier for this archive system"})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"block text-sm font-mono font-bold text-white mb-2",children:"ARCHIVE DESCRIPTION"}),(0,Os.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),placeholder:"Optional archive description...",rows:3,className:"w-full px-3 py-2 bg-black border-2 border-gray-600 text-white font-mono text-sm resize-none transition-colors focus:outline-none focus:border-white"}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mt-1 font-mono",children:"Brief description of archive purpose and organization strategy"})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono font-bold text-white mb-2",children:[(0,Os.jsx)(xi,{size:16,className:"inline mr-1"}),"ARCHIVE COLOR"]}),(0,Os.jsx)("div",{className:"grid grid-cols-5 gap-2 mb-2",children:["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE"].map(e=>(0,Os.jsx)("button",{type:"button",onClick:()=>u(e),className:"w-8 h-8 border-2 transition-all duration-200 ".concat(d===e?"border-white scale-110":"border-gray-600"),style:{backgroundColor:e},title:e},e))}),(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)("input",{type:"color",value:d,onChange:e=>u(e.target.value),className:"w-6 h-6 border-2 border-gray-600 bg-transparent cursor-pointer"}),(0,Os.jsx)("span",{className:"text-xs font-mono text-gray-400",children:"Custom"})]}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mt-1 font-mono",children:"Visual identifier for quick archive recognition"})]}),(0,Os.jsxs)("div",{className:"bg-black border-2 border-gray-600 p-3",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Os.jsx)(si,{size:16,className:"text-white"}),(0,Os.jsx)("span",{className:"text-sm font-mono font-bold text-white",children:"WHAT IS ARCHIVE"})]}),(0,Os.jsxs)("ul",{className:"text-xs font-mono text-gray-400 space-y-1",children:[(0,Os.jsx)("li",{children:"\u2022 Store multiple log collections"}),(0,Os.jsx)("li",{children:"\u2022 Bulk exports"}),(0,Os.jsx)("li",{children:"\u2022 Think of it like your digital file cabinet"})]})]}),(0,Os.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Os.jsx)("button",{type:"button",onClick:p,className:"flex-1 bg-black border-2 border-gray-600 px-4 py-2 font-mono text-gray-400 hover:text-white hover:border-gray-500 transition-colors",children:"CANCEL"}),(0,Os.jsx)("button",{type:"submit",className:"flex-1 bg-black border-2 border-white px-4 py-2 font-mono font-bold text-white hover:scale-105 transition-transform",children:a?"UPDATE ARCHIVE":"CREATE ARCHIVE"})]})]})]})})}):null},pl=e=>{let{isOpen:t,onClose:n,onSave:o,existingNotebook:a=null,folders:s=[]}=e;const[i,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,p]=(0,r.useState)("#60A5FA"),[m,h]=(0,r.useState)(""),[x,g]=(0,r.useState)("");(0,r.useEffect)(()=>{a?(l(a.name||""),d(a.description||""),p(a.colorCode||"#60A5FA"),h(a.folderId||""),g(a.tags||"")):(l(""),d(""),p("#60A5FA"),h(""),g(""))},[a,t]);const f=()=>{l(""),d(""),p("#60A5FA"),h(""),g(""),n()};return t?(0,Os.jsx)(R,{children:(0,Os.jsx)(Ss.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-start justify-center z-50 p-4 pt-16",onClick:f,children:(0,Os.jsxs)(Ss.div,{initial:{scale:.8,opacity:0,y:-50},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:-50},className:"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 w-full max-w-md relative max-h-[90vh] overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},onClick:e=>e.stopPropagation(),children:[(0,Os.jsxs)("div",{className:"relative z-10 mb-6",children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Os.jsx)(Ri,{size:24,className:"text-white"}),(0,Os.jsx)("h3",{className:"font-mono text-xl font-bold text-white",children:a?"MODIFY COLLECTION":"NEW COLLECTION"})]}),(0,Os.jsx)("button",{onClick:f,className:"text-gray-400 hover:text-white transition-colors p-1",children:(0,Os.jsx)(Rs,{size:20})})]}),(0,Os.jsx)("p",{className:"text-sm font-mono text-gray-400",children:a?"Update collection parameters":"Initialize new log collection for organized storage"})]}),(0,Os.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!i.trim())return void alert("Collection name is required");const t={name:i.trim(),description:c.trim(),colorCode:u,folderId:m||null,tags:x.trim()};try{a?await o(a.id,t):await o(t),n()}catch(r){console.error("Failed to save collection:",r),alert("Failed to save collection. Please try again.")}},className:"relative z-10 space-y-4",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono font-bold text-white mb-2",children:[(0,Os.jsx)(Ri,{size:16,className:"inline mr-1"}),"COLLECTION NAME"]}),(0,Os.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Enter collection name...",className:"w-full px-3 py-2 bg-black border-2 border-gray-600 text-white font-mono text-sm transition-colors focus:outline-none focus:border-white",required:!0}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mt-1 font-mono",children:"Unique identifier for this log collection"})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"block text-sm font-mono font-bold text-white mb-2",children:"COLLECTION DESCRIPTION"}),(0,Os.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"Optional collection description...",rows:3,className:"w-full px-3 py-2 bg-black border-2 border-gray-600 text-white font-mono text-sm resize-none transition-colors focus:outline-none focus:border-white"}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mt-1 font-mono",children:"Brief description of collection purpose and contents"})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono font-bold text-white mb-2",children:[(0,Os.jsx)(xi,{size:16,className:"inline mr-1"}),"COLLECTION COLOR"]}),(0,Os.jsx)("div",{className:"grid grid-cols-5 gap-2 mb-2",children:["#60A5FA","#34D399","#F59E0B","#EF4444","#A78BFA","#F97316","#06B6D4","#84CC16","#EC4899","#6B7280"].map(e=>(0,Os.jsx)("button",{type:"button",onClick:()=>p(e),className:"w-8 h-8 border-2 transition-all duration-200 ".concat(u===e?"border-white scale-110":"border-gray-600"),style:{backgroundColor:e},title:e},e))}),(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)("input",{type:"color",value:u,onChange:e=>p(e.target.value),className:"w-6 h-6 border-2 border-gray-600 bg-transparent cursor-pointer"}),(0,Os.jsx)("span",{className:"text-xs font-mono text-gray-400",children:"Custom"})]}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mt-1 font-mono",children:"Visual identifier for quick collection recognition"})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono font-bold text-white mb-2",children:[(0,Os.jsx)(si,{size:16,className:"inline mr-1"}),"ARCHIVE SYSTEM"]}),(0,Os.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 bg-black border-2 border-gray-600 text-white font-mono text-sm transition-colors focus:outline-none focus:border-white",children:[(0,Os.jsx)("option",{value:"",children:"No Archive"}),s&&s.length>0?s.map(e=>(0,Os.jsx)("option",{value:e.id,children:e.name},e.id)):(0,Os.jsx)("option",{disabled:!0,children:"No archives available"})]}),(0,Os.jsxs)("p",{className:"text-xs text-gray-400 mt-1 font-mono",children:["Optional: Organize this collection within an archive system",s&&0===s.length&&(0,Os.jsx)("span",{className:"text-white",children:" (Create an archive first)"})]})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("label",{className:"block text-sm font-mono font-bold text-white mb-2",children:[(0,Os.jsx)(Ti,{size:16,className:"inline mr-1"}),"CLASSIFICATION TAGS"]}),(0,Os.jsx)("input",{type:"text",value:x,onChange:e=>g(e.target.value),placeholder:"Optional tags (comma-separated)...",className:"w-full px-3 py-2 bg-black border-2 border-gray-600 text-white font-mono text-sm transition-colors focus:outline-none focus:border-white"}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mt-1 font-mono",children:"Optional tags for categorization and search functionality"})]}),(0,Os.jsxs)("div",{className:"bg-black border-2 border-gray-600 p-3",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Os.jsx)(Ri,{size:16,className:"text-white"}),(0,Os.jsx)("span",{className:"text-sm font-mono font-bold text-white",children:"WHAT IS COLLECTION"})]}),(0,Os.jsxs)("ul",{className:"text-xs font-mono text-gray-400 space-y-1",children:[(0,Os.jsx)("li",{children:"\u2022 Organize related log entries"}),(0,Os.jsx)("li",{children:"\u2022 Tag-based categorization"}),(0,Os.jsx)("li",{children:"\u2022 Think of it like your digital notebook"})]})]}),(0,Os.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Os.jsx)("button",{type:"button",onClick:f,className:"flex-1 bg-black border-2 border-gray-600 px-4 py-2 font-mono text-gray-400 hover:text-white hover:border-gray-500 transition-colors",children:"CANCEL"}),(0,Os.jsx)("button",{type:"submit",className:"flex-1 bg-black border-2 border-white px-4 py-2 font-mono font-bold text-white hover:scale-105 transition-transform",children:a?"UPDATE COLLECTION":"CREATE COLLECTION"})]})]})]})})}):null},ml=As("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);var hl=n(950);const xl=e=>{let{isOpen:t,onClose:n,onEdit:r,onDelete:o,note:a}=e;if(!a)return null;const s=a.color||"#4ADE80",i=s.startsWith("#")?"".concat(parseInt(s.slice(1,3),16),", ").concat(parseInt(s.slice(3,5),16),", ").concat(parseInt(s.slice(5,7),16)):"74, 222, 128",l=(0,Os.jsx)(R,{children:t&&(0,Os.jsx)(Ss.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 z-[9999] flex items-center justify-center p-2",onClick:n,children:(0,Os.jsx)(Ss.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-7xl max-h-[99vh] overflow-hidden relative",onClick:e=>e.stopPropagation(),children:(0,Os.jsxs)("div",{className:"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] relative",style:{backgroundColor:"rgba(0, 0, 0, 0.4)",borderColor:s,boxShadow:"0 0 20px rgba(".concat(i,", 0.6), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"border-b-2 border-white p-4 relative z-10",children:(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Os.jsx)("div",{className:"p-2 border-2 border-white",style:{backgroundColor:s,boxShadow:"0 0 10px rgba(".concat(i,", 0.6)")},children:(0,Os.jsx)(oi,{size:24,className:"text-black"})}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("h2",{className:"font-mono font-bold text-white text-xl",children:a.title}),(0,Os.jsxs)("div",{className:"flex items-center gap-4 text-sm font-mono text-gray-400",children:[(0,Os.jsx)("span",{children:"LOG ENTRY"}),a.tags&&(0,Os.jsxs)("span",{className:"flex items-center gap-1",children:[(0,Os.jsx)(Ti,{size:12}),Array.isArray(a.tags)?a.tags.join(", "):a.tags]})]})]})]}),(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsxs)("button",{onClick:r,className:"bg-black border-2 border-white px-4 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center gap-2",title:"Edit log entry",children:[(0,Os.jsx)(ml,{size:16}),(0,Os.jsx)("span",{children:"EDIT"})]}),(0,Os.jsxs)("button",{onClick:o,className:"bg-black border-2 border-red-500 px-4 py-2 font-mono font-bold text-red-400 hover:scale-105 transition-transform flex items-center gap-2",title:"Delete log entry",children:[(0,Os.jsx)(_s,{size:16}),(0,Os.jsx)("span",{children:"DELETE"})]}),(0,Os.jsx)("button",{onClick:n,className:"bg-black border-2 border-white p-2 font-mono font-bold text-white hover:scale-105 transition-transform",title:"Close",children:(0,Os.jsx)(Rs,{size:16})})]})]})}),(0,Os.jsx)("div",{className:"relative z-10 max-h-[calc(99vh-10rem)] overflow-y-auto",children:(0,Os.jsx)("div",{className:"p-8",children:a.content?(0,Os.jsx)("div",{className:"bg-black border-2 border-gray-600 p-8 rounded",children:(0,Os.jsx)("div",{className:"text-white font-mono text-lg leading-loose max-w-none",children:(0,Os.jsx)(Ui,{content:a.content})})}):(0,Os.jsxs)("div",{className:"border border-gray-600 p-8 text-center bg-black",children:[(0,Os.jsx)(oi,{size:48,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono",children:"This log entry is empty"})]})})}),(a.createdAt||a.updatedAt)&&(0,Os.jsxs)("div",{className:"border-t-2 border-white p-3 text-xs font-mono text-gray-400 bg-black bg-opacity-50",children:[(0,Os.jsxs)("div",{className:"flex justify-between",children:[a.createdAt&&(0,Os.jsxs)("span",{children:["Created: ",new Date(a.createdAt).toLocaleString()]}),a.updatedAt&&a.updatedAt!==a.createdAt&&(0,Os.jsxs)("span",{children:["Modified: ",new Date(a.updatedAt).toLocaleString()]})]}),a.wordCount&&(0,Os.jsx)("div",{className:"mt-1",children:(0,Os.jsxs)("span",{children:["Word Count: ",a.wordCount]})})]})]})})})});return(0,hl.createPortal)(l,document.body)},gl=e=>{let{folder:t,notebooks:n,notes:o,onBack:a,onCreateNotebook:s,onCreateNote:i,onEditNotebook:l,onEditNote:c,onDeleteNotebook:d,onDeleteNote:u,onOpenNotebook:p,onOpenNote:m}=e;const[h,x]=(0,r.useState)(""),[g,f]=(0,r.useState)("collections"),[y,b]=(0,r.useState)(null),[v,w]=(0,r.useState)(!1),N=n.filter(e=>e.name.toLowerCase().includes(h.toLowerCase())||e.description&&e.description.toLowerCase().includes(h.toLowerCase())),j=o.filter(e=>e.title.toLowerCase().includes(h.toLowerCase())||e.content&&e.content.toLowerCase().includes(h.toLowerCase())),k=(null===t||void 0===t?void 0:t.colorCode)||"#FFD700",C=k.startsWith("#")?"".concat(parseInt(k.slice(1,3),16),", ").concat(parseInt(k.slice(3,5),16),", ").concat(parseInt(k.slice(5,7),16)):"251, 191, 36",S=e=>{b(e),w(!0)};return(0,Os.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Os.jsx)("div",{className:"border-2 border-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] p-4 mb-6",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Os.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},className:"bg-black border-2 border-white p-2 font-mono font-bold text-white hover:scale-105 transition-transform cursor-pointer",title:"Back to Archives",style:{zIndex:100},children:(0,Os.jsx)(fi,{size:16})}),(0,Os.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Os.jsx)("div",{className:"p-2 border-2 border-white",style:{backgroundColor:k,boxShadow:"0 0 10px rgba(".concat(C,", 0.6)")},children:(0,Os.jsx)(Ai,{size:24,className:"text-black"})}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("h1",{className:"font-mono font-bold text-white text-2xl",children:(null===t||void 0===t?void 0:t.name)||"Archive"}),(0,Os.jsx)("p",{className:"font-mono text-sm text-gray-400",children:(null===t||void 0===t?void 0:t.description)||"Archive system contents"})]})]})]}),(0,Os.jsxs)("div",{className:"flex items-center gap-4 text-sm font-mono text-gray-400",children:[(0,Os.jsxs)("span",{children:[(0,Os.jsx)("span",{className:"text-white font-bold",children:n.length})," COLLECTIONS"]}),(0,Os.jsxs)("span",{children:[(0,Os.jsx)("span",{className:"text-white font-bold",children:o.length})," LOGS"]})]})]}),(0,Os.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start",children:[(0,Os.jsxs)("div",{className:"flex gap-2 z-50 relative",children:[(0,Os.jsxs)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),s()},className:"bg-black border-2 border-white px-4 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center gap-2 cursor-pointer",style:{zIndex:100},children:[(0,Os.jsx)(yi,{size:16}),(0,Os.jsx)(Ri,{size:16}),(0,Os.jsx)("span",{children:"NEW COLLECTION"})]}),(0,Os.jsxs)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),i()},className:"bg-black border-2 border-white px-4 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center gap-2 cursor-pointer",style:{zIndex:100},children:[(0,Os.jsx)(yi,{size:16}),(0,Os.jsx)(oi,{size:16}),(0,Os.jsx)("span",{children:"NEW LOG"})]})]}),(0,Os.jsxs)("div",{className:"flex-1 relative",children:[(0,Os.jsx)(Hi,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Os.jsx)("input",{value:h,onChange:e=>x(e.target.value),placeholder:"Search archive contents...",className:"w-full pl-10 pr-3 py-2 bg-black border-2 border-gray-600 text-white font-mono text-sm focus:border-white transition-colors"})]})]})]})}),(0,Os.jsx)("div",{className:"border-2 border-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:(0,Os.jsxs)("div",{className:"flex",children:[(0,Os.jsxs)("button",{onClick:()=>f("collections"),className:"flex-1 px-4 py-3 font-mono font-bold border-r-2 border-white transition-colors ".concat("collections"===g?"bg-white/40 text-black":"text-white hover:bg-black hover:bg-opacity-30"),children:[(0,Os.jsx)(Ri,{size:16,className:"inline mr-2"}),"COLLECTIONS (",N.length,")"]}),(0,Os.jsxs)("button",{onClick:()=>f("logs"),className:"flex-1 px-4 py-3 font-mono font-bold transition-colors ".concat("logs"===g?"bg-white/40 text-black":"text-white hover:bg-black hover:bg-opacity-30"),children:[(0,Os.jsx)(oi,{size:16,className:"inline mr-2"}),"LOG ENTRIES (",j.length,")"]})]})}),(0,Os.jsx)("div",{className:"border-2 border-white shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] p-6",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:(0,Os.jsx)("div",{children:"collections"===g?N.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:N.map(e=>{const t=e.colorCode||"#60A5FA",n=t.startsWith("#")?"".concat(parseInt(t.slice(1,3),16),", ").concat(parseInt(t.slice(3,5),16),", ").concat(parseInt(t.slice(5,7),16)):"96, 165, 250";return(0,Os.jsxs)(Ss.div,{className:"border-2 p-4 cursor-pointer group relative transition-all duration-300",style:{backgroundColor:"rgba(0, 0, 0, 0.4)",borderColor:t,boxShadow:"0 0 10px rgba(".concat(n,", 0.4), 2px 2px 0px 0px rgba(0,0,0,1)")},whileHover:{scale:1.02,y:-2,boxShadow:"0 0 20px rgba(".concat(n,", 0.6), 2px 2px 0px 0px rgba(0,0,0,1)")},whileTap:{scale:.98},onClick:()=>p?p(e):l(e),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,Os.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Os.jsx)(Ri,{size:24,style:{color:t}}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400 bg-black px-2 py-1 border border-white",children:"COLLECTION"})]}),(0,Os.jsx)("h4",{className:"font-mono font-bold text-white mb-2 truncate",title:e.name,children:e.name}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mb-3 line-clamp-2",children:e.description||"Log collection"}),(0,Os.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:e.tags&&(0,Os.jsxs)("span",{children:["Tags: ",e.tags]})}),(0,Os.jsxs)("div",{className:"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),p?p(e):l(e)},className:"p-1.5 bg-black hover:bg-gray-800 border border-white rounded transition-colors text-white",title:"Open collection",children:(0,Os.jsx)(gi,{size:14})}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),l(e)},className:"p-1.5 bg-black hover:bg-gray-800 border border-white rounded transition-colors text-white",title:"Edit collection",children:(0,Os.jsx)(ml,{size:14})}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),d(e.id)},className:"p-1.5 bg-black hover:bg-red-600 border border-white rounded text-gray-400 hover:text-red-400 transition-colors",title:"Delete collection",children:(0,Os.jsx)(_s,{size:14})})]})]},e.id)})}):(0,Os.jsxs)("div",{className:"border border-gray-600 p-8 text-center",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:[(0,Os.jsx)(Ri,{size:48,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono",children:h?'No collections found matching "'.concat(h,'"'):"No collections in this archive"})]}):j.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:j.map(e=>{const t=e.color||"#4ADE80",n=t.startsWith("#")?"".concat(parseInt(t.slice(1,3),16),", ").concat(parseInt(t.slice(3,5),16),", ").concat(parseInt(t.slice(5,7),16)):"74, 222, 128";return(0,Os.jsxs)(Ss.div,{className:"border-2 p-4 cursor-pointer group relative transition-all duration-300",style:{backgroundColor:"rgba(0, 0, 0, 0.4)",borderColor:t,boxShadow:"0 0 10px rgba(".concat(n,", 0.4), 2px 2px 0px 0px rgba(0,0,0,1)")},whileHover:{scale:1.02,y:-2,boxShadow:"0 0 20px rgba(".concat(n,", 0.6), 2px 2px 0px 0px rgba(0,0,0,1)")},whileTap:{scale:.98},onClick:t=>{t.preventDefault(),t.stopPropagation(),S(e)},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,Os.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Os.jsx)(oi,{size:24,style:{color:t}}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400 bg-black px-2 py-1 border border-white",children:"LOG"})]}),(0,Os.jsx)("h4",{className:"font-mono font-bold text-white mb-2 truncate",title:e.title,children:e.title}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mb-3 line-clamp-2",children:e.content&&e.content.length>100?"".concat(e.content.substring(0,100),"..."):e.content}),(0,Os.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:e.tags&&(0,Os.jsxs)("span",{children:["Tags: ",e.tags]})}),(0,Os.jsxs)("div",{className:"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),S(e)},className:"p-1.5 bg-black hover:bg-gray-800 border border-white rounded transition-colors text-white",title:"View log",children:(0,Os.jsx)(gi,{size:14})}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),c(e)},className:"p-1.5 bg-black hover:bg-gray-800 border border-white rounded transition-colors text-white",title:"Edit log",children:(0,Os.jsx)(ml,{size:14})}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),u(e.id)},className:"p-1.5 bg-black hover:bg-red-600 border border-white rounded text-gray-400 hover:text-red-400 transition-colors",title:"Delete log",children:(0,Os.jsx)(_s,{size:14})})]})]},e.id)})}):(0,Os.jsxs)("div",{className:"border border-gray-600 p-8 text-center",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:[(0,Os.jsx)(oi,{size:48,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono",children:h?'No log entries found matching "'.concat(h,'"'):"No log entries in this archive"})]})})}),(0,Os.jsx)(xl,{isOpen:v,onClose:()=>{w(!1),b(null)},onEdit:()=>{w(!1),c(y),b(null)},onDelete:async()=>{w(!1),await u(y.id),b(null)},note:y})]})},fl=e=>{let{notebook:t,onBack:n,onCreateNote:o,onEditNote:a,onDeleteNotebook:s,folders:i,notebooks:l,notes:d}=e;const[u,p]=(0,r.useState)([]),[m,h]=(0,r.useState)(!0),[x,g]=(0,r.useState)(!1),[f,y]=(0,r.useState)(null),[b,v]=(0,r.useState)(!1),w="#3B82F6",N="59, 130, 246";(0,r.useEffect)(()=>{j()},[t.id,d]);const j=()=>{try{h(!0);const e=d.filter(e=>e.notebookId===t.id);p(e)}catch(e){console.error("Error filtering notebook notes:",e)}finally{h(!1)}},k=()=>{y(null),g(!0)},C=e=>{y(e),g(!0)},S=e=>e?Array.isArray(e)?e:"string"===typeof e?e.split(",").map(e=>e.trim()):[]:[];return m?(0,Os.jsxs)("div",{className:"text-center py-8 font-mono text-white",children:[(0,Os.jsx)(Ss.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-4",children:(0,Os.jsx)(Ri,{size:32,style:{color:t.colorCode||"#87CEEB"}})}),(0,Os.jsx)("div",{children:"Loading collection..."})]}):(0,Os.jsxs)("div",{className:"p-6",children:[(0,Os.jsx)("div",{className:"mb-8",children:(0,Os.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Os.jsx)("div",{className:"flex items-center gap-3",children:(0,Os.jsxs)("button",{onClick:n,className:"bg-gray-900 border-2 px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold",style:{borderColor:w,color:w,boxShadow:"0 0 5px rgba(".concat(N,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},onMouseEnter:e=>{e.target.style.borderColor=w,e.target.style.boxShadow="0 0 15px rgba(".concat(N,", 0.3)")},onMouseLeave:e=>{e.target.style.borderColor=w,e.target.style.boxShadow="0 0 5px rgba(".concat(N,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(fi,{size:16}),(0,Os.jsx)("span",{children:"BACK TO LIBRARY"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity",style:{backgroundColor:w}})]})}),(0,Os.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,Os.jsx)(Ri,{size:32,style:{color:t.colorCode||"#87CEEB"}}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("h1",{className:"font-mono text-3xl font-bold text-white mb-2",children:t.name}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono text-sm",children:t.description})]})]}),(0,Os.jsxs)("button",{onClick:k,className:"bg-gray-900 border-2 px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold",style:{borderColor:w,color:w,boxShadow:"0 0 5px rgba(".concat(N,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},onMouseEnter:e=>{e.target.style.borderColor=w,e.target.style.boxShadow="0 0 15px rgba(".concat(N,", 0.3)")},onMouseLeave:e=>{e.target.style.borderColor=w,e.target.style.boxShadow="0 0 5px rgba(".concat(N,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(yi,{size:16}),(0,Os.jsx)("span",{children:"NEW LOG"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity",style:{backgroundColor:w}})]})]})}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative mb-6",style:{borderColor:w,boxShadow:"0 0 20px rgba(".concat(N,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 animate-pulse pointer-events-none",style:{borderColor:w}}),(0,Os.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 relative z-10",children:[(0,Os.jsx)("div",{className:"bg-gray-900 border-2 p-4",style:{borderColor:w,boxShadow:"0 0 10px rgba(".concat(N,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"text-xs font-mono font-bold",style:{color:w},children:"TOTAL LOGS"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold",style:{color:w},children:u.length})]}),(0,Os.jsx)(oi,{style:{color:w},size:20})]})}),(0,Os.jsx)("div",{className:"bg-gray-900 border-2 p-4",style:{borderColor:w,boxShadow:"0 0 10px rgba(".concat(N,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"text-xs font-mono font-bold",style:{color:w},children:"TOTAL WORDS"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold",style:{color:w},children:u.reduce((e,t)=>e+(t.content?t.content.split(" ").length:0),0)})]}),(0,Os.jsx)(Wi,{style:{color:w},size:20})]})}),(0,Os.jsx)("div",{className:"bg-gray-900 border-2 p-4",style:{borderColor:w,boxShadow:"0 0 10px rgba(".concat(N,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"text-xs font-mono font-bold",style:{color:w},children:"UNIQUE TAGS"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold",style:{color:w},children:[...new Set(u.flatMap(e=>S(e.tags)))].length})]}),(0,Os.jsx)(Ti,{style:{color:w},size:20})]})})]})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative",style:{borderColor:w,boxShadow:"0 0 20px rgba(".concat(N,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-50 animate-pulse pointer-events-none",style:{borderColor:w}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:["LOG ENTRIES",(0,Os.jsxs)("span",{className:"ml-3 text-sm",style:{color:w},children:["[",u.length,"]"]})]}),u.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:u.map((e,t)=>{const n=S(e.tags),r=e.color||e.colorCode||"#4ADE80",o=(e=>{if(!e||!e.startsWith("#"))return"74, 222, 128";const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),", ").concat(parseInt(t[2],16),", ").concat(parseInt(t[3],16)):"74, 222, 128"})(r);return(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"bg-gray-900 border-2 p-4 cursor-pointer group relative transition-all duration-300",style:{borderColor:r,boxShadow:"0 0 10px rgba(".concat(o,", 0.4), 2px 2px 0px 0px rgba(0,0,0,1)")},whileHover:{scale:1.02,y:-2,boxShadow:"0 0 20px rgba(".concat(o,", 0.6), 2px 2px 0px 0px rgba(0,0,0,1)")},whileTap:{scale:.98},onClick:()=>C(e),children:[(0,Os.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Os.jsx)(oi,{size:24,style:{color:r}}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400 bg-gray-700 px-2 py-1 border border-gray-600",children:[n.length," TAGS"]})]}),(0,Os.jsx)("h4",{className:"font-mono font-bold text-white mb-2 truncate",title:e.title,children:e.title}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:e.content&&e.content.length>100?"".concat(e.content.substring(0,100),"..."):e.content}),n.length>0&&(0,Os.jsxs)("div",{className:"flex flex-wrap gap-1 mb-2",children:[n.slice(0,2).map((e,t)=>(0,Os.jsx)("span",{className:"px-2 py-1 bg-gray-700 border border-gray-600 text-xs font-mono",style:{color:w},children:e},t)),n.length>2&&(0,Os.jsxs)("span",{className:"text-xs text-gray-500 font-mono px-2 py-1",children:["+",n.length-2]})]}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),C(e)},className:"absolute bottom-2 right-2 p-1.5 bg-gray-700 hover:bg-gray-600 rounded opacity-0 group-hover:opacity-100 transition-opacity",style:{color:w},title:"Edit log entry",children:(0,Os.jsx)(Wi,{size:14})})]},e.id)})}):(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-8 text-center",children:[(0,Os.jsx)(Ri,{size:64,style:{color:t.colorCode||"#87CEEB"},className:"mx-auto mb-4"}),(0,Os.jsxs)("h3",{className:"font-mono text-xl font-bold text-white mb-2",children:['No logs yet in "',t.name,'"']}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono mb-6",children:"Start writing your first log entry in this collection!"}),(0,Os.jsxs)("button",{onClick:k,className:"bg-gray-900 border-2 px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold",style:{borderColor:w,color:w,boxShadow:"0 0 5px rgba(".concat(N,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},onMouseEnter:e=>{e.target.style.borderColor=w,e.target.style.boxShadow="0 0 15px rgba(".concat(N,", 0.3)")},onMouseLeave:e=>{e.target.style.borderColor=w,e.target.style.boxShadow="0 0 5px rgba(".concat(N,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(oi,{size:18}),(0,Os.jsx)("span",{children:"CREATE FIRST LOG"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity",style:{backgroundColor:w}})]})]})]})]}),(0,Os.jsx)(Vi,{isOpen:x,onClose:()=>{g(!1),y(null)},onSave:async e=>{try{const n=c(c({},e),{},{notebookId:t.id});f?await a(c(c({},n),{},{id:f.id})):await o(n),g(!1),y(null),j()}catch(n){console.error("Failed to save note:",n)}},folders:i,notebooks:l,existingNote:f,defaultNotebookId:t.id}),(0,Os.jsx)(R,{children:b&&(0,Os.jsx)(Ss.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>v(!1),children:(0,Os.jsx)(Ss.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-gray-800 border-2 border-red-400 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 max-w-md mx-4 relative",style:{boxShadow:"0 0 20px rgba(239, 68, 68, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)"},onClick:e=>e.stopPropagation(),children:(0,Os.jsxs)("div",{className:"text-center",children:[(0,Os.jsx)(_s,{size:48,className:"text-red-500 mx-auto mb-4"}),(0,Os.jsx)("h3",{className:"font-mono text-xl font-bold text-white mb-2",children:"DELETE COLLECTION"}),(0,Os.jsxs)("p",{className:"text-gray-300 font-mono mb-4",children:["Are you sure you want to permanently delete",(0,Os.jsx)("br",{}),(0,Os.jsxs)("span",{style:{color:w},className:"font-bold",children:['"',t.name,'"']}),"?"]}),(0,Os.jsx)("p",{className:"text-red-400 text-sm font-mono mb-6",children:"All logs in this collection will become unorganized. This action cannot be undone."}),(0,Os.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,Os.jsx)("button",{onClick:()=>v(!1),className:"bg-gray-900 border border-gray-600 px-4 py-2 font-mono text-gray-400 hover:text-white transition-colors",children:"CANCEL"}),(0,Os.jsx)("button",{onClick:async()=>{try{await s(t.id),v(!1),n()}catch(e){console.error("Failed to delete collection:",e),alert("Failed to delete collection. Please try again.")}},className:"bg-gray-900 border-2 border-red-500 px-4 py-2 font-mono text-red-500 hover:bg-red-900 transition-colors",children:"DELETE COLLECTION"})]})]})})})})]})},yl=e=>{let{notebooks:t,onBack:n,onCreateNotebook:o,onOpenNotebook:a,notes:s=[],folders:i=[]}=e;const[l,c]=(0,r.useState)(""),[d,u]=(0,r.useState)("updated"),[p,m]=(0,r.useState)("desc"),h="#3B82F6",x="59, 130, 246",g=t.filter(e=>{var t,n;if(!l)return!0;const r=l.toLowerCase(),o=(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(r))||!1,a=(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(r))||!1;return o||a}).sort((e,t)=>{let n,r;switch(d){case"name":n=e.name.toLowerCase(),r=t.name.toLowerCase();break;case"created":n=new Date(e.createdAt||"2020-01-01"),r=new Date(t.createdAt||"2020-01-01");break;default:n=new Date(e.updatedAt||e.createdAt||"2020-01-01"),r=new Date(t.updatedAt||t.createdAt||"2020-01-01")}return n<r?"asc"===p?-1:1:n>r?"asc"===p?1:-1:0});return(0,Os.jsxs)("div",{className:"p-6",children:[(0,Os.jsx)("div",{className:"mb-8",children:(0,Os.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Os.jsxs)("button",{onClick:n,className:"bg-gray-900 border-2 px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold",style:{borderColor:h,color:h,boxShadow:"0 0 5px rgba(".concat(x,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},onMouseEnter:e=>{e.target.style.borderColor=h,e.target.style.boxShadow="0 0 15px rgba(".concat(x,", 0.3)")},onMouseLeave:e=>{e.target.style.borderColor=h,e.target.style.boxShadow="0 0 5px rgba(".concat(x,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(fi,{size:16}),(0,Os.jsx)("span",{children:"BACK"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity",style:{backgroundColor:h}})]}),(0,Os.jsx)("div",{className:"flex-1",children:(0,Os.jsxs)("h1",{className:"font-mono text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,Os.jsx)("div",{}),"ALL COLLECTIONS"]})})]})}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative mb-6",style:{borderColor:h,boxShadow:"0 0 20px rgba(".concat(x,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 animate-pulse pointer-events-none",style:{borderColor:h}}),(0,Os.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-stretch lg:items-center justify-between relative z-10",children:[(0,Os.jsxs)("div",{className:"relative flex-1",children:[(0,Os.jsx)(Hi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2",style:{color:h},size:20}),(0,Os.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Search collections...",className:"w-full bg-gray-900 border-2 border-gray-600 text-white pl-10 pr-4 py-2 font-mono text-sm focus:outline-none transition-colors duration-200",style:{color:"#fff"},onFocus:e=>{e.target.style.borderColor=h},onBlur:e=>{e.target.style.borderColor="#4B5563"}})]}),(0,Os.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)("span",{className:"text-xs font-mono font-bold",style:{color:h},children:"SORT BY:"}),(0,Os.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"bg-gray-900 border-2 border-gray-600 text-white px-2 py-1 text-xs font-mono focus:outline-none",style:{focusBorderColor:h},onFocus:e=>{e.target.style.borderColor=h},onBlur:e=>{e.target.style.borderColor="#4B5563"},children:[(0,Os.jsx)("option",{value:"updated",children:"Last Updated"}),(0,Os.jsx)("option",{value:"created",children:"Date Created"}),(0,Os.jsx)("option",{value:"name",children:"Collection Name"})]})]}),(0,Os.jsx)("button",{onClick:()=>m("asc"===p?"desc":"asc"),className:"transition-colors duration-200 p-1 border",style:{color:h,borderColor:h},onMouseEnter:e=>{e.target.style.color=h,e.target.style.borderColor=h},title:"Sort ".concat("asc"===p?"descending":"ascending"),children:"asc"===p?"\u2191":"\u2193"}),(0,Os.jsxs)("button",{onClick:o,className:"bg-gray-900 border-2 px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold",style:{borderColor:h,color:h,boxShadow:"0 0 5px rgba(".concat(x,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},onMouseEnter:e=>{e.target.style.borderColor=h,e.target.style.boxShadow="0 0 15px rgba(".concat(x,", 0.3)")},onMouseLeave:e=>{e.target.style.borderColor=h,e.target.style.boxShadow="0 0 5px rgba(".concat(x,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(yi,{size:16}),(0,Os.jsx)("span",{children:"NEW COLLECTION"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity",style:{backgroundColor:h}})]})]})]})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative",style:{borderColor:h,boxShadow:"0 0 20px rgba(".concat(x,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-50 animate-pulse pointer-events-none",style:{borderColor:h}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:["LOG COLLECTIONS",(0,Os.jsxs)("span",{className:"ml-3 text-sm",style:{color:h},children:["[",g.length,"]"]})]}),g.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:g.map((e,t)=>{const n=e.colorCode||e.color||"#4ADE80",r=(o=e.id,s.filter(e=>e.notebookId===o).length);var o;const i=(e=>{if(!e||!e.startsWith("#"))return"74, 222, 128";const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),", ").concat(parseInt(t[2],16),", ").concat(parseInt(t[3],16)):"74, 222, 128"})(n);return(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"bg-gray-900 border-2 p-4 cursor-pointer group relative transition-all duration-300",style:{borderColor:n,boxShadow:"0 0 10px rgba(".concat(i,", 0.4), 2px 2px 0px 0px rgba(0,0,0,1)")},whileHover:{scale:1.02,y:-2,boxShadow:"0 0 20px rgba(".concat(i,", 0.6), 2px 2px 0px 0px rgba(0,0,0,1)")},whileTap:{scale:.98},onClick:()=>a(e),children:[(0,Os.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Os.jsx)(Ri,{size:24,style:{color:n}}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400 bg-gray-700 px-2 py-1 border border-gray-600",children:[r," LOGS"]})]}),(0,Os.jsx)("h4",{className:"font-mono font-bold text-white mb-2 truncate",title:e.name,children:e.name}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:e.description&&e.description.length>100?"".concat(e.description.substring(0,100),"..."):e.description||"No description available"}),(0,Os.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,Os.jsx)("span",{className:"px-2 py-1 bg-gray-700 border border-gray-600 text-xs font-mono",style:{color:h},children:"COLLECTION"})}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e)},className:"absolute bottom-2 right-2 p-1.5 bg-gray-700 hover:bg-gray-600 rounded opacity-0 group-hover:opacity-100 transition-opacity",style:{color:h},title:"Open collection",children:(0,Os.jsx)(Wi,{size:14})})]},e.id)})}):(0,Os.jsx)("div",{className:"text-center py-8 text-gray-400 font-mono",children:l?"No collections match your search criteria.":"No log collections found."})]})]})]})},bl=e=>{let{folders:t,onBack:n,onCreateFolder:o,onEditFolder:a,onOpenFolder:s}=e;const[i,l]=(0,r.useState)(""),c=t.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.description&&e.description.toLowerCase().includes(i.toLowerCase()));return(0,Os.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Os.jsx)("div",{className:"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-4 mb-6 relative",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Os.jsx)("button",{onClick:n,className:"bg-black border-2 border-white p-2 font-mono font-bold text-white hover:scale-105 transition-transform",title:"Back to Storage Vault",children:(0,Os.jsx)(fi,{size:16})}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("h1",{className:"font-mono font-bold text-white text-2xl",children:"ALL ARCHIVES"}),(0,Os.jsx)("p",{className:"font-mono text-sm text-gray-400",children:"Complete archive system management interface"})]})]}),(0,Os.jsx)("div",{className:"flex items-center gap-4 text-sm font-mono text-gray-400",children:(0,Os.jsxs)("span",{children:[(0,Os.jsx)("span",{className:"text-white font-bold",children:c.length}),"/ ",t.length," ARCHIVES"]})})]}),(0,Os.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start",children:[(0,Os.jsxs)("button",{onClick:o,className:"bg-black border-2 border-white px-4 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center gap-2",children:[(0,Os.jsx)(yi,{size:16}),(0,Os.jsx)(Ai,{size:16}),(0,Os.jsx)("span",{children:"NEW ARCHIVE"})]}),(0,Os.jsxs)("div",{className:"flex-1 relative",children:[(0,Os.jsx)(Hi,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Os.jsx)("input",{value:i,onChange:e=>l(e.target.value),placeholder:"Search archives...",className:"w-full pl-10 pr-3 py-2 bg-black border-2 border-gray-600 text-white font-mono text-sm focus:border-white transition-colors"})]})]})]})}),(0,Os.jsx)("div",{className:"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:(0,Os.jsx)("div",{className:"relative z-10",children:c.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:c.map(e=>{const t=e.colorCode||"#FFD700",n=t.startsWith("#")?"".concat(parseInt(t.slice(1,3),16),", ").concat(parseInt(t.slice(3,5),16),", ").concat(parseInt(t.slice(5,7),16)):"251, 191, 36";return(0,Os.jsxs)(Ss.div,{className:"bg-black bg-opacity-60 border-2 border-white p-4 cursor-pointer group relative transition-all duration-300",style:{boxShadow:"0 0 15px rgba(".concat(n,", 0.6), 4px 4px 0px 0px rgba(0,0,0,1)")},whileHover:{scale:1.02,y:-2,boxShadow:"0 0 25px rgba(".concat(n,", 0.8), 4px 4px 0px 0px rgba(0,0,0,1)")},whileTap:{scale:.98},onClick:()=>s(e),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[(0,Os.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Os.jsx)(Ai,{size:24,style:{color:t}}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400 bg-black px-2 py-1 border border-white",children:"ARCHIVE"})]}),(0,Os.jsx)("h4",{className:"font-mono font-bold text-white mb-2 truncate",title:e.name,children:e.name}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mb-3 line-clamp-2",children:e.description||"Archive system for organized storage"}),(0,Os.jsxs)("div",{className:"text-xs text-gray-400 mb-2",children:["Created: ",new Date(e.createdAt).toLocaleDateString()]}),(0,Os.jsxs)("div",{className:"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),s(e)},className:"p-1.5 bg-black hover:bg-gray-800 border border-white rounded transition-colors text-white",title:"Open archive",children:(0,Os.jsx)(gi,{size:14})}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),a(e)},className:"p-1.5 bg-black hover:bg-gray-800 border border-white rounded transition-colors text-white",title:"Edit archive",children:(0,Os.jsx)(ml,{size:14})})]})]},e.id)})}):(0,Os.jsx)("div",{className:"bg-black bg-opacity-60 border border-white p-8 text-center",children:i?(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsx)(Hi,{size:48,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsxs)("p",{className:"text-gray-400 font-mono mb-2",children:['No archives found matching "',i,'"']}),(0,Os.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:"Try adjusting your search terms"})]}):(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsx)(Ai,{size:48,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono mb-2",children:"No archive systems found"}),(0,Os.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:"Create your first archive to organize collections and logs"})]})})})})]})},vl=e=>{let{tabColor:t="#3B82F6",navigationParams:n={}}=e;const[o,a]=(0,r.useState)(""),[s,i]=(0,r.useState)("grid"),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[h,x]=(0,r.useState)(null),[g,f]=(0,r.useState)(null),[y,b]=(0,r.useState)(null),[v,w]=(0,r.useState)("library"),[N,j]=(0,r.useState)(null),[k,C]=(0,r.useState)(null),[S,E]=(0,r.useState)(null),[T,A]=(0,r.useState)(null),{folders:R,loading:I,createFolder:P,updateFolder:_,deleteFolder:O}=qi(),{notebooks:D,loading:L,createNotebook:M,updateNotebook:F,deleteNotebook:z}=Yi(),{notes:B,loading:U,createNote:V,updateNote:H,deleteNote:W}=$s(),{showNotification:G}=Mi(),q=I||L||U,Y=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),", ").concat(parseInt(t[2],16),", ").concat(parseInt(t[3],16)):"59, 130, 246"},X=(Y(t),async e=>{if(window.confirm("Are you sure you want to delete this log entry? This action cannot be undone."))try{await W(e),G("Log entry deleted successfully!","success")}catch(t){console.error("Failed to delete note:",t),G("Failed to delete log entry. Please try again.","error")}}),K=async e=>{if(window.confirm("Are you sure you want to delete this collection? All associated notes will become unorganized."))try{console.log("Deleting notebook with ID:",e),await z(e),G("Collection deleted successfully!","success")}catch(t){console.error("Failed to delete notebook:",t),console.error("Error details:",t.message),G("Failed to delete collection. Please try again.","error")}},$=e=>{b(e),c(!0)},Q=async e=>{try{console.log("Archiving log entry:",{editingNote:y,noteData:e}),y?(console.log("Updating log entry with ID:",y.id),await H(y.id,e),console.log("Log entry updated successfully")):(console.log("Creating new log entry"),await V(e),console.log("Log entry archived successfully")),b(null),c(!1)}catch(t){console.error("Failed to archive log entry:",t),alert("Failed to archive log entry. Please try again.")}},Z=e=>{x(e),u(!0)},J=e=>{j(e),w("folder")},ee=e=>{C(e),w("notebook")},te=()=>{w("library"),j(null),C(null),b(null),f(null),x(null),c(!1),m(!1),u(!1)},ne=e=>{b(e),c(!0),w("library")},re=e=>{f(e),m(!0)},oe=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{console.log("handleNotebookSave called with:",{idOrData:e,notebookData:t,editingNotebook:g}),g&&t?(console.log("Updating notebook with folderId:",t.folderId),await F(e,t)):(console.log("Creating notebook with folderId:",e.folderId),await M(e)),f(null),m(!1)}catch(r){var n;console.error("Failed to save collection:",r),console.error("Error details:",(null===(n=r.response)||void 0===n?void 0:n.data)||r.message)}};if((0,r.useEffect)(()=>{"allNotes"===(null===n||void 0===n?void 0:n.view)?w("allNotes"):"folder"===(null===n||void 0===n?void 0:n.view)&&null!==n&&void 0!==n&&n.selectedFolder&&(w("folder"),j(n.selectedFolder))},[n]),q)return(0,Os.jsx)("div",{className:"library-tab-container p-6",children:(0,Os.jsxs)("div",{className:"text-center py-8 font-mono text-white",children:[(0,Os.jsx)(Ss.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"inline-block mb-4",children:(0,Os.jsx)(si,{size:32,style:{color:t}})}),(0,Os.jsx)("div",{children:"Accessing intelligence archives..."})]})});if("folder"===v&&N){const e=D.filter(e=>e.folderId===N.id),t=e.map(e=>e.id),n=B.filter(e=>e.folderId===N.id||e.notebookId&&t.includes(e.notebookId));return(0,Os.jsx)("div",{className:"library-tab-container p-6",children:(0,Os.jsx)(gl,{folder:N,onBack:te,onCreateNote:()=>{b(null),E(N.id),c(!0)},onEditNote:$,onDeleteNote:X,onDeleteNotebook:K,onOpenNotebook:ee,onCreateNotebook:()=>{f(null),E(N.id),m(!0)},onEditNotebook:re,folders:R,notebooks:e,notes:n})})}return"notebook"===v&&k?(0,Os.jsx)("div",{className:"library-tab-container p-6",children:(0,Os.jsx)(fl,{notebook:k,onBack:te,onCreateNote:Q,onEditNote:Q,onDeleteNotebook:K,folders:R,notebooks:D,notes:B})}):"allNotes"===v?(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsx)(Gi,{notes:B,onBack:()=>w("library"),onCreateNote:()=>{b(null),c(!0)},onEditNote:ne,folders:R,notebooks:D}),(0,Os.jsx)(Vi,{isOpen:l,onClose:()=>{c(!1),b(null),E(null),A(null)},onSave:Q,onDelete:X,folders:R,notebooks:D,existingNote:y,defaultFolderId:S,defaultNotebookId:T})]}):"allNotebooks"===v?(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsx)(yl,{notebooks:D,onBack:()=>w("library"),onCreateNotebook:()=>{f(null),m(!0)},onEditNotebook:re,onDeleteNotebook:K,onOpenNotebook:ee,folders:R}),(0,Os.jsx)(pl,{isOpen:p,onClose:()=>{m(!1),f(null),E(null)},onSave:oe,existingNotebook:g,folders:R,defaultFolderId:S})]}):"allFolders"===v?(0,Os.jsx)("div",{className:"library-tab-container",children:(0,Os.jsx)(bl,{folders:R,onBack:te,onCreateFolder:()=>u(!0),onEditFolder:Z,onOpenFolder:J})}):(0,Os.jsxs)("div",{className:"library-tab-container p-6",children:[(0,Os.jsx)("div",{className:"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-4 mb-6 relative",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("h1",{className:"font-mono font-bold text-white text-3xl",children:"STORAGE VAULT"}),(0,Os.jsx)("p",{className:"font-mono text-xs text-gray-400",children:"Storage for logs, collections, and archives"})]}),(0,Os.jsxs)("div",{className:"flex items-center gap-4 text-xs font-mono text-gray-400",children:[(0,Os.jsxs)("span",{children:[(0,Os.jsx)("span",{className:"text-white font-bold",children:R.length})," ARCHIVES"]}),(0,Os.jsxs)("span",{children:[(0,Os.jsx)("span",{className:"text-white font-bold",children:D.length})," COLLECTIONS"]}),(0,Os.jsxs)("span",{children:[(0,Os.jsx)("span",{className:"text-white font-bold",children:B.length})," LOGS"]})]})]}),(0,Os.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-3",children:[(0,Os.jsxs)("button",{onClick:()=>c(!0),className:"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs",children:[(0,Os.jsx)(oi,{size:14}),(0,Os.jsx)("span",{children:"NEW LOG"})]}),(0,Os.jsxs)("button",{onClick:()=>m(!0),className:"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs",children:[(0,Os.jsx)(Ri,{size:14}),(0,Os.jsx)("span",{children:"NEW COLLECTION"})]}),(0,Os.jsxs)("button",{onClick:()=>u(!0),className:"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs",children:[(0,Os.jsx)(Ai,{size:14}),(0,Os.jsx)("span",{children:"NEW ARCHIVE"})]}),(0,Os.jsxs)("button",{onClick:async()=>{try{console.log("Exporting all intelligence from Archive Terminal");const e=await fetch("/api/notes/export/all?username=user");if(!e.ok)throw new Error("Export failed");{const t=await e.blob(),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download="intelligence_export_".concat((new Date).toISOString().slice(0,10),".md"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(n),document.body.removeChild(r),G("Intelligence data exported successfully! Check your Downloads folder.","success")}}catch(e){console.error("Export error:",e),G("Export failed. Please try again later.","error")}},className:"bg-black border border-white px-3 py-2 font-mono font-bold text-white hover:scale-105 transition-transform flex items-center justify-center gap-2 text-xs",children:[(0,Os.jsx)(dl,{size:14}),(0,Os.jsx)("span",{children:"EXPORT ALL"})]}),(0,Os.jsxs)("div",{className:"relative",children:[(0,Os.jsx)(Hi,{size:14,className:"absolute left-2 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Os.jsx)("input",{value:o,onChange:e=>a(e.target.value),placeholder:"Search...",className:"w-full pl-8 pr-3 py-2 bg-black border border-gray-600 text-white font-mono text-xs focus:border-white transition-colors"})]})]})]})}),(0,Os.jsxs)("div",{className:"space-y-8",children:[(0,Os.jsx)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("h3",{className:"text-xl font-mono font-bold text-white flex items-center",children:["ARCHIVES (",R.length,")"]}),(0,Os.jsx)("p",{className:"text-sm font-mono text-gray-400",children:"Archive systems for organizing multiple collections and logs."})]}),(0,Os.jsx)("button",{onClick:()=>{w("allFolders")},className:"bg-black border-2 border-white px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden text-white hover:scale-105",children:(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(gi,{size:16}),(0,Os.jsx)("span",{children:"VIEW ALL"})]})})]}),R.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:R.slice(0,4).map(e=>{const n=e.colorCode||"#FFD700",r=n.startsWith("#")?"".concat(parseInt(n.slice(1,3),16),", ").concat(parseInt(n.slice(3,5),16),", ").concat(parseInt(n.slice(5,7),16)):"251, 191, 36",o=(e=>{const t=B.filter(t=>t.folderId===e),n=D.filter(t=>t.folderId===e);return t.length+n.length})(e.id);return(0,Os.jsxs)(Ss.div,{className:"bg-gray-900 border-2 p-4 cursor-pointer group relative transition-all duration-300",style:{borderColor:n,boxShadow:"0 0 10px rgba(".concat(r,", 0.4), 2px 2px 0px 0px rgba(0,0,0,1)")},whileHover:{scale:1.02,y:-2,boxShadow:"0 0 20px rgba(".concat(r,", 0.6), 2px 2px 0px 0px rgba(0,0,0,1)")},whileTap:{scale:.98},onClick:()=>J(e),children:[(0,Os.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Os.jsx)(Ai,{size:24,style:{color:n}}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400 bg-gray-700 px-2 py-1 border border-gray-600",children:[o," ITEMS"]})]}),(0,Os.jsx)("h4",{className:"font-mono font-bold text-white mb-2 truncate",children:e.name}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:e.description||"Access archive contents"}),(0,Os.jsxs)("div",{className:"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),Z(e)},className:"p-1.5 bg-gray-700 hover:bg-gray-600 rounded transition-colors",style:{color:t},title:"Modify archive",children:(0,Os.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Os.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2-2v-7"}),(0,Os.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this archive? All associated notes and collections will become unorganized."))try{await O(e),G("Archive deleted successfully!","success")}catch(t){console.error("Failed to delete folder:",t),G("Failed to delete archive. Please try again.","error")}})(e.id)},className:"p-1.5 bg-gray-700 hover:bg-red-600 rounded text-gray-400 hover:text-red-400 transition-colors",title:"Delete archive",children:(0,Os.jsx)(_s,{size:14})})]})]},e.id)})}):(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-6 text-center",children:[(0,Os.jsx)(Ai,{size:48,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono",children:"No archive systems found. Initialize first archive storage."})]})]})}),(0,Os.jsx)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("h3",{className:"text-xl font-mono font-bold text-white flex items-center",children:["COLLECTIONS (",D.length,")"]}),(0,Os.jsx)("p",{className:"text-sm font-mono text-gray-400",children:"Organized collections for grouping logs by subject, project or types."})]}),(0,Os.jsx)("button",{onClick:()=>{w("allNotebooks")},className:"bg-black border-2 border-white px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden text-white hover:scale-105",children:(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(gi,{size:16}),(0,Os.jsx)("span",{children:"VIEW ALL"})]})})]}),D.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:D.slice(0,4).map(e=>{const n=e.colorCode||"#60A5FA",r=n.startsWith("#")?"".concat(parseInt(n.slice(1,3),16),", ").concat(parseInt(n.slice(3,5),16),", ").concat(parseInt(n.slice(5,7),16)):"96, 165, 250",o=(a=e.id,B.filter(e=>e.notebookId===a).length);var a;return(0,Os.jsxs)(Ss.div,{className:"bg-gray-900 border-2 p-4 cursor-pointer group relative transition-all duration-300",style:{borderColor:n,boxShadow:"0 0 10px rgba(".concat(r,", 0.4), 2px 2px 0px 0px rgba(0,0,0,1)")},whileHover:{scale:1.02,y:-2,boxShadow:"0 0 20px rgba(".concat(r,", 0.6), 2px 2px 0px 0px rgba(0,0,0,1)")},whileTap:{scale:.98},onClick:()=>ee(e),children:[(0,Os.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Os.jsx)(Ri,{size:24,style:{color:n}}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400 bg-gray-700 px-2 py-1 border border-gray-600",children:[o," LOGS"]})]}),(0,Os.jsx)("h4",{className:"font-mono font-bold text-white mb-2 truncate",children:e.name}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:e.description||"Access collection database"}),(0,Os.jsxs)("div",{className:"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),re(e)},className:"p-1.5 bg-gray-700 hover:bg-gray-600 rounded transition-colors",style:{color:t},title:"Edit collection",children:(0,Os.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Os.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2-2v-7"}),(0,Os.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),K(e.id)},className:"p-1.5 bg-gray-700 hover:bg-red-600 rounded text-gray-400 hover:text-red-400 transition-colors",title:"Delete collection",children:(0,Os.jsx)(_s,{size:14})})]})]},e.id)})}):(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-6 text-center",children:[(0,Os.jsx)(Ri,{size:48,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono",children:"No log collections found. Deploy first collection to begin."})]})]})}),(0,Os.jsx)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative",style:{backgroundColor:"rgba(0, 0, 0, 0.4)"},children:(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("h3",{className:"text-xl font-mono font-bold text-white flex items-center",children:["LOG ENTRIES (",B.length,")"]}),(0,Os.jsx)("p",{className:"text-sm font-mono text-gray-400",children:"Individual log entries for storing notes, thoughts and ideas."})]}),(0,Os.jsx)("button",{onClick:()=>{w("allNotes")},className:"bg-black border-2 border-white px-4 py-2 relative group cursor-pointer transition-all duration-300 font-mono font-bold overflow-hidden text-white hover:scale-105",children:(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(gi,{size:16}),(0,Os.jsx)("span",{children:"VIEW ALL"})]})})]}),B.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:B.slice().sort((e,t)=>new Date(t.createdAt||t.updatedAt||0)-new Date(e.createdAt||e.updatedAt||0)).slice(0,4).map((e,n)=>{const r=e.color||"#4ADE80",o=Y(r),a=Array.isArray(e.tags)?e.tags:e.tags?e.tags.split(",").map(e=>e.trim()):[];return(0,Os.jsxs)(Ss.div,{className:"bg-gray-900 border-2 p-4 cursor-pointer group relative transition-all duration-300",style:{borderColor:r,boxShadow:"0 0 10px rgba(".concat(o,", 0.4), 2px 2px 0px 0px rgba(0,0,0,1)")},whileHover:{scale:1.02,y:-2,boxShadow:"0 0 20px rgba(".concat(o,", 0.6), 2px 2px 0px 0px rgba(0,0,0,1)")},whileTap:{scale:.98},onClick:()=>$(e),children:[(0,Os.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Os.jsx)(oi,{size:24,style:{color:r}}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400 bg-gray-700 px-2 py-1 border border-gray-600",children:[a.length," TAGS"]})]}),(0,Os.jsx)("h4",{className:"font-mono font-bold text-white mb-2 truncate",title:e.title,children:e.title}),(0,Os.jsx)("p",{className:"text-xs text-gray-400 mb-3",children:e.content&&e.content.length>100?"".concat(e.content.substring(0,100),"..."):e.content}),a.length>0&&(0,Os.jsxs)("div",{className:"flex flex-wrap gap-1 mb-2",children:[a.slice(0,2).map((e,n)=>(0,Os.jsx)("span",{className:"px-2 py-1 bg-gray-700 border border-gray-600 text-xs font-mono",style:{color:t},children:e},n)),a.length>2&&(0,Os.jsxs)("span",{className:"text-xs text-gray-500 font-mono px-2 py-1",children:["+",a.length-2]})]}),(0,Os.jsx)("div",{className:"text-xs text-gray-400 mb-2",children:new Date(e.createdAt||e.updatedAt).toLocaleDateString()}),(0,Os.jsxs)("div",{className:"absolute bottom-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),$(e)},className:"p-1.5 bg-gray-700 hover:bg-gray-600 rounded transition-colors",style:{color:t},title:"Edit log entry",children:(0,Os.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,Os.jsx)("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2-2v-7"}),(0,Os.jsx)("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),(0,Os.jsx)("button",{onClick:t=>{t.stopPropagation(),X(e.id)},className:"p-1.5 bg-gray-700 hover:bg-red-600 rounded text-gray-400 hover:text-red-400 transition-colors",title:"Delete log entry",children:(0,Os.jsx)(_s,{size:14})})]})]},e.id)})}):(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-6 text-center",children:[(0,Os.jsx)(oi,{size:48,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono",children:"No log entries found. Initialize first player log to begin."})]})]})})]}),(0,Os.jsx)(Vi,{isOpen:l,onClose:()=>{c(!1),b(null),E(null),A(null)},onSave:Q,onDelete:X,folders:R,notebooks:D,existingNote:y,defaultFolderId:S,defaultNotebookId:T}),(0,Os.jsx)(ul,{isOpen:d,onClose:()=>{u(!1),x(null)},onSave:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{h&&t?await _(e,t):await P(e),x(null)}catch(n){console.error("Failed to save archive:",n)}},existingFolder:h}),(0,Os.jsx)(pl,{isOpen:p,onClose:()=>{m(!1),f(null),E(null)},onSave:oe,existingNotebook:g,folders:R,defaultFolderId:S})]})},wl=As("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),Nl=As("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),jl=As("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),kl=As("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Cl=As("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Sl=As("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),El=e=>{const[t,n]=(0,r.useState)(null),[o,a]=(0,r.useState)(0),[s,i]=(0,r.useState)(!1),[l,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(null),[m,h]=(0,r.useState)(0),[x,g]=(0,r.useState)(!1),[f,y]=(0,r.useState)(null),b=(0,r.useRef)(null);(0,r.useEffect)(()=>(s&&!l&&o>0?b.current=setInterval(()=>{a(e=>e<=1?(w(),0):e-1)},1e3):clearInterval(b.current),()=>clearInterval(b.current)),[s,l,o]);const v=()=>{i(!1),d(!1);const e=Math.ceil((60*t-o)/60);if(e>0){const t=c(c({},f),{},{endTime:new Date,timeSpent:e,completed:!1,notes:"Session stopped manually after ".concat(e," minutes")});y(t),h(e),g(!0)}else N()},w=()=>{console.log("\u2705 Timer completed naturally"),i(!1),d(!1);const e=c(c({},f),{},{endTime:new Date,timeSpent:t,completed:!0,notes:"Completed ".concat(t,"-minute focus session")});y(e),h(t),g(!0)},N=()=>{n(null),a(0),i(!1),d(!1),p(null),h(0),y(null),g(!1),clearInterval(b.current)};return{duration:t,timeRemaining:o,isRunning:s,isPaused:l,isActive:null!==t,totalTimeSpent:m,progress:t&&o>=0?(60*t-o)/(60*t)*100:0,showSavePrompt:x,sessionData:f,startTimer:t=>{console.log("\ud83c\udfae Starting ".concat(t,"-minute focus session"));const r=60*t;n(t),a(r),p(new Date),i(!0),d(!1),h(0);const o=Date.now();y({sessionId:o,ownerUsername:e,startTime:new Date,duration:t})},pauseTimer:()=>{console.log("\u23f8\ufe0f Timer paused"),d(!0)},resumeTimer:()=>{console.log("\u25b6\ufe0f Timer resumed"),d(!1)},stopTimer:()=>{console.log("\ud83d\uded1 Timer stopped manually"),v()},saveSession:async t=>{try{console.log("\ud83d\udcbe Saving ".concat(m," minutes to category: ").concat(t));const n={sessionId:f.sessionId,ownerUsername:e,timeSpent:m,date:(new Date).toISOString().split("T")[0],startTime:f.startTime.toISOString(),endTime:f.endTime.toISOString(),completed:f.completed,notes:f.notes,category:t,phase:"work",cycleNumber:1,isManualEntry:!1};if(!(await fetch("http://localhost:8080/api/focus/entries",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok)throw new Error("Failed to save entry");console.log("\u2705 Session saved successfully"),alert("\ud83c\udfae +".concat(m," XP added to ").concat(t,"!")),N()}catch(n){console.error("\u274c Error saving session:",n),alert("Failed to save session. Please try again.")}},discardSession:()=>{console.log("\ud83d\uddd1\ufe0f Session discarded"),N()},resetTimer:N,formatTime:()=>{const e=Math.floor(o/60),t=o%60;return"".concat(e.toString().padStart(2,"0"),":").concat(t.toString().padStart(2,"0"))},setShowSavePrompt:g}},Tl=e=>{let{progress:t,size:n=200,strokeWidth:r=12,color:o="#8B5CF6",backgroundColor:a="#374151",children:s}=e;const i=(n-r)/2,l=2*i*Math.PI,c=l-t/100*l;return(0,Os.jsxs)("div",{className:"relative inline-flex items-center justify-center",children:[(0,Os.jsxs)("svg",{className:"transform -rotate-90",width:n,height:n,children:[(0,Os.jsx)("circle",{cx:n/2,cy:n/2,r:i,stroke:a,strokeWidth:r,fill:"transparent",className:"opacity-30"}),(0,Os.jsx)("circle",{cx:n/2,cy:n/2,r:i,stroke:o,strokeWidth:r,fill:"transparent",strokeDasharray:l,strokeDashoffset:c,strokeLinecap:"round",className:"transition-all duration-1000 ease-out",style:{filter:"drop-shadow(0 0 8px ".concat(o,"40)")}}),(0,Os.jsx)("circle",{cx:n/2,cy:n/2,r:i,stroke:o,strokeWidth:r/2,fill:"transparent",strokeDasharray:l,strokeDashoffset:c,strokeLinecap:"round",className:"opacity-50 transition-all duration-1000 ease-out",style:{filter:"blur(2px)"}})]}),(0,Os.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:s})]})},Al=As("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Rl=As("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Il=As("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Pl=(e,t)=>{const n=new Date,r=n.toDateString(),o=Ol(n),a=new Date(n.getFullYear(),n.getMonth(),1),s=e.length,i=e.reduce((e,t)=>e+t.timeSpent,0),l=Math.max(...e.map(e=>e.timeSpent),0),c={};e.forEach(e=>{c[e.timeSpent]=(c[e.timeSpent]||0)+1});const d={},u={};e.forEach(e=>{d[e.category]=(d[e.category]||0)+1,u[e.category]=(u[e.category]||0)+e.timeSpent});const p={};e.forEach(e=>{const t=new Date(e.createdAt).getHours();p[t]=(p[t]||0)+1});const m=_l(e),h=e.filter(e=>new Date(e.createdAt).toDateString()===r).length,x=e.filter(e=>new Date(e.createdAt)>=o).length,g=e.filter(e=>new Date(e.createdAt)>=a).length,f=e.filter(e=>e.timeSpent>=90).length,y=e.filter(e=>e.timeSpent>=5&&e.timeSpent<=15).length;return{totalSessions:s,totalFocusTime:i,maxSessionDuration:l,sessionsByDuration:c,categorySessions:d,categoryTime:u,sessionsByTime:p,focusStreak:m,todaySessions:h,weekSessions:x,monthSessions:g,sessionsOver90Min:f,breakSessions:y,uniqueCategories:Object.keys(d).length}},_l=e=>{if(0===e.length)return 0;const t=[...new Set(e.map(e=>new Date(e.createdAt).toDateString()))].sort();let n=1,r=1;for(let o=1;o<t.length;o++){const e=new Date(t[o-1]);1===(new Date(t[o])-e)/864e5?(r++,n=Math.max(n,r)):r=1}return n},Ol=e=>{const t=new Date(e),n=t.getDay(),r=t.getDate()-n;return new Date(t.setDate(r))},Dl=e=>{console.log("\ud83c\udfc6 Achievement Unlocked: ".concat(e.name,"!"))},Ll=e=>{let{isOpen:t,onSave:n,onDiscard:o,timeSpent:a,sessionType:s="session",username:i="user"}=e;const[l,d]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[m,h]=(0,r.useState)(!1),[x,g]=(0,r.useState)([]);(0,r.useEffect)(()=>{t&&(async()=>{const e=[{id:"scholar",name:"Scholar",iconName:"BookOpen",color:"#FF1493",xp:0},{id:"profession",name:"Profession",iconName:"Briefcase",color:"#00FFFF",xp:0},{id:"artisan",name:"Artisan",iconName:"Palette",color:"#8A2BE2",xp:0},{id:"scribe",name:"Scribe",iconName:"PenTool",color:"#FF6347",xp:0},{id:"programming",name:"Programming",iconName:"Code",color:"#00FF7F",xp:0},{id:"literacy",name:"Literacy",iconName:"Target",color:"#FFD700",xp:0},{id:"strategist",name:"Strategist",iconName:"Calendar",color:"#FF4500",xp:0},{id:"mindfulness",name:"Mindfulness",iconName:"Heart",color:"#40E0D0",xp:0},{id:"knowledge",name:"Knowledge",iconName:"Search",color:"#DA70D6",xp:0}],t=localStorage.getItem("focusCategories");t?g(JSON.parse(t)):(localStorage.setItem("focusCategories",JSON.stringify(e)),g(e))})()},[t,i]);if((0,r.useEffect)(()=>{t||(d(""),p(""),h(!1))},[t]),!t)return null;const f=x.find(e=>e.id===l);return(0,Os.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,Os.jsxs)(Ss.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"bg-gray-800 border-2 border-purple-500 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 w-full max-w-lg relative",style:{boxShadow:"0 0 20px rgba(139, 92, 246, 0.3), 8px 8px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-purple-700/20 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-purple-500 opacity-30 animate-pulse pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("div",{className:"text-center mb-6",children:[(0,Os.jsx)(ci,{size:32,className:"text-yellow-400 mx-auto mb-2"}),(0,Os.jsx)("h3",{className:"font-mono text-xl font-bold text-white mb-2",children:"partial"===s?"PARTIAL SESSION COMPLETE!":"SESSION COMPLETE!"}),(0,Os.jsxs)("p",{className:"font-mono text-purple-400 text-lg",children:["+",a," minutes earned"]}),(0,Os.jsx)("p",{className:"font-mono text-gray-400 text-sm mt-1",children:"Choose a category to gain XP or discard"})]}),(0,Os.jsxs)("div",{className:"mb-6",children:[(0,Os.jsx)("div",{className:"text-sm font-mono text-gray-300 mb-3",children:"SELECT CATEGORY:"}),(0,Os.jsx)("div",{className:"grid grid-cols-3 gap-2 mb-3",children:x.map(e=>{const t=(n=e.iconName||e.icon,{BookOpen:Ri,Briefcase:Al,Palette:xi,PenTool:Rl,Code:Si,Target:$i,Calendar:Ji,Heart:Il,Search:Hi,User:di}[n]||di);var n;return(0,Os.jsx)("button",{onClick:()=>{return t=e.id,d(t),h(!1),void p("");var t},className:"p-3 border-2 transition-all duration-200 font-mono text-xs ".concat(l===e.id?"border-purple-400 bg-purple-500 bg-opacity-20":"border-gray-600 hover:border-gray-500"),children:(0,Os.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,Os.jsx)(t,{size:16,style:{color:e.color}}),(0,Os.jsx)("span",{className:"text-white font-bold truncate w-full",children:e.name}),(0,Os.jsxs)("div",{className:"text-xs text-gray-400",children:[e.xp||0,"m XP"]})]})},e.id)})}),(0,Os.jsx)("button",{onClick:()=>{h(!0),d("custom")},className:"w-full p-3 border-2 transition-all duration-200 font-mono text-sm ".concat("custom"===l?"border-purple-400 bg-purple-500 bg-opacity-20":"border-gray-600 hover:border-gray-500"),children:(0,Os.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Os.jsx)(yi,{size:16,className:"text-gray-400"}),(0,Os.jsx)("span",{className:"text-gray-300",children:"Create New Category"})]})}),m&&(0,Os.jsx)(Ss.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"mt-3",children:(0,Os.jsx)("input",{type:"text",placeholder:"Enter category name...",value:u,onChange:e=>p(e.target.value),className:"w-full p-3 bg-gray-900 border border-gray-600 text-white font-mono text-sm focus:border-purple-400 focus:outline-none",autoFocus:!0})})]}),f&&(0,Os.jsx)(Ss.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-gray-900 border border-purple-500 p-3 mb-6",children:(0,Os.jsxs)("div",{className:"text-center font-mono",children:[(0,Os.jsx)("div",{className:"text-sm text-gray-400",children:"XP GAIN PREVIEW:"}),(0,Os.jsxs)("div",{className:"text-lg text-purple-400 font-bold",children:[f.name,": ",f.xp||0,"m \u2192 ",(f.xp||0)+a,"m"]}),(0,Os.jsxs)("div",{className:"text-xs text-green-400",children:["+",a," XP gained!"]})]})}),(0,Os.jsxs)("div",{className:"flex gap-3",children:[(0,Os.jsx)("button",{onClick:async()=>{let e=l;if("custom"===l&&u.trim()){const t={id:u.toLowerCase().replace(/\s+/g,"_"),name:u.trim(),iconName:"User",color:"#6B7280",xp:0,isCustom:!0},n=[...x,t];g(n),localStorage.setItem("focusCategories",JSON.stringify(n)),e=t.id}if(e&&"custom"!==e){const t=x.map(t=>t.id===e?c(c({},t),{},{xp:(t.xp||0)+a}):t);g(t),localStorage.setItem("focusCategories",JSON.stringify(t));const r=JSON.parse(localStorage.getItem("focusSessions")||"[]"),o={id:Date.now(),username:i,category:e,timeSpent:a,sessionType:s,createdAt:(new Date).toISOString(),date:(new Date).toDateString()};r.push(o),localStorage.setItem("focusSessions",JSON.stringify(r));const l=Pl(r,t),d=Ks.checkAchievements(l);d.length>0&&(console.log("\ud83c\udf89 Unlocked ".concat(d.length," achievement(s)!")),d.forEach(e=>{Dl(e)})),console.log("\ud83d\udcbe Saved ".concat(a," minutes to ").concat(e," category")),n(e)}},disabled:!l||"custom"===l&&!u.trim(),className:"flex-1 bg-gray-900 border-2 border-green-500 px-4 py-3 font-mono font-bold text-green-500 hover:bg-green-500 hover:bg-opacity-10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Os.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Os.jsx)(Is,{size:16}),(0,Os.jsxs)("span",{children:["SAVE +",a," XP"]})]})}),(0,Os.jsx)("button",{onClick:o,className:"flex-1 bg-gray-900 border-2 border-red-500 px-4 py-3 font-mono font-bold text-red-500 hover:bg-red-500 hover:bg-opacity-10 transition-colors",children:(0,Os.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,Os.jsx)(_s,{size:16}),(0,Os.jsx)("span",{children:"DISCARD"})]})})]})]})]})})},Ml=e=>{let{username:t="user",tabColor:n="#8B5CF6"}=e;const[o,a]=(0,r.useState)(null),[s,i]=(0,r.useState)(""),[l,c]=(0,r.useState)(!1),{duration:d,timeRemaining:u,isRunning:p,isPaused:m,isActive:h,totalTimeSpent:x,progress:g,showSavePrompt:f,startTimer:y,pauseTimer:b,resumeTimer:v,stopTimer:w,saveSession:N,discardSession:j,formatTime:k,setShowSavePrompt:C}=El(t),S=(e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),", ").concat(parseInt(t[2],16),", ").concat(parseInt(t[3],16)):"139, 92, 246"})(n),E=[{id:"pomodoro",name:"POMODORO",description:"25min + 5min break",duration:25,icon:$i,color:"#EF4444",gradient:"from-red-500 to-red-600"},{id:"deep-work",name:"DEEP WORK",description:"90min focused work",duration:90,icon:wl,color:"#8B5CF6",gradient:"from-purple-500 to-purple-600"},{id:"quick-focus",name:"QUICK FOCUS",description:"15min sprint",duration:15,icon:Nl,color:"#F59E0B",gradient:"from-yellow-500 to-orange-500"},{id:"micro-break",name:"MICRO BREAK",description:"5min recharge",duration:5,icon:jl,color:"#10B981",gradient:"from-green-500 to-emerald-500"},{id:"study-block",name:"STUDY BLOCK",description:"45min learning",duration:45,icon:Ri,color:"#3B82F6",gradient:"from-blue-500 to-blue-600"},{id:"code-session",name:"CODE SESSION",description:"60min programming",duration:60,icon:Si,color:"#06B6D4",gradient:"from-cyan-500 to-teal-500"}],T=e=>{"custom"===e?(c(!0),a("custom")):(a(e),c(!1))},A=h?m?{text:"PAUSED",color:"#F59E0B",icon:kl}:p?{text:"GRINDING SKILLS",color:n,icon:Cl}:{text:"READY",color:"#6B7280",icon:ii}:{text:"READY TO START",color:"#6B7280",icon:ii},R=A.icon;return(0,Os.jsxs)("div",{className:"focus-tab-container p-6",children:[(0,Os.jsxs)("div",{className:"mb-8",children:[(0,Os.jsxs)("h1",{className:"font-mono text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,Os.jsx)("div",{className:"w-6 h-6 border border-gray-600",style:{backgroundColor:n}}),"GRIND TERMINAL"]}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono text-sm",children:"Focus timer to level up your skills and keep you on track."})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-8 relative mb-6",style:{borderColor:n,boxShadow:"0 0 20px rgba(".concat(S,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 animate-pulse pointer-events-none",style:{borderColor:n}}),(0,Os.jsxs)("div",{className:"relative z-10 text-center",children:[(0,Os.jsx)("div",{className:"mb-8",children:(0,Os.jsx)(Tl,{progress:g,size:220,strokeWidth:16,color:n,backgroundColor:"#374151",children:(0,Os.jsxs)("div",{className:"text-center",children:[(0,Os.jsx)("div",{className:"text-4xl font-mono font-bold text-white mb-2",children:h?k():"00:00"}),d&&(0,Os.jsxs)("div",{className:"text-sm font-mono text-gray-400",children:["/ ",d," min"]})]})})}),(0,Os.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm font-mono mb-6",children:[(0,Os.jsx)(R,{size:16,style:{color:A.color}}),(0,Os.jsx)("span",{style:{color:A.color},children:A.text})]}),!h&&(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6",children:[(0,Os.jsx)("div",{className:"text-sm font-mono text-gray-300 mb-4",children:"SELECT DURATION:"}),(0,Os.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[[25,90].map(e=>(0,Os.jsxs)("button",{onClick:()=>T(e),className:"p-4 border-2 transition-all duration-200 font-mono ".concat(o===e?"border-purple-400 bg-purple-500 bg-opacity-20":"border-gray-600 hover:border-gray-500"),children:[(0,Os.jsxs)("div",{className:"text-white font-bold",children:[e," MIN"]}),(0,Os.jsx)("div",{className:"text-xs text-gray-400",children:25===e?"Quick Focus":"Deep Work"})]},e)),(0,Os.jsxs)("button",{onClick:()=>T("custom"),className:"p-4 border-2 transition-all duration-200 font-mono ".concat("custom"===o?"border-purple-400 bg-purple-500 bg-opacity-20":"border-gray-600 hover:border-gray-500"),children:[(0,Os.jsx)("div",{className:"text-white font-bold",children:"CUSTOM"}),(0,Os.jsx)("div",{className:"text-xs text-gray-400",children:"Set Time"})]})]}),l&&(0,Os.jsx)(Ss.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},className:"mb-4",children:(0,Os.jsx)("input",{type:"number",placeholder:"Enter minutes...",value:s,onChange:e=>i(e.target.value),className:"w-full p-3 bg-gray-900 border border-gray-600 text-white font-mono text-center focus:border-purple-400 focus:outline-none",min:"1",max:"240"})})]}),(0,Os.jsx)("div",{className:"flex items-center justify-center gap-4",children:h?(0,Os.jsxs)("div",{className:"flex gap-3",children:[(0,Os.jsx)("button",{onClick:m?v:b,className:"bg-gray-900 border-2 px-6 py-3 relative group cursor-pointer transition-all duration-300 font-mono font-bold",style:{borderColor:n,color:n,boxShadow:"0 0 5px rgba(".concat(S,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[m?(0,Os.jsx)(Cl,{size:16}):(0,Os.jsx)(kl,{size:16}),(0,Os.jsx)("span",{children:m?"RESUME":"PAUSE"})]})}),(0,Os.jsx)("button",{onClick:w,className:"bg-gray-900 border-2 border-red-500 px-6 py-3 relative group cursor-pointer transition-all duration-300 font-mono font-bold text-red-500 hover:bg-red-500 hover:bg-opacity-10",children:(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(Sl,{size:16}),(0,Os.jsx)("span",{children:"STOP"})]})})]}):(0,Os.jsxs)("button",{onClick:()=>{let e=o;if("custom"===o){const t=parseInt(s);if(!(t&&t>0))return void alert("Please enter a valid duration");e=t}e&&(y(e),a(null),i(""),c(!1))},disabled:!o,className:"bg-gray-900 border-2 px-8 py-4 relative group cursor-pointer transition-all duration-300 font-mono font-bold disabled:opacity-50 disabled:cursor-not-allowed",style:{borderColor:n,color:n,boxShadow:"0 0 5px rgba(".concat(S,", 0.2), 2px 2px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(Cl,{size:20}),(0,Os.jsx)("span",{children:"START GRINDING"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity",style:{backgroundColor:n}})]})})]})]}),!h&&(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-6 relative",style:{borderColor:n,boxShadow:"0 0 20px rgba(".concat(S,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 animate-pulse pointer-events-none",style:{borderColor:n}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white mb-6 flex items-center gap-2",children:[(0,Os.jsx)(Nl,{size:20,style:{color:n}}),"QUICK GRIND TEMPLATES"]}),(0,Os.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(e=>{const t=e.icon;return(0,Os.jsxs)(Ss.button,{onClick:()=>(e=>{a(e.duration),c(!1)})(e),whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gray-900 border-2 p-4 relative overflow-hidden transition-all duration-300 hover:shadow-lg group ".concat(o===e.duration?"border-purple-400 bg-purple-500 bg-opacity-20":"border-gray-600 hover:border-gray-500"),style:{boxShadow:o===e.duration?"0 0 15px rgba(139, 92, 246, 0.3), 2px 2px 0px 0px rgba(0,0,0,1)":"2px 2px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-300 bg-gradient-to-br ".concat(e.gradient)}),(0,Os.jsxs)("div",{className:"relative z-10 text-left",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Os.jsx)("div",{className:"w-10 h-10 border-2 border-gray-600 flex items-center justify-center group-hover:border-opacity-80 transition-colors",style:{backgroundColor:"".concat(e.color,"20"),borderColor:o===e.duration?e.color:"#4B5563"},children:(0,Os.jsx)(t,{size:20,style:{color:e.color}})}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"font-mono font-bold text-white text-sm",children:e.name}),(0,Os.jsx)("div",{className:"text-xs text-gray-400 font-mono",children:e.description})]})]}),(0,Os.jsx)("div",{className:"text-right",children:(0,Os.jsxs)("div",{className:"inline-block px-2 py-1 text-xs font-mono font-bold border",style:{color:e.color,borderColor:o===e.duration?e.color:"#4B5563",backgroundColor:o===e.duration?"".concat(e.color,"20"):"transparent"},children:[e.duration," MIN"]})})]}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:e.color}})]},e.id)})}),(0,Os.jsx)("div",{className:"mt-6 text-center",children:(0,Os.jsx)("div",{className:"text-sm font-mono text-gray-400",children:"Click a template to select it, then hit START GRINDING"})})]})]}),(0,Os.jsx)(Ll,{isOpen:f,onSave:e=>{N(e),C(!1)},onDiscard:()=>{j(),C(!1)},timeSpent:Math.floor(x/60),sessionType:d&&u<=0?"session":"partial",username:t})]})},Fl=As("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),zl=As("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Bl=As("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Ul=As("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Vl=As("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Hl=As("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Wl=As("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Gl=e=>{let{achievement:t,size:n="medium",isUnlocked:o=!1,onClick:a,showProgress:s=!1}=e;const[i,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),u=o||t.unlockedAt,p=!u&&s&&(t.progress||0)>0;(0,r.useEffect)(()=>{if(!u)return;const e=setInterval(()=>{d(!0),setTimeout(()=>d(!1),2e3)},3e4);return()=>clearInterval(e)},[u]);const m=(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"common":return{color:"#06B6D4",bgColor:"rgba(6, 182, 212, 0.15)",shadowColor:"rgba(6, 182, 212, 0.6)",lockedColor:"#0A4A56",lockedBgColor:"rgba(6, 182, 212, 0.05)",name:"COMMON"};case"uncommon":return{color:"#EC4899",bgColor:"rgba(236, 72, 153, 0.15)",shadowColor:"rgba(236, 72, 153, 0.6)",lockedColor:"#5A1E3D",lockedBgColor:"rgba(236, 72, 153, 0.05)",name:"UNCOMMON"};case"rare":return{color:"#8B5CF6",bgColor:"rgba(139, 92, 246, 0.15)",shadowColor:"rgba(139, 92, 246, 0.6)",lockedColor:"#3D2461",lockedBgColor:"rgba(139, 92, 246, 0.05)",name:"RARE"};case"legendary":return{color:"#FFCB2E",bgColor:"rgba(245, 158, 11, 0.15)",shadowColor:"rgba(245, 206, 11, 0.68)",lockedColor:"#5A3E0B",lockedBgColor:"rgba(245, 158, 11, 0.05)",name:"LEGENDARY"};default:return{color:"#6B7280",bgColor:"rgba(107, 114, 128, 0.15)",shadowColor:"rgba(107, 114, 128, 0.6)",lockedColor:"#374151",lockedBgColor:"rgba(107, 114, 128, 0.05)",name:"COMMON"}}})(t.tier),h=(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"common":return Fl;case"uncommon":return zl;case"rare":return Bl;case"legendary":return Ul;default:return ci}})(t.tier);return(0,Os.jsxs)(Ss.div,{className:"bg-black border-2 p-4 relative transition-all duration-300 hover:scale-105 cursor-pointer group overflow-hidden",style:{borderColor:u?m.color:p?m.lockedColor:"#4B5563",boxShadow:u?"0 0 20px ".concat(m.shadowColor,", 0 0 40px ").concat(m.color,"30, 2px 2px 0px 0px rgba(0,0,0,1)"):p?"0 0 8px ".concat(m.lockedColor,"40, 2px 2px 0px 0px rgba(0,0,0,1)"):"0 0 3px rgba(75, 85, 99, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},onClick:a,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-30",style:{background:u?"linear-gradient(135deg, ".concat(m.color,"40, ").concat(m.color,"20, ").concat(m.color,"60)"):p?"linear-gradient(135deg, ".concat(m.lockedColor,"40, ").concat(m.lockedColor,"20, ").concat(m.lockedColor,"60)"):"linear-gradient(135deg, rgba(75, 85, 99, 0.2), rgba(75, 85, 99, 0.1))"}}),u&&(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsx)(Ss.div,{initial:{x:"-200%",y:"-200%"},animate:{x:"300%",y:"300%"},transition:{duration:4,ease:"easeInOut",delay:2*Math.random()},className:"absolute pointer-events-none z-20 -skew-x-12",style:{top:"-60%",left:"-60%",width:"250%",height:"250%",background:"linear-gradient(45deg, transparent 0%, transparent 35%, rgba(255, 255, 255, 0.08) 50%, transparent 55%, transparent 100%)"}}),c&&(0,Os.jsx)(Ss.div,{initial:{x:"-200%",y:"-200%"},animate:{x:"300%",y:"300%"},transition:{duration:5,ease:"easeInOut"},className:"absolute pointer-events-none z-25 -skew-x-12",style:{top:"-60%",left:"-60%",width:"250%",height:"250%",background:"linear-gradient(45deg, transparent 0%, transparent 45%, rgba(255, 255, 255, 0.06) 50%, transparent 55%, transparent 100%)"}},"periodic-".concat(Date.now())),i&&(0,Os.jsx)(Ss.div,{initial:{x:"-200%",y:"-200%"},animate:{x:"300%",y:"300%"},transition:{duration:2.5,ease:"easeInOut"},className:"absolute pointer-events-none z-30 -skew-x-12",style:{top:"-60%",left:"-60%",width:"250%",height:"250%",background:"linear-gradient(45deg, transparent 0%, transparent 40%, ".concat(m.color,"25 50%, transparent 60%, transparent 100%)")}},"hover-".concat(Date.now()))]}),(0,Os.jsxs)("div",{className:"relative z-10 text-center",children:[(0,Os.jsx)("div",{className:"mb-3 flex justify-center",children:(0,Os.jsx)(Ss.div,{className:"w-12 h-12 rounded-full border-2 flex items-center justify-center relative overflow-hidden",style:{borderColor:u?m.color:p?m.lockedColor:"#6B7280",background:u?"radial-gradient(circle, ".concat(m.color,"40, ").concat(m.color,"20)"):p?"radial-gradient(circle, ".concat(m.lockedColor,"40, ").concat(m.lockedColor,"20)"):"radial-gradient(circle, #37414940, #37414920)",boxShadow:u?"0 0 25px ".concat(m.shadowColor,", inset 0 0 15px ").concat(m.color,"30"):p?"0 0 10px ".concat(m.lockedColor,"40, inset 0 0 8px ").concat(m.lockedColor,"20"):"none"},animate:p&&i?{borderColor:[m.lockedColor,m.color,m.lockedColor],boxShadow:["0 0 10px ".concat(m.lockedColor,"40, inset 0 0 8px ").concat(m.lockedColor,"20"),"0 0 20px ".concat(m.color,"60, inset 0 0 15px ").concat(m.color,"30"),"0 0 10px ".concat(m.lockedColor,"40, inset 0 0 8px ").concat(m.lockedColor,"20")]}:{},transition:p&&i?{duration:1.5,repeat:1/0,ease:"easeInOut"}:{},children:u?(0,Os.jsx)(h,{size:20,className:"text-white filter drop-shadow-lg",style:{color:"#ffffff",filter:"drop-shadow(0 0 8px ".concat(m.color,")")}}):p?(0,Os.jsx)(h,{size:20,className:"filter drop-shadow-lg",style:{color:m.lockedColor,filter:"drop-shadow(0 0 6px ".concat(m.lockedColor,")")}}):(0,Os.jsx)(Vl,{size:16,className:"text-gray-500"})})}),(0,Os.jsx)("h4",{className:"font-mono font-bold text-sm mb-2 ".concat(u?"text-white":p?"text-gray-300":"text-gray-500"),children:t.name}),(0,Os.jsx)("p",{className:"text-xs font-mono mb-3 ".concat(u?"text-gray-300":p?"text-gray-400":"text-gray-600"),children:t.description}),(0,Os.jsx)("div",{className:"flex justify-center",children:(0,Os.jsxs)(Ss.div,{className:"px-2 py-1 text-xs font-mono font-bold border flex items-center gap-1 relative overflow-hidden",style:{color:u?m.color:p?m.lockedColor:"#6B7280",borderColor:u?m.color:p?m.lockedColor:"#6B7280",backgroundColor:u?m.bgColor:p?m.lockedBgColor:"transparent",boxShadow:u?"0 0 10px ".concat(m.color,"30"):p?"0 0 5px ".concat(m.lockedColor,"20"):"none"},animate:p&&i?{borderColor:[m.lockedColor,m.color,m.lockedColor],boxShadow:["0 0 5px ".concat(m.lockedColor,"20"),"0 0 12px ".concat(m.color,"40"),"0 0 5px ".concat(m.lockedColor,"20")]}:{},transition:p&&i?{duration:1.5,repeat:1/0,ease:"easeInOut"}:{},children:[u&&i&&(0,Os.jsx)(Ss.div,{initial:{x:"-200%",y:"-100%"},animate:{x:"300%",y:"100%"},transition:{duration:2,ease:"easeInOut"},className:"absolute pointer-events-none -skew-x-12",style:{top:"-50%",left:"-60%",width:"250%",height:"200%",background:"linear-gradient(45deg, transparent 0%, transparent 45%, rgba(255, 255, 255, 0.25) 50%, transparent 55%, transparent 100%)"}},"rarity-hover-".concat(Date.now())),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center gap-1",children:[(0,Os.jsx)(h,{size:10}),m.name]})]})}),!u&&s&&(0,Os.jsxs)("div",{className:"mt-3",children:[(0,Os.jsx)("div",{className:"w-full bg-gray-700 h-1 border border-gray-600 rounded",children:(0,Os.jsx)("div",{className:"h-full rounded transition-all duration-500",style:{width:"".concat(Math.round(t.progressPercentage||0),"%"),background:"linear-gradient(to right, ".concat(m.lockedColor,", ").concat(m.color,"60)")}})}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400 mt-1",children:[Math.round(t.progressPercentage||0),"% Complete"]})]})]}),(u||p)&&(0,Os.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-300 rounded",style:{background:"radial-gradient(circle, ".concat(u?m.shadowColor:m.lockedColor,"60, transparent 70%)")}})]})};const ql=new class{constructor(){this.allAchievements=[],this.playerAchievements=[],this.playerStats={},this.loaded=!1}async loadData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user";try{const[t,n,r]=await Promise.all([ti.getAllAchievements(),ti.getPlayerAchievements(e),ti.getAchievementPlayerStats(e)]);return this.allAchievements=t,this.playerAchievements=n,this.playerStats=r,this.loaded=!0,console.log("\u2705 Backend achievement data loaded for",e),{achievements:t,playerAchievements:n,stats:r}}catch(t){throw console.error("\u274c Failed to load backend achievements:",t),t}}isUnlocked(e){const t=this.playerAchievements.find(t=>t.achievementId===e||t.id===e);return!0===(null===t||void 0===t?void 0:t.completed)}getAchievementProgress(e,t){const n=this.playerAchievements.find(t=>t.achievementId===e||t.id===e);if(null!==n&&void 0!==n&&n.completed)return 1;if(null!==n&&void 0!==n&&n.progressPercentage)return n.progressPercentage/100;const r=(null===n||void 0===n?void 0:n.progress)||0,o=(null===n||void 0===n?void 0:n.maxProgress)||100;return o>0?r/o:0}getUnlockedAchievements(){return this.playerAchievements.filter(e=>e.completed).map(e=>c(c({},e),{},{unlockedAt:e.unlockedAt}))}getLockedAchievements(){return this.allAchievements.filter(e=>!this.isUnlocked(e.id))}getInProgressAchievements(){console.log("\ud83d\udd0d DEBUG: Checking for in-progress achievements...");const e=this.playerAchievements.filter(e=>{const t=!e.completed,n=(e.progressPercentage||0)>0,r=(e.progressPercentage||0)<100;return console.log("\ud83d\udd0d Achievement ".concat(e.name,":"),{completed:e.completed,progressPercentage:e.progressPercentage,isNotCompleted:t,hasProgress:n,isNotFullyComplete:r,willInclude:t&&n&&r}),t&&n&&r});return console.log("\ud83d\udd0d Filtered in-progress achievements:",e.length),e.map(e=>c(c({},e),{},{progress:e.progressPercentage||0,currentProgress:e.progress||0,targetProgress:e.maxProgress||100,progressPercentage:e.progressPercentage||0}))}getStats(){const e=this.getUnlockedAchievements(),t=this.allAchievements.length;return{total:t,unlocked:e.length,percentage:t>0?Math.round(e.length/t*100):0,totalXP:this.playerStats.totalXp||0,byTier:{common:e.filter(e=>"common"===e.tier).length,uncommon:e.filter(e=>"uncommon"===e.tier).length,rare:e.filter(e=>"rare"===e.tier).length,legendary:e.filter(e=>"legendary"===e.tier).length}}}},Yl=r.memo(e=>{let{username:t="user",tabColor:n="#F59E0B"}=e;const[o,a]=(0,r.useState)("all"),[s,i]=(0,r.useState)({}),[l,d]=(0,r.useState)({}),[u,p]=(0,r.useState)(null),[m,h]=(0,r.useState)("rarity"),[x,g]=(0,r.useState)(!1),[f,y]=(0,r.useState)(!0);(0,r.useEffect)(()=>{b()},[t]);const b=(0,r.useCallback)(async()=>{y(!0);try{console.log("\ud83d\udd04 Loading achievement data for:",t),await ql.loadData(t);const e=ql.getStats();i(e),d({totalNotes:ql.playerStats.totalNotes||0,totalWords:ql.playerStats.totalWords||0,totalTasks:ql.playerStats.completedAchievements||0,totalSessions:ql.playerStats.totalSessions||0,totalFocusTime:ql.playerStats.totalFocusTime||0,totalXP:ql.playerStats.totalXp||0}),console.log("\ud83c\udfaf Achievement data loaded:",{stats:e,unlocked:ql.getUnlockedAchievements().length,inProgress:ql.getInProgressAchievements().length})}catch(e){console.error("Failed to load achievements:",e);const t=Ks.getStats();i(t)}finally{y(!1)}},[t]);(0,r.useEffect)(()=>{const e=()=>{console.log("\ud83c\udfaf Achievement update detected, reloading..."),b()};return window.addEventListener("achievementsUpdated",e),()=>{window.removeEventListener("achievementsUpdated",e)}},[b]);const v=(0,r.useMemo)(()=>(e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?"".concat(parseInt(t[1],16),", ").concat(parseInt(t[2],16),", ").concat(parseInt(t[3],16)):"245, 158, 11"})(n),[n]),w=(0,r.useCallback)(e=>({common:1,uncommon:2,rare:3,legendary:4}[null===e||void 0===e?void 0:e.toLowerCase()]||0),[]),N=(0,r.useCallback)((e,t)=>[...e].sort((e,n)=>{switch(t){case"rarity":return w(e.tier)-w(n.tier);case"progress":const t=ql.playerAchievements.find(t=>t.achievementId===e.id),r=ql.playerAchievements.find(e=>e.achievementId===n.id),o=((null===t||void 0===t?void 0:t.progress)||0)/100;return((null===r||void 0===r?void 0:r.progress)||0)/100-o;case"name":return e.name.localeCompare(n.name);default:return 0}}),[w]),j=(0,r.useMemo)(()=>ql.getUnlockedAchievements()||[],[s]),k=(0,r.useMemo)(()=>ql.getLockedAchievements()||[],[s]),C=(0,r.useMemo)(()=>ql.getInProgressAchievements()||[],[s]),S=(0,r.useMemo)(()=>"all"===o?j:j.filter(e=>e.tier===o),[j,o]),E=(0,r.useMemo)(()=>"all"===o?k:k.filter(e=>e.tier===o),[k,o]),T=(0,r.useMemo)(()=>({inProgressCount:C.length,lockedCount:k.length-C.length}),[C.length,k.length]),A=(0,r.useCallback)((e,t)=>{p(e)},[]),I=r.memo(e=>{var n,o;let{achievement:a,onClose:s}=e;const i=(0,r.useMemo)(()=>({common:{color:"#06B6D4",bgColor:"rgba(6, 182, 212, 0.15)",shadowColor:"rgba(6, 182, 212, 0.6)",name:"COMMON"},uncommon:{color:"#EC4899",bgColor:"rgba(236, 72, 153, 0.15)",shadowColor:"rgba(236, 72, 153, 0.6)",name:"UNCOMMON"},rare:{color:"#8B5CF6",bgColor:"rgba(139, 92, 246, 0.15)",shadowColor:"rgba(139, 92, 246, 0.6)",name:"RARE"},legendary:{color:"#FFCB2E",bgColor:"rgba(245, 158, 11, 0.15)",shadowColor:"rgba(245, 158, 11, 0.6)",name:"LEGENDARY"}}),[]),l=(0,r.useMemo)(()=>({common:Fl,uncommon:zl,rare:Bl,legendary:Ul}),[]),c=(0,r.useCallback)(()=>{if(null!==a&&void 0!==a&&a.unlockedAt){return new Date(a.unlockedAt).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}return"Achievement Date Unknown"},[null===a||void 0===a?void 0:a.unlockedAt]);if(!a)return null;const d=i[null===(n=a.tier)||void 0===n?void 0:n.toLowerCase()]||i.common,u=l[null===(o=a.tier)||void 0===o?void 0:o.toLowerCase()]||ci;return(0,Os.jsx)(Ss.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-80 z-50 flex justify-center p-4",style:{alignItems:"flex-start",paddingTop:"65vh"},onClick:s,children:(0,Os.jsxs)(Ss.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"tween",duration:.2},className:"bg-black border-2 p-8 relative max-w-2xl w-full overflow-hidden",style:{width:"600px",height:"auto",minHeight:"300px",borderColor:d.color,boxShadow:"0 0 40px ".concat(d.shadowColor,", 0 0 80px ").concat(d.color,"30, 2px 2px 0px 0px rgba(0,0,0,1)")},onClick:e=>e.stopPropagation(),children:[(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-30",style:{background:"linear-gradient(135deg, ".concat(d.color,"40, ").concat(d.color,"20, ").concat(d.color,"60)")}}),(0,Os.jsx)(Ss.div,{initial:{x:"-100%"},animate:{x:"200%"},transition:{duration:1.5,ease:"easeInOut",delay:.2},className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(90deg, transparent, ".concat(d.color,"40, transparent)"),width:"100%"}}),(0,Os.jsx)(Ss.button,{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors z-10",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,Os.jsx)(Rs,{size:24})}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center h-full",children:[(0,Os.jsx)("div",{className:"flex-shrink-0 mr-8",children:(0,Os.jsx)("div",{className:"w-24 h-24 rounded-full border-4 flex items-center justify-center relative overflow-hidden",style:{borderColor:d.color,background:"radial-gradient(circle, ".concat(d.color,"40, ").concat(d.color,"20)"),boxShadow:"0 0 40px ".concat(d.shadowColor,", inset 0 0 25px ").concat(d.color,"30")},children:(0,Os.jsx)(u,{size:40,className:"text-white filter drop-shadow-lg",style:{color:"#ffffff",filter:"drop-shadow(0 0 12px ".concat(d.color,")")}})})}),(0,Os.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Os.jsx)("h2",{className:"font-mono font-bold text-3xl text-white mb-3 leading-tight",children:a.name}),(0,Os.jsx)("p",{className:"text-gray-300 font-mono text-lg mb-4 leading-relaxed",children:a.description}),(0,Os.jsxs)("div",{className:"flex items-center justify-between gap-6",children:[(0,Os.jsxs)("div",{className:"px-4 py-2 text-base font-mono font-bold border-2 flex items-center gap-2",style:{color:d.color,borderColor:d.color,backgroundColor:d.bgColor,boxShadow:"0 0 15px ".concat(d.color,"40")},children:[(0,Os.jsx)(u,{size:16}),d.name]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border-2 px-4 py-2 flex items-center gap-3",style:{borderColor:d.color,boxShadow:"0 0 15px ".concat(d.color,"30")},children:[(0,Os.jsx)(Ji,{size:18,style:{color:d.color}}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"font-mono font-bold text-white text-xs",children:"DATE:"}),(0,Os.jsx)("div",{className:"font-mono text-sm",style:{color:d.color},children:c().split(",")[0]})]})]})]}),a.xpReward&&(0,Os.jsxs)("div",{className:"flex items-center gap-2 text-yellow-400 font-mono text-sm mt-4",children:[(0,Os.jsx)(Fl,{size:16}),(0,Os.jsxs)("span",{children:["+",a.xpReward," XP EARNED"]}),(0,Os.jsx)(Fl,{size:16})]})]})]}),(0,Os.jsx)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"absolute bottom-4 left-8 right-8 text-center",children:(0,Os.jsxs)("div",{className:"font-mono text-sm text-gray-400",children:["You've mastered this milestone. Keep going, ",t,"!"]})}),"legendary"===a.tier&&(0,Os.jsx)("div",{className:"absolute top-6 left-6 text-yellow-400 text-2xl",children:"\u2b50"})]})})}),P=r.memo(Gl);return f?(0,Os.jsx)("div",{className:"p-6 flex items-center justify-center",children:(0,Os.jsx)("div",{className:"font-mono text-white",children:"Loading achievements..."})}):(0,Os.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Os.jsxs)("div",{className:"mb-8 flex justify-between items-start",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("h1",{className:"font-mono text-3xl font-bold text-white mb-2 flex items-center gap-3",children:[(0,Os.jsx)("div",{className:"w-6 h-6 border border-gray-600",style:{backgroundColor:n}}),"ACHIEVEMENT SHOWCASE"]}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono text-sm",children:"View your badges and unlock achievements by completing logs and missions."})]}),(0,Os.jsxs)(Ss.button,{onClick:()=>g(!x),className:"bg-black border-2 px-4 py-2 font-mono font-bold transition-all duration-200 flex items-center gap-2",style:{borderColor:n,color:x?"#000":n,backgroundColor:x?n:"black",boxShadow:"0 0 10px rgba(".concat(v,", 0.3), 2px 2px 0px 0px rgba(0,0,0,1)")},whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,Os.jsx)(Vl,{size:16}),x?"SHOW MY BADGES":"VIEW LOCKED BADGES",(0,Os.jsx)(Ss.div,{animate:{rotate:x?180:0},transition:{duration:.2},children:(0,Os.jsx)(Hl,{size:16})})]})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] relative",style:{borderColor:n,boxShadow:"0 0 20px rgba(".concat(v,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 pointer-events-none",style:{borderColor:n}}),(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(".concat(v,", 0.15), rgba(").concat(v,", 0.2))")}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"border-b px-4 py-3",style:{borderColor:n,backgroundColor:"#1A0E26"},children:(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center",children:[(0,Os.jsx)(ci,{className:"mr-2",size:20,style:{color:n}}),"BADGE METRICS"]})}),(0,Os.jsx)("div",{className:"p-6",children:(0,Os.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Os.jsxs)("div",{className:"bg-black border text-center p-4 relative transition-all duration-200",style:{borderColor:"#4B5563",boxShadow:"0 0 3px rgba(34, 197, 94, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(34, 197, 94, 0.08), rgba(34, 197, 94, 0.12))"}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)(Pi,{size:20,className:"text-green-400 mx-auto mb-2"}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400 mb-1",children:"BADGES EARNED"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-green-400",children:j.length})]})]}),(0,Os.jsxs)("div",{className:"bg-black border text-center p-4 relative transition-all duration-200",style:{borderColor:"#4B5563",boxShadow:"0 0 3px rgba(59, 130, 246, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(59, 130, 246, 0.08), rgba(59, 130, 246, 0.12))"}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)($i,{size:20,className:"text-blue-400 mx-auto mb-2"}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400 mb-1",children:"BADGES IN PROGRESS"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-blue-400",children:T.inProgressCount})]})]}),(0,Os.jsxs)("div",{className:"bg-black border text-center p-4 relative transition-all duration-200",style:{borderColor:"#4B5563",boxShadow:"0 0 3px rgba(107, 114, 128, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(107, 114, 128, 0.08), rgba(107, 114, 128, 0.12))"}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)(Vl,{size:20,className:"text-gray-400 mx-auto mb-2"}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400 mb-1",children:"BADGES LOCKED"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-gray-400",children:T.lockedCount})]})]}),(0,Os.jsxs)("div",{className:"bg-black border text-center p-4 relative transition-all duration-200",style:{borderColor:"#4B5563",boxShadow:"0 0 3px rgba(251, 191, 36, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(251, 191, 36, 0.08), rgba(251, 191, 36, 0.12))"}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)(ci,{size:20,className:"text-yellow-400 mx-auto mb-2"}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400 mb-1",children:"COMPLETION RATE"}),(0,Os.jsxs)("div",{className:"text-2xl font-mono font-bold text-yellow-400",children:[Math.round(j.length/qs.length*100),"%"]})]})]})]})})]})]}),(0,Os.jsx)(R,{mode:"wait",children:x?(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] relative",style:{borderColor:n,boxShadow:"0 0 20px rgba(".concat(v,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 pointer-events-none",style:{borderColor:n}}),(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(".concat(v,", 0.15), rgba(").concat(v,", 0.2))")}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("div",{className:"border-b px-4 py-3 flex justify-between items-center",style:{borderColor:n,backgroundColor:"#1A0E26"},children:[(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center",children:[(0,Os.jsx)(Vl,{className:"mr-2",size:20,style:{color:n}}),"LOCKED ACHIEVEMENTS (",E.length,")"]}),(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)("span",{className:"text-sm font-mono text-gray-400",children:"SORT BY:"}),(0,Os.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"bg-black border font-mono text-sm px-2 py-1",style:{borderColor:n,color:n},children:[(0,Os.jsx)("option",{value:"rarity",children:"RARITY"}),(0,Os.jsx)("option",{value:"progress",children:"PROGRESS"}),(0,Os.jsx)("option",{value:"name",children:"NAME"})]})]})]}),(0,Os.jsx)("div",{className:"p-6",children:(0,Os.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:N(E,m).map((e,t)=>{const n=ql.playerAchievements.find(t=>t.achievementId===e.id),r=n?n.progress:0;return(0,Os.jsx)(P,{achievement:c(c({},e),{},{progress:r}),isUnlocked:!1,showProgress:r>0,onClick:()=>p(e)},e.id)})})})]})]},"locked-achievements"):(0,Os.jsxs)(Ss.div,{children:[(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.05},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] relative mb-6",style:{borderColor:n,boxShadow:"0 0 20px rgba(".concat(v,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 pointer-events-none",style:{borderColor:n}}),(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(".concat(v,", 0.15), rgba(").concat(v,", 0.2))")}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"border-b px-4 py-3",style:{borderColor:n,backgroundColor:"#1A0E26"},children:(0,Os.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center",children:[(0,Os.jsx)(zl,{className:"mr-2",size:20,style:{color:n}}),"JROC_182's BADGES"]}),(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)("span",{className:"text-sm font-mono text-gray-400",children:"FILTER BY RARITY:"}),(0,Os.jsx)("div",{className:"flex gap-1",children:["all","common","uncommon","rare","legendary"].map(e=>{const t=o===e,r=e=>{switch(e){case"common":return"#06B6D4";case"uncommon":return"#EC4899";case"rare":return"#8B5CF6";case"legendary":return"#F59E0B";default:return n}};return(0,Os.jsx)(Ss.button,{onClick:()=>a(e),className:"px-3 py-1 text-xs font-mono font-bold border transition-all duration-200",style:{borderColor:t?r(e):"#4B5563",backgroundColor:t?r(e):"transparent",color:t?"#000":r(e),boxShadow:t?"0 0 10px ".concat(r(e),"40"):"none"},whileHover:{scale:1.05},whileTap:{scale:.95},children:e.toUpperCase()},e)})})]})]})}),(0,Os.jsx)("div",{className:"p-6",children:S.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:S.map((e,t)=>(0,Os.jsx)("div",{onClick:t=>A(e,t),className:"cursor-pointer",children:(0,Os.jsx)(P,{achievement:e,isUnlocked:!0,onClick:()=>{}})},e.id))}):(0,Os.jsxs)("div",{className:"text-center py-8",children:[(0,Os.jsx)(ci,{size:48,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsx)("h3",{className:"font-mono text-lg font-bold text-white mb-2",children:"all"===o?"NO ACHIEVEMENTS DETECTED":"NO ".concat(o.toUpperCase()," ACHIEVEMENTS UNLOCKED")}),(0,Os.jsx)("p",{className:"text-gray-400 mb-4 font-mono",children:"all"===o?"Create mission logs to unlock achievements!":"Complete more activities to unlock ".concat(o," achievements!")})]})})]})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:.1},className:"bg-gray-800 border-2 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] relative",style:{borderColor:n,boxShadow:"0 0 20px rgba(".concat(v,", 0.3), 8px 8px 0px 0px rgba(0,0,0,1)")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-30 pointer-events-none",style:{borderColor:n}}),(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{background:"linear-gradient(to bottom right, rgba(".concat(v,", 0.15), rgba(").concat(v,", 0.2))")}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"border-b px-4 py-3",style:{borderColor:n,backgroundColor:"#1A0E26"},children:(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center",children:[(0,Os.jsx)(Wl,{className:"mr-2",size:20,style:{color:n}}),"BADGES IN PROGRESS (",T.inProgressCount,")"]})}),(0,Os.jsx)("div",{className:"p-6",children:C.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:C.map((e,t)=>(0,Os.jsx)(P,{achievement:e,isUnlocked:!1,showProgress:!0,onClick:()=>p(e)},e.id))}):(0,Os.jsxs)("div",{className:"text-center py-8",children:[(0,Os.jsx)($i,{size:48,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsx)("h3",{className:"font-mono text-lg font-bold text-white mb-2",children:"NO ACHIEVEMENTS IN PROGRESS"}),(0,Os.jsx)("p",{className:"text-gray-400 mb-4 font-mono",children:"Complete more activities to start making progress!"})]})})]})]})]},"main-achievements")}),(0,Os.jsx)(R,{children:u&&ql.isUnlocked(u.id)&&(0,Os.jsx)(I,{achievement:u,onClose:()=>p(null)})})]})}),Xl=Yl,Kl=n.p+"static/media/PixelPageJenn.95beff784662fdf09be9.PNG",$l=e=>{let{tasks:t,taskLists:n}=e;const[o,a]=(0,r.useState)({totalTasks:0,completedTasks:0,completionRate:0,streakDays:0,averageCompletionTime:0});(0,r.useEffect)(()=>{s()},[t,n]);const s=()=>{if(!t||0===t.length)return void a({totalTasks:0,completedTasks:0,completionRate:0,streakDays:0,averageCompletionTime:0});const e=t.length,n=t.filter(e=>e.completed).length,r=e>0?Math.round(n/e*100):0,o=i(n),s=n>0?Math.round(1+3*Math.random()):0;a({totalTasks:e,completedTasks:n,completionRate:r,streakDays:o,averageCompletionTime:s})},i=e=>0===e?0:1===e?1:e<=3?2:e<=7?3:e<=15?Math.floor(e/3):e<=30?Math.floor(e/2):Math.min(Math.floor(e/1.5),30);l=o.streakDays;var l;c=o.completionRate;var c;o.averageCompletionTime;return(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:[(0,Os.jsx)("span",{className:"text-pink-400 mr-2 text-xl",children:"\u2665"}),"MISSION STATS"]}),(0,Os.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-purple-600/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"TOTAL MISSIONS"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:o.totalTasks})]})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-purple-600/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"COMPLETION RATE"}),(0,Os.jsxs)("div",{className:"text-2xl font-mono font-bold text-white",children:[o.completionRate,"%"]})]})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-purple-600/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"MISSION STREAK"}),(0,Os.jsxs)("div",{className:"text-2xl font-mono font-bold text-white",children:[o.streakDays," days"]})]})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-purple-600/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"COMPLETION SPEED"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:o.averageCompletionTime>0?"".concat(o.averageCompletionTime," days"):"N/A"})]})]})]}),(0,Os.jsxs)("div",{className:"mt-6 flex flex-wrap gap-2",children:[o.streakDays>=7&&(0,Os.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-cyan-400 bg-opacity-20 border border-cyan-400",children:[(0,Os.jsx)(Wl,{size:12,className:"text-cyan-400"}),(0,Os.jsx)("span",{className:"text-xs font-mono text-cyan-400",children:"WEEK WARRIOR"})]}),o.completionRate>=90&&o.totalTasks>=5&&(0,Os.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-cyan-400 bg-opacity-20 border border-cyan-400",children:[(0,Os.jsx)($i,{size:12,className:"text-cyan-400"}),(0,Os.jsx)("span",{className:"text-xs font-mono text-cyan-400",children:"PERFECTIONIST"})]}),o.totalTasks>=25&&(0,Os.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-cyan-400 bg-opacity-20 border border-cyan-400",children:[(0,Os.jsx)(ai,{size:12,className:"text-cyan-400"}),(0,Os.jsx)("span",{className:"text-xs font-mono text-cyan-400",children:"QUEST MASTER"})]}),o.completedTasks>=50&&(0,Os.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-cyan-400 bg-opacity-20 border border-cyan-400",children:[(0,Os.jsx)(ai,{size:12,className:"text-cyan-400"}),(0,Os.jsx)("span",{className:"text-xs font-mono text-cyan-400",children:"TASK TERMINATOR"})]})]})]})},Ql=[{level:1,name:"PIXEL NOVICE",minXP:0,color:"#9CA3AF",icon:"\ud83c\udf31",description:"Just getting started"},{level:2,name:"DATA SEEKER",minXP:50,color:"#9CA3AF",icon:"\ud83d\udd0d",description:"Learning the ropes"},{level:3,name:"LOG KEEPER",minXP:150,color:"#10B981",icon:"\ud83d\udcdd",description:"Building good habits"},{level:4,name:"BYTE WARRIOR",minXP:300,color:"#10B981",icon:"\u2694\ufe0f",description:"Finding your rhythm"},{level:5,name:"CODE SCOUT",minXP:500,color:"#10B981",icon:"\ud83c\udfaf",description:"Consistent progress"},{level:6,name:"DIGITAL RANGER",minXP:750,color:"#3B82F6",icon:"\ud83c\udff9",description:"Steady advancement"},{level:7,name:"CYBER GUARDIAN",minXP:1050,color:"#3B82F6",icon:"\ud83d\udee1\ufe0f",description:"Reliable performer"},{level:8,name:"MATRIX EXPLORER",minXP:1400,color:"#3B82F6",icon:"\ud83d\uddfa\ufe0f",description:"Expanding horizons"},{level:9,name:"PIXEL KNIGHT",minXP:1800,color:"#8B5CF6",icon:"\ud83d\udde1\ufe0f",description:"Proven dedication"},{level:10,name:"DATA CHAMPION",minXP:2250,color:"#8B5CF6",icon:"\ud83c\udfc6",description:"Excellence achieved"},{level:11,name:"BYTE COMMANDER",minXP:2750,color:"#8B5CF6",icon:"\u2b50",description:"Leading by example"},{level:12,name:"LOGIC OVERLORD",minXP:3300,color:"#8B5CF6",icon:"\ud83d\udd2e",description:"Mastering complexity"},{level:13,name:"SYSTEM ARCHITECT",minXP:3900,color:"#F59E0B",icon:"\ud83c\udfd7\ufe0f",description:"Building greatness"},{level:14,name:"NEURAL HACKER",minXP:4550,color:"#F59E0B",icon:"\ud83e\udde0",description:"Exceptional insight"},{level:15,name:"QUANTUM ANALYST",minXP:5250,color:"#F59E0B",icon:"\u269b\ufe0f",description:"Transcending limits"},{level:16,name:"CYBER SAGE",minXP:6e3,color:"#DC2626",icon:"\ud83d\udd2f",description:"Wisdom incarnate"},{level:17,name:"MATRIX MASTER",minXP:6800,color:"#DC2626",icon:"\ud83d\udc51",description:"Legendary status"},{level:18,name:"DIGITAL EMPEROR",minXP:7650,color:"#DC2626",icon:"\ud83c\udfdb\ufe0f",description:"Ruling the realm"},{level:19,name:"DATA DEITY",minXP:8550,color:"#DC2626",icon:"\u26a1",description:"Divine mastery"},{level:20,name:"PIXEL OMNARCH",minXP:9500,color:"#DC2626",icon:"\u2666\ufe0f",description:"Ultimate achievement"}],Zl=e=>[...Ql].reverse().find(t=>e>=t.minXP)||Ql[0],Jl=e=>Ql.find(t=>t.level>e),ec=e=>{var t,n,o,a;let{player:s,notes:i=[],tasks:l=[],taskLists:c=[]}=e;const[d,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),h=Ks.getStats(),x=h.totalXP||(e=>{let t=0;for(const n of e){t+=10;const e=n.content?n.content.split(/\s+/).length:0;t+=Math.min(Math.floor(e/10),50);t+=5*(n.tagsString?n.tagsString.split(",").filter(e=>e.trim()):[]).length,n.title&&n.title.length>20&&(t+=5)}return t})(i),g=(e=>Math.floor(Math.sqrt(e/50))+1)(x),f=((e,t)=>{const n=Zl(t);return{current:n,next:Jl(n.level)}})(0,x),y=f.current.minXP,b=x-y,v=(f.next?f.next.minXP:y+1e3)-y,w=Math.floor(b/v*100),N=(f.current.name,f.next&&f.next.name,s||{username:"user",level:1,experience:0});return(0,Os.jsxs)("div",{className:"space-y-6",children:[(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-900 border border-purple-400 p-8 relative overflow-hidden",style:{boxShadow:"0 0 3px rgba(139, 92, 246, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400/15 to-purple-600/20 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute top-4 right-4 z-20",children:(0,Os.jsxs)("div",{className:"relative",children:[(0,Os.jsxs)("button",{onClick:()=>m(!p),className:"bg-gray-900 border border-pink-400 px-3 py-2 relative group cursor-pointer transition-all duration-300 hover:border-pink-300 hover:shadow-[0_0_8px_rgba(244,114,182,0.4)] font-mono font-bold text-pink-400 overflow-hidden flex items-center gap-2",style:{boxShadow:"0 0 3px rgba(244, 114, 182, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/8 to-pink-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center gap-2",children:[(0,Os.jsx)(xi,{size:14,className:"text-pink-400"}),(0,Os.jsx)("span",{className:"text-pink-400 text-xs",children:"PROFILE THEME"}),(0,Os.jsx)(Hl,{size:12,className:"text-pink-400 transition-transform duration-200 ".concat(p?"rotate-180":"")})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-pink-400 opacity-0 group-hover:opacity-5 transition-opacity"})]}),(0,Os.jsx)(R,{children:p&&(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full right-0 mt-2 bg-gray-900 border border-pink-400 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] min-w-[200px] z-30",style:{boxShadow:"0 0 10px rgba(244, 114, 182, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/8 to-pink-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 p-3",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-pink-400 font-bold mb-2",children:"CHOOSE THEME:"}),(0,Os.jsxs)("div",{className:"space-y-2",children:[(0,Os.jsx)("button",{className:"w-full text-left px-3 py-2 text-xs font-mono text-gray-400 hover:text-pink-400 hover:bg-gray-800 transition-colors border border-gray-600 hover:border-pink-400",children:"CYBER PINK HEARTS"}),(0,Os.jsx)("button",{className:"w-full text-left px-3 py-2 text-xs font-mono text-gray-400 hover:text-cyan-400 hover:bg-gray-800 transition-colors border border-gray-600 hover:border-cyan-400",children:"NEON CYAN DEFAULT"}),(0,Os.jsx)("button",{className:"w-full text-left px-3 py-2 text-xs font-mono text-gray-400 hover:text-purple-400 hover:bg-gray-800 transition-colors border border-gray-600 hover:border-purple-400",children:"RETRO GREEN TERMINAL"}),(0,Os.jsx)("button",{className:"w-full text-left px-3 py-2 text-xs font-mono text-gray-400 hover:text-indigo-400 hover:bg-gray-800 transition-colors border border-gray-600 hover:border-indigo-400",children:"DIGITAL RED MATRIX"})]})]})]})})]})}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-start gap-8 lg:gap-12",children:[(0,Os.jsxs)("div",{className:"flex-shrink-0",children:[(0,Os.jsxs)("div",{className:"w-32 h-32 lg:w-40 lg:h-40 border-2 border-purple-400 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] flex items-center justify-center relative overflow-hidden bg-gray-700",style:{boxShadow:"0 0 10px rgba(139, 92, 246, 0.3), 6px 6px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("img",{src:Kl,alt:"Pixel Profile Avatar",className:"w-full h-full object-cover relative z-10",style:{imageRendering:"pixelated",imageRendering:"-moz-crisp-edges",imageRendering:"crisp-edges"}}),(0,Os.jsx)("div",{className:"absolute inset-0 opacity-20 z-20 pointer-events-none",style:{background:"linear-gradient(\n                    90deg,\n                    transparent 0%,\n                    transparent 40%,\n                    rgba(255, 255, 255, 0.6) 45%,\n                    rgba(255, 255, 255, 0.6) 50%,\n                    rgba(255, 255, 255, 0.6) 55%,\n                    transparent 60%,\n                    transparent 100%\n                  )",animation:"shimmer-slide 5s ease-in-out infinite",backgroundSize:"200% 100%"}}),(0,Os.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center z-30",children:[g>=8&&(0,Os.jsx)(Ul,{size:20,className:"absolute -top-4 -right-3 text-yellow-400 drop-shadow-lg"}),g>=10&&(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsx)(Fl,{size:16,className:"absolute -top-2 -left-4 text-yellow-300 animate-pulse drop-shadow-lg"}),(0,Os.jsx)(Fl,{size:14,className:"absolute -bottom-2 -right-4 text-yellow-300 animate-pulse drop-shadow-lg",style:{animationDelay:"0.5s"}})]})]}),g>=5&&(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-purple-400 opacity-60 animate-pulse z-40"})]}),(0,Os.jsxs)("div",{className:"mt-4 relative",children:[(0,Os.jsxs)("div",{className:"bg-gray-900 border-2 border-pink-400 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] text-center px-4 py-2 relative overflow-hidden group",style:{boxShadow:"0 0 10px rgba(244, 114, 182, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-pink-400 to-transparent opacity-30 -skew-x-12 translate-x-[-100%] group-hover:translate-x-[200%] transition-transform duration-1000"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-300/20 via-transparent to-pink-500/20 animate-pulse"}),(0,Os.jsxs)("span",{className:"font-mono font-bold text-lg text-pink-400 relative z-10",children:["LVL ",g]})]}),(0,Os.jsxs)("div",{className:"mt-2 flex items-center justify-center gap-2 bg-gray-900 border border-gray-600 px-3 py-1 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)]",children:[(0,Os.jsx)("button",{onClick:()=>u(!0),className:"w-2 h-2 bg-green-400 rounded-full animate-pulse cursor-pointer hover:bg-green-300 transition-colors",style:{boxShadow:"0 0 6px rgba(34, 197, 94, 0.8)"},title:""}),(0,Os.jsx)("span",{className:"font-mono text-xs font-bold text-green-400",children:"ONLINE"})]})]})]}),(0,Os.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Os.jsxs)("div",{className:"mb-2",children:[(0,Os.jsx)("span",{className:"text-lg font-mono text-purple-400 block",children:"USERNAME:"}),(0,Os.jsx)("h2",{className:"text-3xl lg:text-4xl font-bold font-mono text-white break-words",children:N.username})]}),(0,Os.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[(0,Os.jsxs)("div",{className:"relative",children:[(0,Os.jsxs)("div",{className:"bg-gray-900 border-4 border-pink-400 shadow-[6px_6px_0px_0px_rgba(0,0,0,1)] px-5 py-3 relative overflow-hidden group",style:{boxShadow:"0 0 15px ".concat(f.current.color,"40, 6px 6px 0px 0px rgba(0,0,0,1)"),borderColor:f.current.color},children:[(0,Os.jsx)("div",{className:"absolute inset-0 opacity-25",style:{background:"\n                        repeating-linear-gradient(\n                          45deg,\n                          ".concat(f.current.color,",\n                          ").concat(f.current.color," 2px,\n                          transparent 2px,\n                          transparent 4px\n                        )\n                      ")}}),(0,Os.jsxs)("p",{className:"text-lg lg:text-xl font-mono font-bold relative z-10",style:{color:f.current.color},children:[f.current.icon," ",f.current.name]})]}),(0,Os.jsx)("div",{className:"absolute -top-3 -left-3",children:(0,Os.jsxs)("div",{className:"relative w-8 h-8",children:[(0,Os.jsx)("span",{className:"absolute top-0 left-2 text-white text-xl animate-pulse font-bold",children:"\u2726"}),(0,Os.jsx)("span",{className:"absolute top-2 left-5 text-lg animate-pulse font-bold",style:{color:f.current.color,animationDelay:"0.5s"},children:"\u2605"}),(0,Os.jsx)("span",{className:"absolute top-5 left-0 text-cyan-500 text-lg animate-pulse font-bold",style:{animationDelay:"1s"},children:"\u2727"})]})}),(0,Os.jsx)("div",{className:"absolute -top-3 -right-3",children:(0,Os.jsxs)("div",{className:"relative w-8 h-8",children:[(0,Os.jsx)("span",{className:"absolute top-0 right-2 text-white text-xl animate-pulse font-bold",children:"\u2726"}),(0,Os.jsx)("span",{className:"absolute top-2 right-5 text-lg animate-pulse font-bold",style:{color:f.current.color,animationDelay:"0.5s"},children:"\u2605"}),(0,Os.jsx)("span",{className:"absolute top-5 right-0 text-cyan-500 text-lg animate-pulse font-bold",style:{animationDelay:"1s"},children:"\u2727"})]})})]}),g>=10&&(0,Os.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-400 text-black px-3 py-1 border-2 border-gray-600 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] font-mono font-bold text-sm",children:"ELITE"}),g>=15&&(0,Os.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 border-2 border-gray-600 shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] font-mono font-bold text-sm",children:"LEGENDARY"})]}),(0,Os.jsx)("div",{className:"mb-6",children:(0,Os.jsxs)("span",{className:"font-mono text-gray-400 flex items-center text-sm",children:[(0,Os.jsx)($i,{size:14,className:"inline mr-1"}),"Next Rank:",(0,Os.jsx)("span",{className:"ml-1",style:{color:(null===(t=f.next)||void 0===t?void 0:t.color)||"#9CA3AF"},children:f.next?"".concat(f.next.icon," ").concat(f.next.name):"Max Rank Achieved!"})]})}),(0,Os.jsxs)("div",{className:"space-y-3",children:[(0,Os.jsxs)("div",{className:"relative",children:[(0,Os.jsxs)("div",{className:"w-full h-10 bg-gray-900 border-2 relative overflow-hidden",style:{clipPath:"polygon(0 0, 100% 0, calc(100% - 20px) 100%, 0 100%)",borderColor:f.current.color},children:[(0,Os.jsxs)(Ss.div,{initial:{width:0},animate:{width:"".concat(w,"%")},transition:{duration:2,ease:"easeOut"},className:"h-full relative",style:{background:"linear-gradient(90deg, ".concat(f.current.color,", ").concat((null===(n=f.next)||void 0===n?void 0:n.color)||f.current.color,")")},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-white to-transparent opacity-20",style:{animation:"pulse 2s ease-in-out infinite"}}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-30 -skew-x-12 animate-pulse"})]}),(0,Os.jsx)("div",{className:"absolute top-0 left-0 w-2 h-2 border-t-2 border-l-2",style:{borderColor:f.current.color}}),(0,Os.jsx)("div",{className:"absolute top-0 right-0 w-2 h-2 border-t-2 border-r-2",style:{borderColor:f.current.color}}),(0,Os.jsx)("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b-2 border-l-2",style:{borderColor:f.current.color}})]}),(0,Os.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,Os.jsxs)("span",{className:"text-sm font-mono font-bold text-white",style:{textShadow:"2px 2px 0px rgba(0,0,0,0.8)"},children:[w,"%"]})})]}),(0,Os.jsxs)("div",{className:"flex flex-wrap items-center justify-between text-sm gap-2",children:[(0,Os.jsxs)("span",{className:"text-base font-mono text-gray-300",children:[(0,Os.jsx)(Nl,{size:18,className:"inline mr-2 text-white"}),"Experience Points"]}),(0,Os.jsxs)("span",{className:"text-base font-mono text-white bg-gray-700 px-3 py-1 border border-gray-600",children:[b,"/",v," XP"]})]})]})]})]})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-900 border border-purple-400 p-6 relative overflow-hidden",style:{boxShadow:"0 0 3px rgba(139, 92, 246, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400/15 to-purple-600/20 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:[(0,Os.jsx)("span",{className:"text-pink-400 mr-2 text-xl",children:"\u2665"}),"LOG STATS"]}),(0,Os.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-purple-600/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"LOGS"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:i.length})]})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400/10 to-purple-500/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"TOTAL XP"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:x.toLocaleString()})]})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/10 to-purple-700/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"WORDS"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:i.reduce((e,t)=>e+(t.content?t.content.split(/\s+/).length:0),0).toLocaleString()})]})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-purple-800/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"STREAK"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:"7 days"})]})]})]})]})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gray-900 border border-purple-400 p-6 relative overflow-hidden",style:{boxShadow:"0 0 3px rgba(139, 92, 246, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400/15 to-purple-600/20 pointer-events-none"}),(0,Os.jsx)("div",{className:"relative z-10",children:(0,Os.jsx)($l,{tasks:l,taskLists:c})})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gray-900 border border-purple-400 p-6 relative overflow-hidden",style:{boxShadow:"0 0 3px rgba(139, 92, 246, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400/15 to-purple-600/20 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:[(0,Os.jsx)("span",{className:"text-pink-400 mr-2 text-xl",children:"\u2665"}),"ACHIEVEMENT STATS"]}),(0,Os.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-purple-600/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"UNLOCKED"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:h.unlocked||0})]})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-400/10 to-purple-500/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"COMPLETION"}),(0,Os.jsxs)("div",{className:"text-2xl font-mono font-bold text-white",children:[h.percentage||0,"%"]})]})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/10 to-purple-700/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"RARE"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:(null===(o=h.byTier)||void 0===o?void 0:o.rare)||0})]})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/10 to-purple-800/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"LEGENDARY"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:(null===(a=h.byTier)||void 0===a?void 0:a.legendary)||0})]})]})]})]})]}),(0,Os.jsx)(R,{children:d&&(0,Os.jsx)(Ss.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>u(!1),children:(0,Os.jsxs)(Ss.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-gray-800 border-2 border-cyan-400 shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] p-8 max-w-md mx-4 relative",style:{boxShadow:"0 0 20px rgba(147, 51, 234, 0.3), 8px 8px 0px 0px rgba(0,0,0,1)"},onClick:e=>e.stopPropagation(),children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-cyan-400 opacity-50 animate-pulse pointer-events-none"}),(0,Os.jsx)("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:(0,Os.jsx)(Rs,{size:20})}),(0,Os.jsxs)("div",{className:"text-center",children:[(0,Os.jsx)(Ss.div,{className:"mb-6",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:(0,Os.jsx)(ci,{size:64,className:"text-cyan-400 mx-auto"})}),(0,Os.jsx)("h2",{className:"text-2xl font-mono font-bold text-white mb-2",children:"EASTER EGG ACHIEVEMENTS"}),(0,Os.jsx)("p",{className:"text-cyan-400 font-mono text-sm mb-6",children:"You found the hidden easter egg level!"}),(0,Os.jsx)(Ss.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"bg-gray-900 border border-cyan-400 p-4 mb-6",children:(0,Os.jsx)("h3",{className:"text-xl font-mono font-bold text-cyan-400 mb-4",children:"COMING SOON"})}),(0,Os.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,Os.jsx)(Ss.div,{className:"w-2 h-2 bg-cyan-400 rounded-full",animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,delay:0}}),(0,Os.jsx)(Ss.div,{className:"w-2 h-2 bg-cyan-400 rounded-full",animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,delay:.5}}),(0,Os.jsx)(Ss.div,{className:"w-2 h-2 bg-cyan-400 rounded-full",animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,delay:1}})]})]})]})})}),(0,Os.jsx)("style",{jsx:!0,children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n        \n        @keyframes shimmer-slide {\n          0% {\n            background-position: -200% 0%;\n          }\n          100% {\n            background-position: 200% 0%;\n          }\n        }\n      "})]})},tc=e=>{let{username:t="user",tabColor:n="#A78BFA"}=e;const{player:o}=ni(),{notes:a}=$s(),{tasks:s,taskLists:i}=Qs(),[l,c]=(0,r.useState)({});(0,r.useEffect)(()=>{d()},[]);const d=()=>{const e=Ks.getStats(),t=e.totalXP,n=Zl(t),r=Jl(n.level);c({totalXP:t,currentRank:n,nextRank:r,achievementStats:e})};return(0,Os.jsxs)("div",{className:"p-6",children:[(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Os.jsx)("div",{className:"w-6 h-6 border border-gray-600",style:{backgroundColor:n}}),(0,Os.jsx)("h1",{className:"font-mono text-3xl font-bold text-white",children:"PLAYER PROFILE"})]}),(0,Os.jsx)("div",{className:"space-y-2",children:(0,Os.jsx)("p",{className:"text-gray-400 font-mono text-sm",children:"Your player rank, mission and log statistics."})})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-800 border-2 border-pink-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] p-6 relative overflow-hidden",style:{boxShadow:"0 0 15px rgba(236, 72, 153, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-500/15 to-pink-700/20 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-pink-500 opacity-30 animate-pulse pointer-events-none"}),(0,Os.jsx)("div",{className:"relative z-10",children:(0,Os.jsx)(ec,{player:o,notes:a,tasks:s,taskLists:i})})]}),(()=>{var e,t,r,o,a;return(0,Os.jsxs)("div",{className:"bg-gray-800 border-2 p-6 mb-6",style:{borderColor:n},children:[(0,Os.jsx)("h3",{className:"font-mono font-bold text-lg mb-4",style:{color:n},children:"RANK & EXPERIENCE"}),(0,Os.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,Os.jsx)("div",{className:"w-16 h-16 border-4 rounded-full flex items-center justify-center text-2xl",style:{borderColor:null===(e=l.currentRank)||void 0===e?void 0:e.color,backgroundColor:"".concat(null===(t=l.currentRank)||void 0===t?void 0:t.color,"20")},children:null===(r=l.currentRank)||void 0===r?void 0:r.icon}),(0,Os.jsxs)("div",{className:"flex-1",children:[(0,Os.jsx)("div",{className:"font-mono font-bold text-xl text-white",children:null===(o=l.currentRank)||void 0===o?void 0:o.name}),(0,Os.jsxs)("div",{className:"font-mono text-sm text-gray-400",children:["Level ",null===(a=l.currentRank)||void 0===a?void 0:a.level]}),(0,Os.jsxs)("div",{className:"font-mono text-sm",style:{color:n},children:[l.totalXP," XP Total"]})]})]}),l.nextRank&&(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("div",{className:"flex justify-between text-sm font-mono mb-2",children:[(0,Os.jsxs)("span",{className:"text-gray-400",children:["Progress to ",l.nextRank.name]}),(0,Os.jsxs)("span",{className:"text-gray-400",children:[l.totalXP-l.currentRank.minXP," / ",l.nextRank.minXP-l.currentRank.minXP]})]}),(0,Os.jsx)("div",{className:"w-full bg-gray-700 h-3 border border-gray-600",children:(0,Os.jsx)("div",{className:"h-full transition-all duration-500",style:{width:"".concat((l.totalXP-l.currentRank.minXP)/(l.nextRank.minXP-l.currentRank.minXP)*100,"%"),backgroundColor:l.nextRank.color}})})]})]})})()]})},nc=As("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),rc=e=>{let{tasks:t,taskLists:n,onTabChange:o}=e;const[a,s]=(0,r.useState)({totalTasks:0,completedTasks:0,overdueTasks:0,dueSoonTasks:0,completionRate:0,productivityTrend:"stable",topPriorities:[],projectProgress:[]});(0,r.useEffect)(()=>{i()},[t,n]);const i=()=>{if(!t||0===t.length)return void s({totalTasks:0,completedTasks:0,overdueTasks:0,dueSoonTasks:0,completionRate:0,productivityTrend:"stable",topPriorities:[],projectProgress:[]});console.log("Tasks data:",t);const e=new Date,r=new Date(e.getTime()-6048e5),o=t.length,a=t.filter(e=>e.completed).length,i=t.filter(t=>{if(t.completed||!t.dueDate)return!1;return new Date(t.dueDate)<e}).length,l=t.filter(e=>!e.completed&&"high"===e.priority).length,c=o>0?Math.round(a/o*100):0,d=t.filter(e=>e.completed&&e.updatedAt&&new Date(e.updatedAt)>=r).length,u=t.filter(e=>e.completed&&e.updatedAt&&new Date(e.updatedAt)>=new Date(r.getTime()-6048e5)&&new Date(e.updatedAt)<r).length;let p="stable";d>u?p="up":d<u&&(p="down");const m=t.filter(e=>!e.completed&&"high"===e.priority).slice(0,3),h=[];n&&n.length>0&&n.forEach(e=>{const n=t.filter(t=>t.taskListId===e.id),r=n.filter(e=>e.completed).length,o=n.length,a=o>0?Math.round(r/o*100):0;o>0&&h.push({name:e.name,color:e.color||"#6366F1",completed:r,total:o,progress:a})});const x=t.filter(e=>!e.taskListId),g=x.filter(e=>e.completed).length;x.length>0&&h.unshift({name:"General Missions",color:"#6366F1",completed:g,total:x.length,progress:Math.round(g/x.length*100)}),console.log("Calculated insights:",{totalTasks:o,completedTasks:a,overdueTasks:i,dueSoonTasks:l,topPriorities:m.length}),s({totalTasks:o,completedTasks:a,overdueTasks:i,dueSoonTasks:l,completionRate:c,productivityTrend:p,topPriorities:m,projectProgress:h})};return(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 border-2 border-indigo-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] p-6 relative space-y-6",style:{boxShadow:"0 0 15px rgba(99, 102, 241, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/15 to-indigo-700/20 pointer-events-none"}),(0,Os.jsxs)("div",{className:"flex items-center justify-between relative z-10",children:[(0,Os.jsxs)("h3",{className:"text-lg font-mono font-bold text-white flex items-center",children:[(0,Os.jsx)("div",{className:"w-4 h-4 bg-indigo-500 mr-2"}),"MISSION CONTROL CENTER"]}),(0,Os.jsxs)("button",{onClick:()=>o&&o("tasks"),className:"bg-gray-900 border border-indigo-400 px-4 py-2 relative group cursor-pointer transition-all duration-300 hover:border-indigo-300 hover:shadow-[0_0_8px_rgba(99,102,241,0.4)] font-mono font-bold text-indigo-400 overflow-hidden",style:{boxShadow:"0 0 3px rgba(99, 102, 241, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/8 to-indigo-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center gap-2",children:[(0,Os.jsx)(nc,{size:14,className:"text-indigo-400"}),(0,Os.jsx)("span",{className:"text-indigo-400 text-sm",children:"ACCESS MISSIONS"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-indigo-400 opacity-0 group-hover:opacity-5 transition-opacity"})]})]}),(0,Os.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 relative z-10",children:[(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/10 to-indigo-600/15 pointer-events-none"}),(0,Os.jsx)("div",{className:"relative z-10",children:(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-indigo-300 font-bold",children:"TOTAL MISSIONS"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:a.totalTasks})]}),(0,Os.jsx)($i,{className:"text-indigo-400",size:20})]})})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-400/10 to-indigo-500/15 pointer-events-none"}),(0,Os.jsx)("div",{className:"relative z-10",children:(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-indigo-300 font-bold",children:"SUCCESS RATE"}),(0,Os.jsxs)("div",{className:"text-2xl font-mono font-bold text-white",children:[a.completionRate,"%"]})]}),(e=>{switch(e){case"up":return(0,Os.jsx)(Wl,{className:"text-green-400",size:16});case"down":return(0,Os.jsx)(Wl,{className:"text-red-400 rotate-180",size:16});default:return(0,Os.jsx)(Wl,{className:"text-gray-400",size:16})}})(a.productivityTrend)]})})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/10 to-indigo-700/15 pointer-events-none"}),(0,Os.jsx)("div",{className:"relative z-10",children:(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-indigo-300 font-bold",children:"OVERDUE"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:a.overdueTasks})]}),(0,Os.jsx)(Oi,{className:"text-red-300",size:20})]})})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-4 relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/10 to-indigo-800/15 pointer-events-none"}),(0,Os.jsx)("div",{className:"relative z-10",children:(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-indigo-300 font-bold",children:"URGENT"}),(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold text-white",children:a.dueSoonTasks})]}),(0,Os.jsx)(Ki,{className:"text-yellow-300",size:20})]})})]})]}),a.topPriorities.length>0&&(0,Os.jsxs)("div",{className:"space-y-2 relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-indigo-400 font-bold",children:"CRITICAL PRIORITY MISSIONS:"}),(0,Os.jsx)("div",{className:"space-y-2",children:a.topPriorities.map((e,t)=>(0,Os.jsxs)("div",{className:"bg-gray-900 border border-indigo-400 p-3 relative overflow-hidden group transition-all duration-300 hover:border-indigo-300 hover:shadow-[0_0_8px_rgba(99,102,241,0.4)]",style:{boxShadow:"0 0 3px rgba(99, 102, 241, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/8 to-indigo-600/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-indigo-400 opacity-0 group-hover:opacity-5 transition-opacity"}),(0,Os.jsxs)("div",{className:"relative z-10 text-left",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Os.jsx)(Oi,{size:14,className:"text-red-400"}),(0,Os.jsx)("span",{className:"text-xs font-mono text-indigo-300 font-bold",children:"HIGH PRIORITY"})]}),(0,Os.jsx)("div",{className:"text-sm font-mono text-white font-bold",children:e.title}),e.dueDate&&(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]},e.id))})]}),a.projectProgress.length>0&&(0,Os.jsxs)("div",{className:"space-y-2 relative z-10",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-indigo-400 font-bold",children:"OPERATION PROGRESS:"}),(0,Os.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:a.projectProgress.slice(0,4).map((e,t)=>(0,Os.jsxs)("div",{className:"bg-gray-900 border border-indigo-400 p-3 relative overflow-hidden group transition-all duration-300 hover:border-indigo-300 hover:shadow-[0_0_8px_rgba(99,102,241,0.4)]",style:{boxShadow:"0 0 3px rgba(99, 102, 241, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500/8 to-indigo-600/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-indigo-400 opacity-0 group-hover:opacity-5 transition-opacity"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between text-sm mb-2",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)("div",{className:"w-3 h-3 border border-gray-600",style:{backgroundColor:e.color}}),(0,Os.jsx)("span",{className:"font-mono text-white truncate",children:e.name})]}),(0,Os.jsxs)("span",{className:"font-mono text-indigo-300 text-xs",children:[e.progress,"%"]})]}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400 mb-2",children:[e.completed,"/",e.total," complete"]}),(0,Os.jsx)("div",{className:"w-full bg-gray-700 h-2 border border-gray-600",children:(0,Os.jsx)("div",{className:"h-full transition-all duration-700 ease-out",style:{width:"".concat(e.progress,"%"),backgroundColor:e.color}})})]})]},t))})]})]})},oc=e=>{let{notes:t=[],compact:n=!1,onTabChange:r}=e;const o=(e=>{let t=0;for(const n of e){t+=10;const e=n.content?n.content.split(/\s+/).length:0;t+=Math.min(Math.floor(e/10),50);t+=5*(n.tagsString?n.tagsString.split(",").filter(e=>e.trim()):[]).length,n.title&&n.title.length>20&&(t+=5)}return t})(t),a=(e=>Math.floor(Math.sqrt(e/50))+1)(o),s=50*Math.pow(a-1,2),i=o-s,l=50*Math.pow(a,2)-s,c=Math.floor(i/l*100),d=(e=>{switch(e){case 1:return"Novice Scribe";case 2:return"Apprentice Writer";case 3:return"Skilled Chronicler";case 4:return"Expert Documentarian";case 5:return"Master Archivist";case 6:return"Elite Wordsmith";case 7:return"Distinguished Author";case 8:return"Legendary Scribe";case 9:return"Mythical Chronicler";case 10:return"Grandmaster of Words";default:return e<15?"Ascended Writer":"Transcendent Scribe"}})(a+1),u=t.filter(e=>{const t=new Date(e.createdAt||e.updatedAt),n=new Date;return n.setDate(n.getDate()-7),t>=n}).length,p=t.filter(e=>(e.tagsString||e.tags||"").trim().length>0).length,m=[{id:"level-up",title:"RANK UP",description:"Reach Level ".concat(a+1,' to unlock "').concat(d,'"'),progress:c,current:i,target:l,unit:"XP",color:"bg-cyan-400",icon:Ul},{id:"weekly-notes",title:"CONTENT CREATOR",description:"Create 5 more notes this week",progress:Math.min(u/5*100,100),current:u,target:5,unit:"notes",color:"bg-cyan-400",icon:$i},{id:"tag-organizer",title:"ORGANIZER",description:"Use tags in 10 different notes",progress:Math.min(p/10*100,100),current:p,target:10,unit:"notes with tags",color:"bg-cyan-400",icon:Nl}].filter(e=>e.progress<100),h=n?m.slice(0,2):m;return n?(0,Os.jsxs)("div",{className:"space-y-3",children:[h.map(e=>{const t=e.icon;return(0,Os.jsxs)("div",{className:"bg-gray-900 border border-violet-400 p-3 relative overflow-hidden group transition-all duration-300 hover:border-violet-300 hover:shadow-[0_0_8px_rgba(99,102,241,0.4)]",style:{boxShadow:"0 0 3px rgba(99, 102, 241, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-violet-500/8 to-violet-600/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-violet-400 opacity-0 group-hover:opacity-5 transition-opacity"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Os.jsx)(t,{size:14,className:"text-violet-400"}),(0,Os.jsx)("div",{className:"font-mono font-bold text-violet-400 text-sm",children:e.title}),(0,Os.jsxs)("div",{className:"ml-auto text-violet-400 font-mono text-xs",children:[e.progress,"%"]})]}),(0,Os.jsx)("div",{className:"w-full bg-gray-700 h-2 border border-gray-600 mb-1",children:(0,Os.jsx)("div",{className:"h-full ".concat(e.color),style:{width:"".concat(e.progress,"%")}})}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400",children:[e.current,"/",e.target," ",e.unit]})]})]},e.id)}),0===m.length&&(0,Os.jsxs)("div",{className:"text-center py-4",children:[(0,Os.jsx)(Ul,{size:32,className:"text-violet-400 mx-auto mb-2"}),(0,Os.jsx)("div",{className:"text-sm font-mono text-violet-400",children:"All missions complete!"})]}),(0,Os.jsxs)("button",{onClick:()=>r&&r("achievements"),className:"w-full bg-gray-900 border border-violet-400 px-4 py-3 relative group cursor-pointer transition-all duration-300 hover:border-violet-300 hover:shadow-[0_0_8px_rgba(99,102,241,0.4)] font-mono font-bold text-violet-400 overflow-hidden",style:{boxShadow:"0 0 3px rgba(99, 102, 241, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/8 to-violet-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center justify-center gap-2",children:[(0,Os.jsx)(nc,{size:16,className:"text-violet-400"}),(0,Os.jsx)("span",{className:"text-violet-400",children:"ACCESS ALL ACHIEVEMENTS"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-violet-400 opacity-0 group-hover:opacity-5 transition-opacity"})]})]}):(0,Os.jsx)("div",{className:"space-y-4",children:h.map(e=>{const t=e.icon;return(0,Os.jsxs)("div",{className:"bg-gray-900 border border-cyan-400 p-5 relative",style:{boxShadow:"0 0 5px rgba(34, 211, 238, 0.2), 2px 2px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[(0,Os.jsx)(t,{size:20,className:"text-cyan-400 mt-1"}),(0,Os.jsxs)("div",{className:"flex-1",children:[(0,Os.jsx)("div",{className:"font-mono font-bold text-cyan-400 text-lg",children:e.title}),(0,Os.jsx)("div",{className:"text-sm font-mono text-gray-300",children:e.description})]}),(0,Os.jsx)("div",{className:"text-right",children:(0,Os.jsxs)("div",{className:"text-cyan-400 font-mono font-bold",children:[e.progress,"%"]})})]}),(0,Os.jsx)("div",{className:"w-full bg-gray-700 h-3 border border-gray-600 mb-2",children:(0,Os.jsx)("div",{className:"h-full ".concat(e.color," transition-all duration-700"),style:{width:"".concat(e.progress,"%")}})}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400",children:[e.current,"/",e.target," ",e.unit,e.current<e.target&&" (".concat(e.target-e.current," needed)")]}),(0,Os.jsx)("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-purple-400"})]},e.id)})})},ac=e=>{const[t,n]=(0,r.useState)([]),[o,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)(null),l=(0,r.useCallback)(async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e){a(!0),i(null);try{const r=await ti.getFocusSessions(e,t);n(r)}catch(r){i(r.message),console.error("Error loading focus sessions:",r)}finally{a(!1)}}},[e]),d=(0,r.useCallback)(e=>t.find(t=>t.id===e),[t]),u=(0,r.useCallback)(()=>t.filter(e=>e.isActive),[t]),p=(0,r.useCallback)(e=>t.filter(t=>t.category===e),[t]);return(0,r.useEffect)(()=>{e&&l()},[e,l]),{sessions:t,loading:o,error:s,loadSessions:l,createSession:async t=>{a(!0),i(null);try{const r=await ti.createFocusSession(c(c({},t),{},{ownerUsername:e}));return n(e=>[r,...e]),r}catch(r){throw i(r.message),console.error("Error creating focus session:",r),r}finally{a(!1)}},updateSession:async(e,t)=>{a(!0),i(null);try{const r=await ti.updateFocusSession(e,t);return n(t=>t.map(t=>t.id===e?r:t)),r}catch(r){throw i(r.message),console.error("Error updating focus session:",r),r}finally{a(!1)}},deleteSession:async e=>{a(!0),i(null);try{return await ti.deleteFocusSession(e),n(t=>t.map(t=>t.id===e?c(c({},t),{},{isActive:!1}):t)),!0}catch(t){throw i(t.message),console.error("Error deleting focus session:",t),t}finally{a(!1)}},getSession:d,getActiveSessions:u,getSessionsByCategory:p,refreshSessions:l}},sc=e=>{let{username:t,className:n=""}=e;const[o,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)(null),{sessions:l,loading:c,createSession:d,getActiveSessions:u}=ac(t),{activeSession:p,timeRemaining:m,isRunning:h,isPaused:x,currentPhase:g,currentCycle:f,startSession:y,stopSession:b,togglePause:v,formatTime:w,progress:N}=El(t),j=u();return c?(0,Os.jsx)("div",{className:"focus-timer-loading",children:(0,Os.jsx)("div",{className:"text-xs font-mono text-purple-400",children:"\u23f3 LOADING FOCUS PROTOCOLS..."})}):(0,Os.jsx)("div",{className:"focus-timer-dashboard ".concat(n),children:p?(0,Os.jsxs)("div",{className:"timer-active",children:[(0,Os.jsxs)("div",{className:"mb-3",children:[(0,Os.jsx)("div",{className:"text-sm font-mono text-purple-300 font-bold",children:p.name}),(0,Os.jsxs)("div",{className:"flex justify-between text-xs font-mono text-purple-400",children:[(0,Os.jsx)("span",{children:"work"===g?"\u26a1 FOCUS MODE":"break"===g?"\u2615 BREAK TIME":"\ud83c\udf1f LONG BREAK"}),(0,Os.jsxs)("span",{children:["CYCLE ",f,"/",p.cycles]})]})]}),(0,Os.jsx)("div",{className:"relative mb-4",children:(0,Os.jsxs)("div",{className:"text-center",children:[(0,Os.jsx)("div",{className:"text-3xl font-mono font-bold text-purple-200 mb-2",children:w()}),(0,Os.jsx)("div",{className:"w-full bg-gray-700 h-2 rounded-full overflow-hidden",children:(0,Os.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-400 transition-all duration-300 ease-out",style:{width:"".concat(N,"%")}})})]})}),(0,Os.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Os.jsxs)("button",{onClick:v,className:"bg-gray-900 border border-purple-500 p-2 relative group cursor-pointer transition-all duration-300 hover:border-purple-400 hover:shadow-[0_0_8px_rgba(147,51,234,0.4)] font-mono text-xs font-bold overflow-hidden",style:{boxShadow:"0 0 3px rgba(147, 51, 234, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/8 to-purple-700/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"relative z-10 text-purple-300 group-hover:text-purple-200 transition-colors",children:x?"\u25b6\ufe0f RESUME":"\u23f8\ufe0f PAUSE"})]}),(0,Os.jsxs)("button",{onClick:b,className:"bg-gray-900 border border-red-500 p-2 relative group cursor-pointer transition-all duration-300 hover:border-red-400 hover:shadow-[0_0_8px_rgba(239,68,68,0.4)] font-mono text-xs font-bold overflow-hidden",style:{boxShadow:"0 0 3px rgba(239, 68, 68, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-red-600/8 to-red-700/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"relative z-10 text-red-400 group-hover:text-red-300 transition-colors",children:"\ud83d\uded1 ABORT"})]})]}),x&&(0,Os.jsx)("div",{className:"absolute inset-0 bg-gray-800/90 flex items-center justify-center",children:(0,Os.jsx)("div",{className:"text-sm font-mono text-purple-400 font-bold",children:"\u23f8\ufe0f PROTOCOL PAUSED"})})]}):(0,Os.jsxs)("div",{className:"timer-idle",children:[(0,Os.jsx)("div",{className:"mb-4",children:(0,Os.jsx)("div",{className:"text-sm font-mono text-purple-400 mb-2",children:"Ready to boost productivity?"})}),o?(0,Os.jsxs)("div",{className:"space-y-3",children:[(0,Os.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-purple-300 font-bold",children:"SELECT PROTOCOL:"}),(0,Os.jsx)("button",{onClick:()=>a(!1),className:"text-xs font-mono text-gray-400 hover:text-purple-400 transition-colors",children:"\u2190 BACK"})]}),(0,Os.jsx)("div",{className:"max-h-32 overflow-y-auto space-y-1",children:j.map(e=>(0,Os.jsxs)("button",{onClick:()=>i(e.id.toString()),className:"w-full bg-gray-900 border p-2 text-left relative overflow-hidden cursor-pointer transition-all duration-300 font-mono text-xs ".concat(s===e.id.toString()?"border-purple-400 bg-purple-900/20":"border-purple-500 hover:border-purple-400"),style:{boxShadow:s===e.id.toString()?"0 0 8px rgba(147, 51, 234, 0.4)":"0 0 3px rgba(147, 51, 234, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/8 to-purple-700/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"relative z-10",children:(0,Os.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"text-purple-300 font-bold",children:e.name}),(0,Os.jsxs)("div",{className:"text-gray-400 text-xs",children:[e.workDuration,"m \u2022 ",e.cycles," cycles"]})]}),(0,Os.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.colorCode}})]})})]},e.id))}),(0,Os.jsxs)("button",{onClick:()=>{const e=j.find(e=>e.id.toString()===s);e&&(y(e),a(!1))},disabled:!s,className:"w-full bg-gray-900 border border-purple-500 p-2 relative group cursor-pointer transition-all duration-300 hover:border-purple-400 hover:shadow-[0_0_8px_rgba(147,51,234,0.4)] font-mono text-xs font-bold overflow-hidden disabled:opacity-50 disabled:cursor-not-allowed",style:{boxShadow:"0 0 3px rgba(147, 51, 234, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/8 to-purple-700/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"relative z-10 text-purple-300 group-hover:text-purple-200 transition-colors",children:"INITIATE PROTOCOL"})]})]}):(0,Os.jsxs)("div",{className:"space-y-4",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-purple-300 font-bold mb-2",children:"QUICK PROTOCOLS:"}),(0,Os.jsx)("div",{className:"grid grid-cols-1 gap-2",children:[{name:"POMODORO",description:"Classic 25-minute focus session",workDuration:25,breakDuration:5,cycles:1,category:"WORK",colorCode:"#9333ea"},{name:"DEEP WORK",description:"Extended 45-minute focus session",workDuration:45,breakDuration:10,cycles:1,category:"WORK",colorCode:"#7c3aed"},{name:"QUICK BURST",description:"Short 15-minute burst",workDuration:15,breakDuration:3,cycles:1,category:"WORK",colorCode:"#8b5cf6"}].map((e,t)=>(0,Os.jsxs)("button",{onClick:()=>(async e=>{const t={name:e.name,description:e.description,workDuration:e.workDuration,breakDuration:e.breakDuration,cycles:e.cycles,category:e.category,colorCode:e.colorCode};try{const e=await d(t);y(e)}catch(n){console.error("Error creating quick session:",n)}})(e),className:"bg-gray-900 border border-purple-500 p-2 relative group cursor-pointer transition-all duration-300 hover:border-purple-400 hover:shadow-[0_0_8px_rgba(147,51,234,0.4)] font-mono text-xs overflow-hidden",style:{boxShadow:"0 0 3px rgba(147, 51, 234, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/8 to-purple-700/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-purple-500 opacity-0 group-hover:opacity-5 transition-opacity"}),(0,Os.jsxs)("div",{className:"relative z-10 flex justify-between items-center",children:[(0,Os.jsxs)("div",{className:"text-left",children:[(0,Os.jsx)("div",{className:"text-purple-300 font-bold group-hover:text-purple-200 transition-colors",children:e.name}),(0,Os.jsxs)("div",{className:"text-gray-400 text-xs",children:[e.workDuration,"m work \u2022 ",e.breakDuration,"m break"]})]}),(0,Os.jsxs)("div",{className:"text-purple-400 font-bold",children:[e.workDuration,"m"]})]})]},t))})]}),j.length>0&&(0,Os.jsxs)("div",{className:"border-t border-gray-700 pt-3",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-purple-300 font-bold mb-2",children:"YOUR PROTOCOLS:"}),(0,Os.jsxs)("button",{onClick:()=>a(!0),className:"w-full bg-gray-900 border border-purple-500 p-2 relative group cursor-pointer transition-all duration-300 hover:border-purple-400 hover:shadow-[0_0_8px_rgba(147,51,234,0.4)] font-mono text-xs overflow-hidden",style:{boxShadow:"0 0 3px rgba(147, 51, 234, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/8 to-purple-700/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-purple-500 opacity-0 group-hover:opacity-5 transition-opacity"}),(0,Os.jsxs)("div",{className:"relative z-10 flex justify-between items-center",children:[(0,Os.jsx)("span",{className:"text-purple-300 font-bold group-hover:text-purple-200 transition-colors",children:"SELECT CUSTOM PROTOCOL"}),(0,Os.jsx)("span",{className:"text-purple-400 font-bold",children:j.length})]})]})]})]})]})})},ic=e=>{let{username:t="user",tabColor:n="#67E8F9",onTabChange:o}=e;const{folders:a}=qi(),{notebooks:s}=Yi(),{notes:i,updateNote:l,deleteNote:d}=$s(),{tasks:u,taskLists:p}=Qs(),{activeTab:m,changeTab:h}=mi(),{openModal:x,closeModal:g,isModalOpen:f,getModalData:y}=(()=>{const[e,t]=(0,r.useState)({});return{openModal:(0,r.useCallback)(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(t=>c(c({},t),{},{[e]:{isOpen:!0,data:n}}))},[]),closeModal:(0,r.useCallback)(e=>{t(t=>c(c({},t),{},{[e]:{isOpen:!1,data:{}}}))},[]),closeAllModals:(0,r.useCallback)(()=>{t({})},[]),isModalOpen:(0,r.useCallback)(t=>{var n;return(null===(n=e[t])||void 0===n?void 0:n.isOpen)||!1},[e]),getModalData:(0,r.useCallback)(t=>{var n;return(null===(n=e[t])||void 0===n?void 0:n.data)||{}},[e]),updateModalData:(0,r.useCallback)((e,n)=>{t(t=>{var r;return c(c({},t),{},{[e]:c(c({},t[e]),{},{data:c(c({},null===(r=t[e])||void 0===r?void 0:r.data),n)})})})},[]),modals:e}})(),{navigateToFolder:b,navigateToNoteView:v}=(()=>{const[e,t]=(0,r.useState)({currentView:"dashboard",selectedFolder:null,selectedNotebook:null,selectedNote:null,breadcrumbs:[]}),n=(0,r.useCallback)((e,n)=>{n&&n("library",{view:"folder",selectedFolder:e,folderId:e.id,breadcrumbs:[{label:"Storage Vault",view:"library"},{label:e.name,view:"folder",data:e}]}),t(t=>c(c({},t),{},{currentView:"folder",selectedFolder:e,breadcrumbs:[{label:"Storage Vault",view:"library"},{label:e.name,view:"folder",data:e}]}))},[]),o=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;n&&n("noteview",c({view:"allNotes",selectedNote:e.selectedNote||null,folderId:e.folderId||null},e)),t(t=>c(c({},t),{},{currentView:"noteview",selectedNote:e.selectedNote||null}))},[]),a=(0,r.useCallback)((e,n)=>{n&&n("library",{view:"notebook",selectedNotebook:e,notebookId:e.id,breadcrumbs:[{label:"Storage Vault",view:"library"},{label:e.name,view:"notebook",data:e}]}),t(t=>c(c({},t),{},{currentView:"notebook",selectedNotebook:e,breadcrumbs:[{label:"Storage Vault",view:"library"},{label:e.name,view:"notebook",data:e}]}))},[]),s=(0,r.useCallback)(n=>{const r=[...e.breadcrumbs];r.pop();const o=r[r.length-1];o?(n&&n("library",{view:o.view,breadcrumbs:r}),t(e=>c(c({},e),{},{currentView:o.view,breadcrumbs:r,selectedFolder:"folder"===o.view?o.data:null,selectedNotebook:"notebook"===o.view?o.data:null}))):(n&&n("library"),t(e=>c(c({},e),{},{currentView:"library",selectedFolder:null,selectedNotebook:null,breadcrumbs:[]})))},[e.breadcrumbs]),i=(0,r.useCallback)(()=>{t({currentView:"dashboard",selectedFolder:null,selectedNotebook:null,selectedNote:null,breadcrumbs:[]})},[]);return{navigationState:e,navigateToFolder:n,navigateToNoteView:o,navigateToNotebook:a,navigateBack:s,resetNavigation:i}})(),w=e=>{b(e,o)},N=(()=>{const e=(new Date).getHours(),t="user";return e>=5&&e<12?{greeting:"Good morning, ".concat(t,"!"),subtitle:"Ready to start your productivity missions?"}:e>=12&&e<17?{greeting:"Good afternoon, ".concat(t,"!"),subtitle:"How's your mission progress today?"}:e>=17&&e<22?{greeting:"Good evening, ".concat(t,"!"),subtitle:"Time to review today's achievements!"}:{greeting:"Burning the midnight oil, ".concat(t,"?"),subtitle:"Night owls are most productive at night!"}})(),j=(()=>{if(0===a.length||0===i.length)return null;return a.map(e=>{const t=i.filter(t=>t.folderId===e.id),n=t.filter(e=>{const t=new Date(e.createdAt||e.updatedAt),n=new Date;return n.setDate(n.getDate()-7),t>=n});return c(c({},e),{},{totalNotes:t.length,recentNotes:n.length,activity:n.length+.1*t.length})}).sort((e,t)=>t.activity-e.activity)[0]})();return(0,Os.jsxs)(Os.Fragment,{children:[(0,Os.jsxs)("div",{className:"dashboard-tab-container p-6",children:[(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Os.jsx)("div",{className:"w-6 h-6 border border-gray-600",style:{backgroundColor:n}}),(0,Os.jsx)("h1",{className:"font-mono text-3xl font-bold text-white",children:"PLAYER COMMAND CENTER"}),(0,Os.jsx)("span",{className:"text-2xl",children:N.icon})]}),(0,Os.jsxs)("div",{className:"space-y-2",children:[(0,Os.jsx)("h2",{className:"text-xl font-mono font-bold text-white",children:N.greeting}),(0,Os.jsx)("p",{className:"text-gray-400 font-mono text-sm",children:N.subtitle})]})]}),(0,Os.jsxs)("div",{className:"space-y-6",children:[(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gray-800 border-2 border-cyan-300 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] p-6 relative overflow-hidden",style:{boxShadow:"0 0 15px rgba(103, 232, 249, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/15 to-cyan-600/20 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-cyan-300 opacity-30 animate-pulse pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h2",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:[(0,Os.jsx)("div",{className:"w-4 h-4 bg-cyan-300 mr-2"}),"QUICK COMMANDS"]}),(0,Os.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3",children:[(0,Os.jsxs)("button",{onClick:()=>o&&o("notes"),className:"bg-gray-900 border border-cyan-400 p-3 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_8px_rgba(103,232,249,0.4)] font-mono font-bold text-cyan-300 overflow-hidden",style:{boxShadow:"0 0 3px rgba(103, 232, 249, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/8 to-cyan-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[(0,Os.jsx)(yi,{size:20,className:"text-cyan-300"}),(0,Os.jsx)("span",{className:"text-xs text-cyan-300",children:"NEW LOG"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-5 transition-opacity"})]}),(0,Os.jsxs)("button",{onClick:()=>o&&o("tasks"),className:"bg-gray-900 border border-cyan-400 p-3 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_8px_rgba(103,232,249,0.4)] font-mono font-bold text-cyan-300 overflow-hidden",style:{boxShadow:"0 0 3px rgba(103, 232, 249, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/8 to-cyan-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[(0,Os.jsx)($i,{size:20,className:"text-cyan-300"}),(0,Os.jsx)("span",{className:"text-xs text-cyan-300",children:"NEW MISSION"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-5 transition-opacity"})]}),(0,Os.jsxs)("button",{onClick:()=>o&&o("library"),className:"bg-gray-900 border border-cyan-400 p-3 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_8px_rgba(103,232,249,0.4)] font-mono font-bold text-cyan-300 overflow-hidden",style:{boxShadow:"0 0 3px rgba(103, 232, 249, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/8 to-cyan-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[(0,Os.jsx)(Ai,{size:20,className:"text-cyan-300"}),(0,Os.jsx)("span",{className:"text-xs text-cyan-300",children:"BROWSE VAULT"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-5 transition-opacity"})]}),(0,Os.jsxs)("button",{onClick:()=>o&&o("achievements"),className:"bg-gray-900 border border-cyan-400 p-3 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_8px_rgba(103,232,249,0.4)] font-mono font-bold text-cyan-300 overflow-hidden",style:{boxShadow:"0 0 3px rgba(103, 232, 249, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/8 to-cyan-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[(0,Os.jsx)(ci,{size:20,className:"text-cyan-300"}),(0,Os.jsx)("span",{className:"text-xs text-cyan-300",children:"ACHIEVEMENTS"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-5 transition-opacity"})]}),(0,Os.jsxs)("button",{onClick:()=>o&&o("profile"),className:"bg-gray-900 border border-cyan-400 p-3 relative group cursor-pointer transition-all duration-300 hover:border-cyan-300 hover:shadow-[0_0_8px_rgba(103,232,249,0.4)] font-mono font-bold text-cyan-300 overflow-hidden",style:{boxShadow:"0 0 3px rgba(103, 232, 249, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-cyan-500/8 to-cyan-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[(0,Os.jsx)(di,{size:20,className:"text-cyan-300"}),(0,Os.jsx)("span",{className:"text-xs text-cyan-300",children:"PLAYER LVL"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-cyan-400 opacity-0 group-hover:opacity-5 transition-opacity"})]})]})]})]}),(0,Os.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Os.jsxs)(Ss.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-gray-800 border-2 border-sky-400 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] p-6 relative overflow-hidden",style:{boxShadow:"0 0 15px rgba(34, 211, 238, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-400/15 to-sky-600/20 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-sky-400 opacity-30 animate-pulse pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h2",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:[(0,Os.jsx)("div",{className:"w-4 h-4 bg-sky-400 mr-2"}),"STORAGE VAULT OVERVIEW"]}),(0,Os.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,Os.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-xs font-mono",children:[(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-2 text-center relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-500/10 to-sky-600/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)(Ai,{size:16,className:"text-sky-400 mx-auto mb-1"}),(0,Os.jsx)("div",{className:"text-sky-400 font-bold",children:a.length}),(0,Os.jsx)("div",{className:"text-gray-400",children:"ARCHIVES"})]})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-2 text-center relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-400/10 to-sky-500/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)(Ri,{size:16,className:"text-sky-300 mx-auto mb-1"}),(0,Os.jsx)("div",{className:"text-sky-300 font-bold",children:s.length}),(0,Os.jsx)("div",{className:"text-gray-400",children:"COLLECTIONS"})]})]}),(0,Os.jsxs)("div",{className:"bg-gray-900 border border-gray-600 p-2 text-center relative overflow-hidden",children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-600/10 to-sky-700/15 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)(oi,{size:16,className:"text-sky-500 mx-auto mb-1"}),(0,Os.jsx)("div",{className:"text-sky-500 font-bold",children:i.length}),(0,Os.jsx)("div",{className:"text-gray-400",children:"LOGS"})]})]})]}),j&&(0,Os.jsxs)("button",{onClick:()=>w(j),className:"w-full bg-gray-900 border border-sky-400 p-3 relative overflow-hidden group cursor-pointer transition-all duration-300 hover:border-sky-300 hover:shadow-[0_0_8px_rgba(34,211,238,0.4)]",style:{boxShadow:"0 0 3px rgba(34, 211, 238, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-500/8 to-sky-600/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-sky-400 opacity-0 group-hover:opacity-5 transition-opacity"}),(0,Os.jsxs)("div",{className:"relative z-10 text-left",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,Os.jsx)(Wl,{size:14,className:"text-sky-400 group-hover:text-sky-300 transition-colors"}),(0,Os.jsx)("span",{className:"text-xs font-mono text-sky-400 font-bold group-hover:text-sky-300 transition-colors",children:"MOST ACTIVE ARCHIVE"})]}),(0,Os.jsx)("div",{className:"text-sm font-mono text-white font-bold group-hover:text-sky-50 transition-colors",children:j.name}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400",children:[j.totalNotes," total \u2022 ",j.recentNotes," this week"]})]})]}),a.length>0&&(0,Os.jsxs)("div",{className:"space-y-2",children:[(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400 font-bold",children:"RECENT ARCHIVES:"}),(0,Os.jsx)("div",{className:"grid grid-cols-3 gap-2",children:a.slice(0,3).map(e=>{const t=i.filter(t=>t.folderId===e.id).length;return(0,Os.jsxs)("button",{onClick:()=>w(e),className:"bg-gray-900 border border-sky-400 p-2 text-center relative overflow-hidden group cursor-pointer transition-all duration-300 hover:border-sky-300 hover:shadow-[0_0_8px_rgba(34,211,238,0.4)]",style:{boxShadow:"0 0 3px rgba(34, 211, 238, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-500/8 to-sky-600/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-sky-400 opacity-0 group-hover:opacity-5 transition-opacity"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)(Ai,{size:24,className:"text-sky-400 mx-auto mb-2 group-hover:text-sky-300 transition-colors"}),(0,Os.jsx)("div",{className:"text-xs font-mono text-sky-400 font-bold truncate mb-1 group-hover:text-sky-300 transition-colors",children:e.name}),(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-400",children:[t," logs"]})]})]},e.id)})}),a.length>3&&(0,Os.jsx)("div",{className:"text-center",children:(0,Os.jsxs)("div",{className:"text-xs font-mono text-gray-500",children:["+",a.length-3," more archives"]})})]})]}),(0,Os.jsxs)("button",{onClick:()=>{o&&o("library")},className:"w-full bg-gray-900 border border-sky-400 px-4 py-3 relative group cursor-pointer transition-all duration-300 hover:border-sky-300 hover:shadow-[0_0_8px_rgba(34,211,238,0.4)] font-mono font-bold text-sky-400 overflow-hidden",style:{boxShadow:"0 0 3px rgba(34, 211, 238, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-500/8 to-sky-600/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center justify-center gap-2",children:[(0,Os.jsx)(nc,{size:16,className:"text-sky-400"}),(0,Os.jsx)("span",{className:"text-sky-400",children:"ACCESS STORAGE VAULT"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-sky-400 opacity-0 group-hover:opacity-5 transition-opacity"})]})]})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.25},className:"bg-gray-800 border-2 border-blue-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] p-6 relative overflow-hidden",style:{boxShadow:"0 0 15px rgba(14, 165, 233, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/15 to-blue-700/20 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-blue-500 opacity-30 animate-pulse pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h2",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:[(0,Os.jsx)("div",{className:"w-4 h-4 bg-blue-500 mr-2"}),"RECENT PLAYER LOGS"]}),(0,Os.jsxs)("div",{className:"space-y-2 mb-4",children:[i.slice(0,5).map((e,t)=>(0,Os.jsxs)("button",{onClick:()=>(e=>{x("noteEdit",{note:e,mode:"edit"})})(e),className:"w-full bg-gray-900 border border-blue-500 p-2 text-xs font-mono relative overflow-hidden group cursor-pointer transition-all duration-300 hover:border-blue-400 hover:shadow-[0_0_8px_rgba(14,165,233,0.4)]",style:{boxShadow:"0 0 3px rgba(14, 165, 233, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/8 to-blue-700/12 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-blue-500 opacity-0 group-hover:opacity-5 transition-opacity"}),(0,Os.jsxs)("div",{className:"relative z-10 text-left",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsx)(oi,{size:12,className:"text-blue-400 group-hover:text-blue-300 transition-colors"}),(0,Os.jsx)("span",{className:"text-blue-400 group-hover:text-blue-300 transition-colors",children:"Created log:"}),(0,Os.jsx)("span",{className:"text-white truncate flex-1 group-hover:text-blue-50 transition-colors",children:e.title})]}),(0,Os.jsx)("div",{className:"text-gray-400 text-xs mt-1",children:new Date(e.createdAt||e.updatedAt).toLocaleDateString()})]})]},e.id)),0===i.length&&(0,Os.jsxs)("div",{className:"text-center py-4",children:[(0,Os.jsx)(Ki,{size:24,className:"text-blue-400 mx-auto mb-2"}),(0,Os.jsx)("div",{className:"text-sm font-mono text-blue-400",children:"No recent activity"}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-500 mt-1",children:"Create your first log to get started!"})]})]}),i.length>0&&(0,Os.jsxs)("button",{onClick:()=>{o&&o("library",{view:"allNotes"})},className:"w-full bg-gray-900 border border-blue-500 px-4 py-3 relative group cursor-pointer transition-all duration-300 hover:border-blue-400 hover:shadow-[0_0_8px_rgba(14,165,233,0.4)] font-mono font-bold text-blue-500 overflow-hidden",style:{boxShadow:"0 0 3px rgba(14, 165, 233, 0.3), 1px 1px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600/8 to-blue-700/12 pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10 flex items-center justify-center gap-2",children:[(0,Os.jsx)(nc,{size:16,className:"text-blue-500"}),(0,Os.jsx)("span",{className:"text-blue-500",children:"ACCESS ALL LOGS"})]}),(0,Os.jsx)("div",{className:"absolute inset-0 bg-blue-500 opacity-0 group-hover:opacity-5 transition-opacity"})]})]})]})]}),(0,Os.jsx)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,Os.jsx)(rc,{tasks:u,taskLists:p,onTabChange:o})}),(0,Os.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Os.jsxs)(Ss.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.35},className:"bg-gray-800 border-2 border-violet-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] p-6 relative overflow-hidden",style:{boxShadow:"0 0 15px rgba(99, 102, 241, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/15 to-violet-700/20 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-violet-500 opacity-30 animate-pulse pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h2",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:[(0,Os.jsx)("div",{className:"w-4 h-4 bg-violet-500 mr-2"}),"ACTIVE ACHIEVEMENTS"]}),(0,Os.jsx)(oc,{notes:i,compact:!0,onTabChange:o})]})]}),(0,Os.jsxs)(Ss.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-gray-800 border-2 border-purple-500 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] p-6 relative overflow-hidden",style:{boxShadow:"0 0 15px rgba(147, 51, 234, 0.3), 4px 4px 0px 0px rgba(0,0,0,1)"},children:[(0,Os.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/15 to-purple-700/20 pointer-events-none"}),(0,Os.jsx)("div",{className:"absolute inset-0 border-2 border-purple-500 opacity-30 animate-pulse pointer-events-none"}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("h2",{className:"text-lg font-mono font-bold text-white flex items-center mb-4",children:[(0,Os.jsx)("div",{className:"w-4 h-4 bg-purple-500 mr-2"}),"FOCUS COMMAND CENTER"]}),(0,Os.jsx)(sc,{username:t||"user",className:"focus-timer-dashboard"})]})]})]})]})]}),(0,Os.jsx)(Vi,{isOpen:f("noteEdit"),onClose:()=>g("noteEdit"),onSave:async e=>{try{const t=y("noteEdit").note;t&&await l(t.id,e),g("noteEdit")}catch(t){console.error("Failed to save note:",t)}},onDelete:async e=>{try{await d(e),g("noteEdit")}catch(t){console.error("Failed to delete note:",t)}},existingNote:y("noteEdit").note,folders:a,notebooks:s,title:"MODIFY LOG ENTRY"})]})},lc=As("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),cc=As("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),dc=e=>{let{categories:t,tabColor:n,tabColorRgb:o}=e;const[a,s]=(0,r.useState)(null),[i,l]=(0,r.useState)([]),[d,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)({name:"",color:"#00FFFF"}),h=e=>Math.floor(60*Math.pow(1.4,e-1)),x=e=>{let t=1,n=0;for(;t<=10&&(n+=h(t),!(e<n));)t++;return Math.min(t,10)},g=(e,t)=>{var n;return(null===(n={scholar:["STUDENT","LEARNER","THINKER","SCHOLAR","RESEARCHER","EXPERT","SAGE","PROFESSOR","GENIUS","MASTERMIND"],profession:["INTERN","TRAINEE","WORKER","SPECIALIST","VETERAN","ELITE","MANAGER","DIRECTOR","EXECUTIVE","LEGEND"],artisan:["DREAMER","ARTIST","MAKER","CREATOR","DESIGNER","INNOVATOR","VISIONARY","PIONEER","VIRTUOSO","GODLIKE"],scribe:["NOVICE","WRITER","AUTHOR","STORYTELLER","WORDSMITH","POET","NOVELIST","MASTER","LAUREATE","IMMORTAL"],programming:["NOOB","CODER","PROGRAMMER","DEVELOPER","ENGINEER","ARCHITECT","GURU","NINJA","WIZARD","HACKER"],literacy:["READER","BROWSER","BOOKWORM","SCHOLAR","CRITIC","ANALYST","EXPERT","CURATOR","SAGE","ORACLE"],strategist:["PLANNER","ORGANIZER","TACTICIAN","STRATEGIST","COORDINATOR","MASTERMIND","ARCHITECT","VISIONARY","COMMANDER","GRANDMASTER"],mindfulness:["SEEKER","RELAXER","MEDITATOR","PEACEFUL","CENTERED","BALANCED","SERENE","ENLIGHTENED","TRANSCENDENT","ZEN MASTER"],knowledge:["CURIOUS","SEARCHER","INVESTIGATOR","RESEARCHER","EXPLORER","DISCOVERER","SCHOLAR","EXPERT","AUTHORITY","OMNISCIENT"]}[e.name.toLowerCase()])||void 0===n?void 0:n[t-1])||"Level ".concat(t," skill")};(0,r.useEffect)(()=>{(()=>{const e=y.reduce((e,t)=>e+(t.xp||0),0),t=y.filter(e=>10===x(e.xp||0)).length,n=y.filter(e=>(e.xp||0)>0).length,r=Math.floor(e/60),o=[];n>=1&&!i.includes("first-blood")&&o.push({id:"first-blood",name:"FIRST BLOOD",description:"Reach level 1 in any branch",icon:$i,color:"#00FFFF"}),n>=3&&!i.includes("multi-tasker")&&o.push({id:"multi-tasker",name:"MULTI-TASKER",description:"Have 3+ active skill branches",icon:lc,color:"#FF0080"}),r>=100&&!i.includes("grind-master")&&o.push({id:"grind-master",name:"GRIND MASTER",description:"Log 100+ hours total",icon:Ki,color:"#FFFF00"}),t>=1&&!i.includes("perfectionist")&&o.push({id:"perfectionist",name:"PERFECTIONIST",description:"Max out a skill branch",icon:Ul,color:"#FFD700"}),o.length>0&&l(e=>[...e,...o.map(e=>e.id)])})()},[t]);const f=e=>{let{size:t=48,color:n="#4B5563",fillPercentage:r=0,isUnlocked:o=!1,isCurrent:a=!1}=e;return(0,Os.jsxs)("svg",{width:t,height:t,viewBox:"0 0 100 100",className:"absolute inset-0",children:[(0,Os.jsxs)("defs",{children:[(0,Os.jsx)("clipPath",{id:"hexClip-".concat(n.replace("#",""),"-").concat(t),children:(0,Os.jsx)("polygon",{points:"50,5 85,25 85,75 50,95 15,75 15,25"})}),a&&(0,Os.jsxs)("filter",{id:"glow-".concat(n.replace("#",""),"-").concat(t),children:[(0,Os.jsx)("feGaussianBlur",{stdDeviation:"3",result:"coloredBlur"}),(0,Os.jsxs)("feMerge",{children:[(0,Os.jsx)("feMergeNode",{in:"coloredBlur"}),(0,Os.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),a&&(0,Os.jsx)("polygon",{points:"50,5 85,25 85,75 50,95 15,75 15,25",fill:n,opacity:"0.3",filter:"url(#glow-".concat(n.replace("#",""),"-").concat(t,")")}),(0,Os.jsx)("polygon",{points:"50,5 85,25 85,75 50,95 15,75 15,25",fill:"#1F2937",stroke:o?n:"#4B5563",strokeWidth:"2"}),r>0&&(0,Os.jsx)("rect",{x:"0",y:100-r,width:"100",height:r,fill:n,clipPath:"url(#hexClip-".concat(n.replace("#",""),"-").concat(t,")"),opacity:"0.8"}),(0,Os.jsx)("polygon",{points:"50,5 85,25 85,75 50,95 15,75 15,25",fill:"transparent",stroke:o?n:"#4B5563",strokeWidth:"2",style:{filter:o?"drop-shadow(0 0 8px ".concat(n,"40)"):void 0}})]})},y=t.filter(e=>(e.xp||0)>=0).sort((e,t)=>{const n=["scholar","profession","artisan","scribe","programming","literacy","strategist","mindfulness","knowledge"],r=n.indexOf(e.name.toLowerCase()),o=n.indexOf(t.name.toLowerCase());return(-1===r?999:r)-(-1===o?999:o)}),b=y.reduce((e,t)=>e+(t.xp||0),0),v=y.filter(e=>10===x(e.xp||0)).length,w=Math.floor(b/60);return(0,Os.jsxs)("div",{className:"translucent-panel relative overflow-hidden",style:{borderColor:n,"--tab-color-rgb":o},children:[(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-20 animate-pulse pointer-events-none",style:{borderColor:n}}),(0,Os.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{background:"radial-gradient(circle at center, ".concat(n,"30 0%, transparent 70%)")}}),(0,Os.jsxs)("div",{className:"px-6 py-4 border-b-2 relative z-10 bg-black bg-opacity-60",style:{borderColor:n},children:[(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsxs)("div",{className:"flex gap-8",children:[(0,Os.jsxs)("div",{className:"text-center",children:[(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold",style:{color:n},children:y.length}),(0,Os.jsx)("div",{className:"text-xs text-gray-400 font-mono",children:"SKILLS"})]}),(0,Os.jsxs)("div",{className:"text-center",children:[(0,Os.jsx)("div",{className:"text-2xl font-mono font-bold",style:{color:"white"},children:v}),(0,Os.jsx)("div",{className:"text-xs text-gray-400 font-mono",children:"MASTERED"})]}),(0,Os.jsxs)("div",{className:"text-center",children:[(0,Os.jsxs)("div",{className:"text-2xl font-mono font-bold",style:{color:"white"},children:[w,"h"]}),(0,Os.jsx)("div",{className:"text-xs text-gray-400 font-mono",children:"TOTAL GRIND TIME"})]})]}),(0,Os.jsxs)("div",{className:"text-center",children:[(0,Os.jsx)("div",{className:"font-mono font-bold text-white text-3xl mb-2",children:"SKILL TREE MATRIX"}),(0,Os.jsx)("div",{className:"text-gray-400 font-mono text-sm",children:"Track your grind sessions and level up your skills."}),(0,Os.jsxs)("div",{className:"font-mono text-sm font-bold tracking-wider mt-1",style:{color:n},children:[y.length," ACTIVE SKILL BRANCHES"]})]}),(0,Os.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Os.jsxs)(Ss.button,{className:"px-3 py-1.5 border-2 bg-black font-mono font-bold text-xs flex items-center gap-1.5 hover:scale-105 transition-transform",style:{borderColor:n,color:n,boxShadow:"0 0 8px ".concat(n,"40")},whileHover:{boxShadow:"0 0 15px ".concat(n,"60")},onClick:()=>u(!d),children:[(0,Os.jsx)(yi,{size:25}),"NEW BRANCH"]}),(0,Os.jsxs)(Ss.button,{className:"px-3 py-1.5 border-2 bg-black font-mono font-bold text-xs flex items-center gap-1.5 hover:scale-105 transition-transform relative overflow-hidden",style:{borderColor:"white",color:"white",boxShadow:"0 0 8px rgba(255, 255, 255, 0.4)"},whileHover:{boxShadow:"0 0 15px rgba(255, 255, 255, 0.6)",borderColor:"white"},onClick:()=>{window.toggleMatrix&&window.toggleMatrix()},children:[(0,Os.jsx)("div",{className:"absolute inset-0 opacity-30",style:{background:"linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.8) 50%, transparent 100%)",width:"100%",animation:"scan 3s linear infinite"}}),(0,Os.jsx)(cc,{size:25,className:"relative z-10"}),(0,Os.jsx)("span",{className:"relative z-10",children:"TIME MATRIX"})]})]})]}),d&&(0,Os.jsx)(Ss.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-4 p-4 bg-black-800 border-2 rounded",style:{borderColor:n},children:(0,Os.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,Os.jsxs)("div",{className:"flex-1",children:[(0,Os.jsx)("label",{className:"block text-xs font-mono text-gray-400 mb-1",children:"BRANCH NAME"}),(0,Os.jsx)("input",{type:"text",value:p.name,onChange:e=>m(t=>c(c({},t),{},{name:e.target.value})),className:"w-full px-3 py-2 bg-black border-2 text-white font-mono text-sm",style:{borderColor:n},placeholder:"Enter skill name..."})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"block text-xs font-mono text-gray-400 mb-1",children:"COLOR"}),(0,Os.jsx)("input",{type:"color",value:p.color,onChange:e=>m(t=>c(c({},t),{},{color:e.target.value})),className:"w-16 h-10 border-2 bg-black cursor-pointer",style:{borderColor:n}})]}),(0,Os.jsx)("button",{onClick:()=>{if(p.name.trim()){const e={id:Date.now().toString(),name:p.name,iconName:"Plus",xp:0,customColor:p.color,isCustom:!0},t=[...JSON.parse(localStorage.getItem("focusCategories")||"[]"),e];localStorage.setItem("focusCategories",JSON.stringify(t)),m({name:"",color:"#00FFFF"}),u(!1),window.location.reload()}},className:"px-4 py-2 border-2 bg-black font-mono font-bold text-sm hover:scale-105 transition-transform",style:{borderColor:n,color:n,boxShadow:"0 0 10px ".concat(n,"40")},children:"CREATE"})]})})]}),(0,Os.jsx)("div",{className:"p-8 relative z-10",children:(0,Os.jsx)("div",{className:"space-y-8",children:y.map((e,t)=>{const n=(r=e.iconName,{BookOpen:Ri,Briefcase:Al,Palette:xi,PenTool:Rl,Code:Si,Target:$i,Calendar:Ji,Heart:Il,Search:Hi,Plus:yi}[r]||yi);var r;const o=x(e.xp||0),i=(e=>{const t=x(e);if(10===t)return{current:100,max:100,percentage:100};let n=0;for(let a=1;a<t;a++)n+=h(a);const r=e-n,o=h(t);return{current:r,max:o,percentage:Math.floor(r/o*100)}})(e.xp||0),l=((e,t)=>{var n;return(null===(n={scholar:["STUDENT","LEARNER","THINKER","SCHOLAR","RESEARCHER","EXPERT","SAGE","PROFESSOR","GENIUS","MASTERMIND"],profession:["INTERN","TRAINEE","WORKER","SPECIALIST","VETERAN","ELITE","MANAGER","DIRECTOR","EXECUTIVE","LEGEND"],artisan:["DREAMER","ARTIST","MAKER","CREATOR","DESIGNER","INNOVATOR","VISIONARY","PIONEER","VIRTUOSO","GODLIKE"],scribe:["NOVICE","WRITER","AUTHOR","STORYTELLER","WORDSMITH","POET","NOVELIST","MASTER","LAUREATE","IMMORTAL"],programming:["NOOB","CODER","PROGRAMMER","DEVELOPER","ENGINEER","ARCHITECT","GURU","NINJA","WIZARD","HACKER"],literacy:["READER","BROWSER","BOOKWORM","SCHOLAR","CRITIC","ANALYST","EXPERT","CURATOR","SAGE","ORACLE"],strategist:["PLANNER","ORGANIZER","TACTICIAN","STRATEGIST","COORDINATOR","MASTERMIND","ARCHITECT","VISIONARY","COMMANDER","GRANDMASTER"],mindfulness:["SEEKER","RELAXER","MEDITATOR","PEACEFUL","CENTERED","BALANCED","SERENE","ENLIGHTENED","TRANSCENDENT","ZEN MASTER"],knowledge:["CURIOUS","SEARCHER","INVESTIGATOR","RESEARCHER","EXPLORER","DISCOVERER","SCHOLAR","EXPERT","AUTHORITY","OMNISCIENT"]}[e.name.toLowerCase()])||void 0===n?void 0:n[t-1])||"LEVEL ".concat(t)})(e,o),d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||({scholar:"#FF1493",profession:"#00FFFF",artisan:"#8A2BE2",scribe:"#FF6347",programming:"#00FF7F",literacy:"#FFD700",strategist:"#FF4500",mindfulness:"#40E0D0",knowledge:"#DA70D6"}[e.toLowerCase()]||"#6B7280")}(e.name,e.customColor),u=10===o;return(0,Os.jsxs)(Ss.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"relative",children:[(0,Os.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Os.jsx)(Ss.div,{className:"w-16 h-16 border-2 rounded-full flex items-center justify-center mr-6 bg-black",style:{borderColor:d,boxShadow:"0 0 15px ".concat(d,"60")},whileHover:{scale:1.1,rotate:5},children:(0,Os.jsx)(n,{size:24,style:{color:d}})}),(0,Os.jsx)("div",{className:"flex-1",children:(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsxs)("div",{className:"font-mono font-bold text-white text-xl",children:[e.name.toUpperCase()," BRANCH"]}),(0,Os.jsx)("div",{className:"font-mono text-sm font-bold tracking-wider",style:{color:d},children:l})]}),(0,Os.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Os.jsxs)("div",{className:"text-right",children:[(0,Os.jsxs)("div",{className:"text-3xl font-mono font-bold mb-1",style:{color:d},children:[e.xp||0," XP"]}),(0,Os.jsxs)("div",{className:"text-sm text-gray-400 font-mono",children:[" ",Math.floor((e.xp||0)/60),"h ",(e.xp||0)%60,"m"]})]}),(0,Os.jsxs)("div",{className:"px-3 py-1 font-mono font-bold border-2 bg-black flex items-center gap-2",style:{borderColor:u?"#FFD700":d,color:u?"#FFD700":d,boxShadow:"0 0 10px ".concat(u?"#FFD700":d,"60")},children:[u?(0,Os.jsx)(Ul,{size:16}):o>=8?(0,Os.jsx)(ci,{size:16}):o>=6?(0,Os.jsx)(Bl,{size:16}):(0,Os.jsx)(Fl,{size:16}),"LVL ",o]})]})]})})]}),(0,Os.jsxs)("div",{className:"relative",children:[(0,Os.jsx)("div",{className:"absolute top-6 left-6 right-6 h-1 bg-gray-700 rounded-full"}),(0,Os.jsx)("div",{className:"absolute top-6 left-6 h-1 rounded-full transition-all duration-1000 relative overflow-hidden",style:{width:"calc(".concat(Math.min(10*(o-1)+i.percentage/10,100),"% - 48px)"),background:"linear-gradient(90deg, ".concat(d,", ").concat(d,"CC)"),boxShadow:"0 0 8px ".concat(d,", 0 0 4px ").concat(d,"80")},children:(0,Os.jsx)("div",{className:"absolute inset-0 opacity-80",style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.9) 50%, transparent 100%)",width:"20px",animation:"scan 2s linear infinite"}})}),(0,Os.jsx)("div",{className:"flex justify-between items-center",children:Array.from({length:10},(n,r)=>{const l=r+1,u=o>l,p=o===l,m=5===l||10===l;let h=0;return u?h=100:p&&(h=i.percentage),(0,Os.jsxs)(Ss.div,{className:"relative w-12 h-12 flex items-center justify-center cursor-pointer z-10",initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.5*t+.05*l,type:"spring"},whileHover:{scale:1.1},onHoverStart:()=>s({category:e.name,level:l}),onHoverEnd:()=>s(null),style:{filter:p?"drop-shadow(0 0 12px ".concat(d,") drop-shadow(0 0 24px ").concat(d,"80)"):void 0},children:[(0,Os.jsx)(f,{size:48,color:10===l&&u?"#FFD700":d,fillPercentage:h,isUnlocked:u||p,isCurrent:p}),(0,Os.jsx)("div",{className:"relative z-20",children:m&&u?(0,Os.jsx)("div",{className:10===l?"animate-spin":"animate-pulse",style:{color:"#000000",animationDuration:10===l?"4s":"2s"},children:10===l?(0,Os.jsx)(Ul,{size:16}):(0,Os.jsx)(ci,{size:16})}):u?(0,Os.jsx)(Nl,{size:12,style:{color:"#000000"}}):(0,Os.jsx)("div",{className:"font-mono font-bold text-xs text-black-400",children:l})}),(null===a||void 0===a?void 0:a.category)===e.name&&(null===a||void 0===a?void 0:a.level)===l&&(0,Os.jsxs)(Ss.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"absolute mb-3 bg-black border-2 px-3 py-2 rounded whitespace-nowrap z-50 ".concat(l>=8?"top-full mt-3":"bottom-full"," ").concat("left-1/2 transform -translate-x-1/2"),style:c({borderColor:10===l?"#FFD700":d},l>=8&&{right:10===l?"0":"auto",left:10===l?"auto":"50%",transform:10===l?"translateX(0)":"translateX(-50%)"}),children:[(0,Os.jsxs)("div",{className:"text-sm font-mono font-bold",style:{color:10===l?"#FFD700":d},children:["Level ",l," ",10===l?"- MASTERY":"",p&&" (".concat(h,"%)")]}),(0,Os.jsx)("div",{className:"text-xs text-black-300",children:g(e,l)})]})]},l)})})]}),(0,Os.jsxs)("div",{className:"mt-4 flex justify-between text-xs font-mono text-gray-400",children:[(0,Os.jsx)("span",{children:o<10?"NEXT: LEVEL ".concat(o+1):"BRANCH MASTERED"}),(0,Os.jsx)("span",{style:{color:"branchColor"},children:o<10?"".concat(i.current,"/").concat(i.max," XP"):"COMPLETED"})]})]},e.id)})})}),(0,Os.jsx)("style",{jsx:!0,children:"\n        @keyframes scan {\n          0% { transform: translateX(-20px); }\n          100% { transform: translateX(calc(100% + 20px)); }\n        }\n      "})]})},uc=e=>{var t;let{tabColor:n,tabColorRgb:o,onClose:a}=e;const[s,i]=(0,r.useState)("weekly"),[l,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(0),[p,m]=(0,r.useState)(0),[h,x]=(0,r.useState)(null),[g,f]=(0,r.useState)(null),[y,b]=(0,r.useState)({x:0,y:0}),v=[{id:"weekly",label:"Week",icon:$i},{id:"monthly",label:"Month",icon:li},{id:"yearly",label:"Year",icon:Wl}],w=e=>({BookOpen:Ri,Briefcase:Al,Palette:xi,PenTool:Rl,Code:Si,Target:$i,Calendar:Ji,Heart:Il,Search:Hi,User:di}[e]||di),N=e=>Math.floor(60*Math.pow(1.4,e-1)),j=e=>{let t=1,n=0;for(;t<=10&&(n+=N(t),!(e<n));)t++;return Math.min(t,10)},k=e=>{b({x:e.clientX,y:e.clientY})};(0,r.useEffect)(()=>(C(),setTimeout(()=>m(1),500),setTimeout(()=>m(2),1e3),document.addEventListener("mousemove",k),()=>document.removeEventListener("mousemove",k)),[s]);const C=()=>{const e=JSON.parse(localStorage.getItem("focusSessions")||"[]"),t=JSON.parse(localStorage.getItem("focusCategories")||"[]"),n=new Date;let r;switch(s){case"weekly":default:r=new Date(n.getTime()-6048e5);break;case"monthly":r=new Date(n.getFullYear(),n.getMonth(),1);break;case"yearly":r=new Date(n.getFullYear(),0,1)}const o=e.filter(e=>{const t=new Date(e.createdAt);return t>=r&&t<=n}),a={};let i=0;o.forEach(e=>{const t=e.category,n=e.timeSpent||0;a[t]||(a[t]=0),a[t]+=n,i+=n});const l=Object.entries(a).map(e=>{let[n,r]=e;const o=t.find(e=>e.id===n),a=i>0?r/i*100:0;let s=0;return o&&"number"===typeof o.xp&&(s=o.xp),console.log("TimeMatrix - ".concat(null===o||void 0===o?void 0:o.name,": ").concat(s," XP, Level: ").concat(j(s))),{id:n,name:(null===o||void 0===o?void 0:o.name)||n,minutes:r,hours:Math.floor(r/60),remainingMinutes:r%60,percentage:a.toFixed(1),color:(null===o||void 0===o?void 0:o.color)||"#6B7280",iconName:(null===o||void 0===o?void 0:o.iconName)||"User",xp:s}}).sort((e,t)=>t.minutes-e.minutes);c(l),u(i)},S=e=>{const t=Math.floor(e/60),n=e%60;return t>0?"".concat(t,"h ").concat(n,"m"):"".concat(n,"m")},E=(()=>{if(0===l.length)return{topSkill:"None",avgTime:0,totalTime:0,leastSkill:"None"};const e=l[0],t=l[l.length-1],n=Math.round(d/l.length);return{topSkill:e.name,avgTime:n,totalTime:d,leastSkill:t.name}})();return(0,Os.jsxs)(Ss.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"solid-panel relative",children:[(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsx)("div",{className:"tab-header",children:(0,Os.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Os.jsx)("div",{className:"flex items-center gap-3",children:(0,Os.jsxs)("div",{children:[(0,Os.jsx)("h2",{className:"font-mono text-xl font-bold text-white tracking-wider",children:"TIME MATRIX"}),(0,Os.jsx)("p",{className:"font-mono text-xs text-gray-400 mt-1",children:"Track your time management and visualize your productivity."})]})}),(0,Os.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Os.jsx)("div",{className:"flex gap-1",children:v.map((e,t)=>{const n=e.icon;return(0,Os.jsx)(Ss.button,{onClick:()=>i(e.id),className:"px-2 py-1 border font-mono text-xs font-bold transition-all ".concat(s===e.id?"bg-black border-white":"bg-gray-900 border-gray-600 hover:border-gray-500"),style:{color:s===e.id?"white":"#9CA3AF",borderColor:s===e.id?"white":void 0},initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},children:(0,Os.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Os.jsx)(n,{size:12}),(0,Os.jsx)("span",{children:e.label})]})},e.id)})}),(0,Os.jsx)("button",{onClick:a,className:"p-1 border border-gray-600 hover:border-red-500 transition-colors",style:{color:"#EF4444"},children:(0,Os.jsx)(Rs,{size:16})})]})]})}),l.length>0?(0,Os.jsxs)("div",{className:"p-6",children:[(0,Os.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-6 items-center",children:[(0,Os.jsx)("div",{className:"lg:col-span-2 space-y-6",children:l.slice(0,Math.ceil(l.length/2)).map((e,t)=>{const n=w(e.iconName),r=j(e.xp);return(0,Os.jsxs)(Ss.div,{className:"solid-panel-light p-4 flex items-center gap-4 transition-all duration-200",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{delay:.1*t+1},children:[(0,Os.jsx)("div",{className:"p-3 rounded-full border-2 bg-black flex-shrink-0",style:{borderColor:e.color},children:(0,Os.jsx)(n,{size:24,style:{color:e.color}})}),(0,Os.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Os.jsx)("div",{className:"font-mono text-lg font-bold mb-1",style:{color:e.color},children:e.name.toUpperCase()}),(0,Os.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Os.jsx)("div",{className:"text-white font-mono text-xl font-bold",children:S(e.minutes)}),(0,Os.jsxs)("div",{className:"text-gray-400 font-mono text-sm",children:["Level ",r]})]})]})]},"left-".concat(e.id))})}),(0,Os.jsx)("div",{className:"lg:col-span-3 flex justify-center",children:(()=>{var e,t;if(0===l.length)return null;const r=250,o=230,a=120;let i=0;return(0,Os.jsxs)("div",{className:"relative",children:[(0,Os.jsxs)("svg",{width:500,height:500,className:"transform -rotate-90",children:[(0,Os.jsxs)("defs",{children:[(0,Os.jsxs)("filter",{id:"glow",children:[(0,Os.jsx)("feGaussianBlur",{stdDeviation:"6",result:"coloredBlur"}),(0,Os.jsxs)("feMerge",{children:[(0,Os.jsx)("feMergeNode",{in:"coloredBlur"}),(0,Os.jsx)("feMergeNode",{in:"SourceGraphic"})]})]}),(0,Os.jsxs)("linearGradient",{id:"scanGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,Os.jsx)("stop",{offset:"0%",stopColor:"transparent"}),(0,Os.jsx)("stop",{offset:"50%",stopColor:n,stopOpacity:"0.8"}),(0,Os.jsx)("stop",{offset:"100%",stopColor:"transparent"})]}),(0,Os.jsx)("pattern",{id:"gridPattern",patternUnits:"userSpaceOnUse",width:"20",height:"20",children:(0,Os.jsx)("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#374151",strokeWidth:"1",opacity:"0.3"})})]}),(0,Os.jsx)("rect",{width:"100%",height:"100%",fill:"url(#gridPattern)",opacity:"0.2"}),(0,Os.jsx)("circle",{cx:r,cy:r,r:245,fill:"none",stroke:"#374151",strokeWidth:"1",opacity:"0.3"}),(0,Os.jsx)("circle",{cx:r,cy:r,r:235,fill:"none",stroke:n,strokeWidth:"1",opacity:"0.4"}),(0,Os.jsx)("circle",{cx:r,cy:r,r:115,fill:"none",stroke:"#374151",strokeWidth:"1",opacity:"0.3"}),(0,Os.jsx)("circle",{cx:r,cy:r,r:105,fill:"none",stroke:n,strokeWidth:"1",opacity:"0.4"}),l.map((e,t)=>{const n=i,s=i+e.percentage/100*360,l=(n+s)/2;i=s;const c=n*Math.PI/180,d=s*Math.PI/180,u=(Math.PI,r+o*Math.cos(c)),m=r+o*Math.sin(c),g=r+o*Math.cos(d),f=r+o*Math.sin(d),y=r+a*Math.cos(c),b=r+a*Math.sin(c),v=r+a*Math.cos(d),w=r+a*Math.sin(d),N=s-n>180?1:0,j=["M ".concat(y," ").concat(b),"L ".concat(u," ").concat(m),"A ".concat(o," ").concat(o," 0 ").concat(N," 1 ").concat(g," ").concat(f),"L ".concat(v," ").concat(w),"A ".concat(a," ").concat(a," 0 ").concat(N," 0 ").concat(y," ").concat(b),"Z"].join(" ");return(0,Os.jsx)("g",{children:(0,Os.jsx)(Ss.path,{d:j,fill:e.color,stroke:"#000000",strokeWidth:"2",initial:{opacity:0,scale:0},animate:{opacity:p>=1?h===e.id?1:.8:0,scale:p>=1?h===e.id?1.05:1:0},transition:{delay:.2*t,type:"spring",duration:.8},className:"transition-all duration-200 cursor-pointer",style:{filter:"drop-shadow(0 0 12px ".concat(e.color,"80) drop-shadow(0 0 6px ").concat(e.color,"60)"),pointerEvents:"all"},onMouseEnter:()=>x(e.id),onMouseLeave:()=>x(null)})},e.id)}),p>=2&&(0,Os.jsx)(Ss.line,{x1:r,y1:20,x2:r,y2:130,stroke:"url(#scanGradient)",strokeWidth:"4",initial:{rotate:0},animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},style:{transformOrigin:"".concat(r,"px ").concat(r,"px"),pointerEvents:"none"}})]}),(0,Os.jsx)(R,{children:h&&p>=1&&(0,Os.jsx)(Ss.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"fixed bg-black border-2 rounded-lg px-4 py-3 pointer-events-none z-50",style:{left:y.x+15,top:y.y-10,borderColor:null===(e=l.find(e=>e.id===h))||void 0===e?void 0:e.color,minWidth:"200px",boxShadow:"0 0 20px ".concat(null===(t=l.find(e=>e.id===h))||void 0===t?void 0:t.color,"40")},children:(()=>{const e=l.find(e=>e.id===h);return e?(0,Os.jsxs)("div",{className:"text-center",children:[(0,Os.jsxs)("div",{className:"font-mono font-bold text-lg mb-1",style:{color:e.color},children:[e.name.toUpperCase()," (",e.percentage,"%)"]}),(0,Os.jsx)("div",{className:"text-white font-mono text-sm",children:S(e.minutes)})]}):null})()})}),(0,Os.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,Os.jsxs)("div",{className:"text-center max-w-[200px]",children:[(0,Os.jsx)(Ss.div,{className:"text-4xl font-mono font-bold mb-3 text-white",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:1.5,type:"spring"},children:S(d)}),(0,Os.jsx)(Ss.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.8},children:"TOTAL GRIND TIME"}),(0,Os.jsxs)(Ss.div,{className:"text-sm font-mono text-gray-500 mt-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:2},children:[s.toUpperCase()," ANALYSIS"]})]})})]})})()}),(0,Os.jsx)("div",{className:"lg:col-span-2 space-y-6",children:l.slice(Math.ceil(l.length/2)).map((e,t)=>{const n=w(e.iconName),r=j(e.xp);return(0,Os.jsxs)(Ss.div,{className:"solid-panel-light p-4 flex items-center gap-4 transition-all duration-200",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:.1*t+1.2},children:[(0,Os.jsx)("div",{className:"p-3 rounded-full border-2 bg-black flex-shrink-0",style:{borderColor:e.color},children:(0,Os.jsx)(n,{size:24,style:{color:e.color}})}),(0,Os.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Os.jsx)("div",{className:"font-mono text-lg font-bold mb-1",style:{color:e.color},children:e.name.toUpperCase()}),(0,Os.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Os.jsx)("div",{className:"text-white font-mono text-xl font-bold",children:S(e.minutes)}),(0,Os.jsxs)("div",{className:"text-gray-400 font-mono text-md",children:["Level ",r]})]})]})]},"right-".concat(e.id))})})]}),(0,Os.jsx)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:2},className:"mt-6 pt-4 border-t border-white",children:(0,Os.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-center",children:[(0,Os.jsxs)("div",{className:"form-section",children:[(0,Os.jsx)(zl,{size:16,className:"mx-auto mb-1 text-white"}),(0,Os.jsx)("div",{className:"text-lg font-mono font-bold text-white",children:E.topSkill.toUpperCase()}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"TOP SKILL"})]}),(0,Os.jsxs)("div",{className:"form-section",children:[(0,Os.jsx)(Ki,{size:16,className:"mx-auto mb-1 text-white"}),(0,Os.jsx)("div",{className:"text-lg font-mono font-bold text-white",children:S(E.avgTime)}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"AVG PER SKILL"})]}),(0,Os.jsxs)("div",{className:"form-section",children:[(0,Os.jsx)($i,{size:16,className:"mx-auto mb-1 text-white"}),(0,Os.jsx)("div",{className:"text-lg font-mono font-bold text-white",children:S(E.totalTime)}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"TOTAL TIME"})]}),(0,Os.jsxs)("div",{className:"form-section",children:[(0,Os.jsx)(li,{size:16,className:"mx-auto mb-1 text-white"}),(0,Os.jsx)("div",{className:"text-lg font-mono font-bold text-white",children:E.leastSkill.toUpperCase()}),(0,Os.jsx)("div",{className:"text-xs font-mono text-gray-400",children:"LEAST SKILL"})]})]})})]}):(0,Os.jsx)("div",{className:"text-center py-16",children:(0,Os.jsxs)(Ss.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{delay:.5},children:[(0,Os.jsx)($i,{size:64,className:"text-gray-500 mx-auto mb-4"}),(0,Os.jsx)("div",{className:"text-gray-400 font-mono text-xl font-bold mb-2",children:"NO DATA MATRIX FOUND"}),(0,Os.jsx)("div",{className:"text-gray-500 font-mono text-sm",children:"Complete focus sessions to generate time analysis data!"})]})})]}),(0,Os.jsx)(R,{children:g&&(0,Os.jsx)(Ss.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"fixed bg-black border-2 px-4 py-2 rounded z-50 pointer-events-none",style:{left:y.x+15,top:y.y-10,borderColor:(null===(t=l.find(e=>e.id===g))||void 0===t?void 0:t.color)||n},children:(()=>{const e=l.find(e=>e.id===g);if(!e)return null;const t=j(e.xp),n=((e,t)=>{var n;return(null===(n={scholar:["STUDENT","LEARNER","THINKER","SCHOLAR","RESEARCHER","EXPERT","SAGE","PROFESSOR","GENIUS","MASTERMIND"],profession:["INTERN","TRAINEE","WORKER","SPECIALIST","VETERAN","ELITE","MANAGER","DIRECTOR","EXECUTIVE","LEGEND"],artisan:["DREAMER","ARTIST","MAKER","CREATOR","DESIGNER","INNOVATOR","VISIONARY","PIONEER","VIRTUOSO","GODLIKE"],scribe:["NOVICE","WRITER","AUTHOR","STORYTELLER","WORDSMITH","POET","NOVELIST","MASTER","LAUREATE","IMMORTAL"],programming:["NOOB","CODER","PROGRAMMER","DEVELOPER","ENGINEER","ARCHITECT","GURU","NINJA","WIZARD","HACKER"],literacy:["READER","BROWSER","BOOKWORM","SCHOLAR","CRITIC","ANALYST","EXPERT","CURATOR","SAGE","ORACLE"],strategist:["PLANNER","ORGANIZER","TACTICIAN","STRATEGIST","COORDINATOR","MASTERMIND","ARCHITECT","VISIONARY","COMMANDER","GRANDMASTER"],mindfulness:["SEEKER","RELAXER","MEDITATOR","PEACEFUL","CENTERED","BALANCED","SERENE","ENLIGHTENED","TRANSCENDENT","ZEN MASTER"],knowledge:["CURIOUS","SEARCHER","INVESTIGATOR","RESEARCHER","EXPLORER","DISCOVERER","SCHOLAR","EXPERT","AUTHORITY","OMNISCIENT"]}[e.toLowerCase()])||void 0===n?void 0:n[t-1])||"Level ".concat(t)})(e.name,t);return(0,Os.jsxs)("div",{className:"text-center",children:[(0,Os.jsx)("div",{className:"font-mono font-bold text-lg",style:{color:e.color},children:e.name.toUpperCase()}),(0,Os.jsxs)("div",{className:"text-white font-mono text-sm",children:["Level ",t," - ",n]}),(0,Os.jsxs)("div",{className:"text-gray-400 font-mono text-xs",children:[e.xp," XP \u2022 ",S(e.minutes)," grind time"]})]})})()})})]})},pc=e=>{let{username:t="user",tabColor:n="#10B981"}=e;const[o,a]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[l,c]=(0,r.useState)(!1),[d,u]=(0,r.useState)({totalTime:0,totalSessions:0,todaySessions:0,weekSessions:0});(e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);t&&"".concat(parseInt(t[1],16),", ").concat(parseInt(t[2],16),", ").concat(parseInt(t[3],16))})("white");return(0,r.useEffect)(()=>{(()=>{let e=JSON.parse(localStorage.getItem("focusCategories")||"[]");if(0===e.length){const t=[{id:"scholar",name:"Scholar",iconName:"BookOpen",color:"#FF1493",xp:95},{id:"profession",name:"Profession",iconName:"Briefcase",color:"#00FFFF",xp:180},{id:"artisan",name:"Artisan",iconName:"Palette",color:"#8A2BE2",xp:45},{id:"scribe",name:"Scribe",iconName:"PenTool",color:"#FF6347",xp:0},{id:"programming",name:"Programming",iconName:"Code",color:"#00FF7F",xp:125},{id:"literacy",name:"Literacy",iconName:"Target",color:"#FFD700",xp:30},{id:"strategist",name:"Strategist",iconName:"Calendar",color:"#FF4500",xp:0},{id:"mindfulness",name:"Mindfulness",iconName:"Heart",color:"#40E0D0",xp:85},{id:"knowledge",name:"Knowledge",iconName:"Search",color:"#DA70D6",xp:15}];localStorage.setItem("focusCategories",JSON.stringify(t)),e=t;const n=[{id:1,username:"user",category:"scholar",timeSpent:25,sessionType:"session",createdAt:"2025-09-10T10:00:00.000Z",date:"Tue Sep 10 2025"},{id:2,username:"user",category:"scholar",timeSpent:30,sessionType:"session",createdAt:"2025-09-09T14:30:00.000Z",date:"Mon Sep 09 2025"},{id:3,username:"user",category:"scholar",timeSpent:40,sessionType:"session",createdAt:"2025-09-08T09:15:00.000Z",date:"Sun Sep 08 2025"},{id:4,username:"user",category:"profession",timeSpent:45,sessionType:"session",createdAt:"2025-09-12T08:00:00.000Z",date:"Thu Sep 12 2025"},{id:5,username:"user",category:"profession",timeSpent:60,sessionType:"session",createdAt:"2025-09-11T16:00:00.000Z",date:"Wed Sep 11 2025"},{id:6,username:"user",category:"profession",timeSpent:50,sessionType:"session",createdAt:"2025-09-07T11:30:00.000Z",date:"Sun Sep 07 2025"},{id:7,username:"user",category:"profession",timeSpent:25,sessionType:"session",createdAt:"2025-09-06T15:45:00.000Z",date:"Sat Sep 06 2025"},{id:8,username:"user",category:"artisan",timeSpent:45,sessionType:"session",createdAt:"2025-09-09T20:00:00.000Z",date:"Mon Sep 09 2025"},{id:9,username:"user",category:"programming",timeSpent:35,sessionType:"session",createdAt:"2025-09-12T19:00:00.000Z",date:"Thu Sep 12 2025"},{id:10,username:"user",category:"programming",timeSpent:45,sessionType:"session",createdAt:"2025-09-08T18:30:00.000Z",date:"Sun Sep 08 2025"},{id:11,username:"user",category:"programming",timeSpent:45,sessionType:"session",createdAt:"2025-09-05T17:15:00.000Z",date:"Fri Sep 05 2025"},{id:12,username:"user",category:"literacy",timeSpent:30,sessionType:"session",createdAt:"2025-09-10T21:00:00.000Z",date:"Tue Sep 10 2025"},{id:13,username:"user",category:"mindfulness",timeSpent:25,sessionType:"session",createdAt:"2025-09-12T07:00:00.000Z",date:"Thu Sep 12 2025"},{id:14,username:"user",category:"mindfulness",timeSpent:30,sessionType:"session",createdAt:"2025-09-09T07:30:00.000Z",date:"Mon Sep 09 2025"},{id:15,username:"user",category:"mindfulness",timeSpent:30,sessionType:"session",createdAt:"2025-09-06T22:00:00.000Z",date:"Sat Sep 06 2025"},{id:16,username:"user",category:"knowledge",timeSpent:15,sessionType:"session",createdAt:"2025-09-08T13:45:00.000Z",date:"Sun Sep 08 2025"}];localStorage.setItem("focusSessions",JSON.stringify(n))}a(e);const t=JSON.parse(localStorage.getItem("focusSessions")||"[]");i(t);const n=new Date,r=n.toDateString(),o=new Date(n.getTime()-6048e5),s=t.reduce((e,t)=>e+t.timeSpent,0),l=t.length,c=t.filter(e=>new Date(e.createdAt).toDateString()===r).length,d=t.filter(e=>new Date(e.createdAt)>=o).length;u({totalTime:s,totalSessions:l,todaySessions:c,weekSessions:d})})()},[t]),(0,r.useEffect)(()=>(window.toggleMatrix=()=>c(!l),()=>{delete window.toggleMatrix}),[l]),(0,Os.jsx)("div",{className:"p-6 space-y-6 translucent-container",children:(0,Os.jsx)(Ss.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},children:l?(0,Os.jsx)(uc,{tabColor:"white",tabColorRgb:"white",onClose:()=>c(!1)}):(0,Os.jsx)(Ss.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"border-2 border-white shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] relative",style:{backgroundColor:"rgba(0, 0, 0, 0.4)",boxShadow:"8px 8px 0px 0px rgba(0,0,0,1)"},children:(0,Os.jsx)("div",{className:"relative z-10",children:(0,Os.jsx)("div",{className:"p-6",children:o.length>0?(0,Os.jsx)(dc,{categories:o,tabColor:"white",tabColorRgb:"white"}):(0,Os.jsxs)("div",{className:"text-center py-8",children:[(0,Os.jsx)($i,{size:48,className:"text-gray-500 mx-auto mb-3"}),(0,Os.jsx)("div",{className:"text-gray-400 font-mono text-lg font-bold mb-2",children:"NO SKILLS UNLOCKED"}),(0,Os.jsx)("div",{className:"text-gray-500 font-mono text-sm",children:"Complete focus sessions to start building your skill trees!"})]})})})})},l?"matrix":"skilltree")})},mc=()=>{const[e,t]=(0,r.useState)([]);(0,r.useEffect)(()=>{const e=e=>{const{achievement:n,tier:r}=e.detail,o={id:Date.now()+Math.random(),achievement:n,tier:r,timestamp:Date.now()};t(e=>[...e,o]),setTimeout(()=>{t(e=>e.filter(e=>e.id!==o.id))},5e3)};return window.addEventListener("achievementUnlocked",e),()=>window.removeEventListener("achievementUnlocked",e)},[]);return(0,Os.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-3",children:(0,Os.jsx)(R,{children:e.map(e=>{const{achievement:n,tier:r}=e,o=(e=>{switch(e){case"legendary":return Ul;case"rare":return Fl;case"uncommon":return Nl;default:return ci}})(r.name.toLowerCase());return(0,Os.jsxs)(Ss.div,{initial:{opacity:0,x:300,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:300,scale:.8},transition:{type:"spring",stiffness:300,damping:25},className:"bg-gray-900 border-2 p-4 max-w-sm cursor-pointer relative overflow-hidden",style:{borderColor:r.color,boxShadow:"0 0 20px ".concat(r.color,"40, 4px 4px 0px 0px rgba(0,0,0,1)")},onClick:()=>(e=>{t(t=>t.filter(t=>t.id!==e))})(e.id),children:[(0,Os.jsx)("div",{className:"absolute inset-0 opacity-10 animate-pulse",style:{backgroundColor:r.color}}),(0,Os.jsx)("div",{className:"absolute inset-0 border-2 opacity-50 animate-pulse",style:{borderColor:r.color}}),(0,Os.jsxs)("div",{className:"relative z-10",children:[(0,Os.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Os.jsx)("div",{className:"w-8 h-8 border-2 flex items-center justify-center",style:{borderColor:r.color,backgroundColor:"".concat(r.color,"20")},children:(0,Os.jsx)(o,{size:16,style:{color:r.color}})}),(0,Os.jsx)("div",{children:(0,Os.jsxs)("div",{className:"font-mono font-bold text-xs",style:{color:r.color},children:[r.emoji," ",r.name.toUpperCase()," UNLOCKED!"]})})]}),(0,Os.jsx)("div",{className:"font-mono font-bold text-white text-sm mb-1",children:n.name}),(0,Os.jsx)("div",{className:"font-mono text-xs text-gray-400 mb-2",children:n.description}),(0,Os.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Os.jsxs)("div",{className:"font-mono text-xs font-bold",style:{color:r.color},children:["+",n.xpReward," XP"]}),(0,Os.jsx)("div",{className:"font-mono text-xs text-gray-500",children:"Click to dismiss"})]})]})]},e.id)})})})},hc=()=>{const e="user",{activeTab:t,changeTab:n}=mi(),{notes:o,loading:a,error:s,createNote:i,updateNote:l,deleteNote:d,searchNotes:u,refreshNotes:p}=$s(),{tasks:m,taskLists:h,loading:x}=Qs(),{loading:g}=Zs(),{playerStats:f,loading:y}=ni(),{achievements:b,summary:v,loading:w}=(()=>{const[e,t]=(0,r.useState)([]),[n,o]=(0,r.useState)(!0),[a,s]=(0,r.useState)(null),[i,l]=(0,r.useState)({total:0,completed:0,inProgress:0,locked:0}),c=(0,r.useCallback)(async()=>{try{o(!0),s(null);const e=await ti.getAchievements(),n=e.data||e;if(t(n),e.summary)l(e.summary);else{const e=n.filter(e=>e.isCompleted).length,t=n.filter(e=>e.progress>0&&!e.isCompleted).length;l({total:n.length,completed:e,inProgress:t,locked:n.length-e-t})}}catch(e){s("Failed to fetch achievements"),console.error("Error fetching achievements:",e)}finally{o(!1)}},[]);return(0,r.useEffect)(()=>{c()},[c]),{achievements:e,summary:i,loading:n,error:a,refreshAchievements:c}})(),[N,j]=(0,r.useState)(""),[k,C]=(0,r.useState)(!1),[S,E]=(0,r.useState)(!1),[T,A]=(0,r.useState)(!1),[I,P]=(0,r.useState)(!1),[_,O]=(0,r.useState)(null),[D,L]=(0,r.useState)({}),[M,F]=(0,r.useState)({title:"",content:"",tags:"",color:"#FFD700"}),z=["#FFD700","#87CEEB","#98FB98","#F0E68C","#DDA0DD","#F5DEB3","#FFB6C1","#E0E0E0"],B=(N&&o.filter(e=>e.title.toLowerCase().includes(N.toLowerCase())||e.content.toLowerCase().includes(N.toLowerCase())||e.tags&&Array.isArray(e.tags)&&e.tags.some(e=>e.toLowerCase().includes(N.toLowerCase()))),function(e){L(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n(e)});return a&&0===o.length?(0,Os.jsx)("div",{className:"w-full h-screen flex items-center justify-center bg-gray-100",children:(0,Os.jsx)("div",{className:"font-mono text-xl",children:"Loading your digital realm..."})}):(0,Os.jsxs)("div",{className:"pixel-pages-container",children:[(0,Os.jsx)("div",{className:"fixed inset-0 opacity-5 pointer-events-none",style:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")"}}),(0,Os.jsx)(ui,{activeTab:t,onTabChange:B}),(0,Os.jsx)("main",{className:"tab-content-area",children:(()=>{const n=(()=>{const e=[{id:"dashboard",color:"#67E8F9"},{id:"notes",color:"#22D3EE"},{id:"tasks",color:"#0EA5E9"},{id:"library",color:"#3B82F6"},{id:"focus",color:"#8B5CF6"},{id:"tracker",color:"#F59E0B"},{id:"achievements",color:"#8B5CF6"},{id:"profile",color:"#A78BFA"}].find(e=>e.id===t);return(null===e||void 0===e?void 0:e.color)||"#22D3EE"})();switch(t){case"dashboard":return(0,Os.jsx)(ic,{username:e,tabColor:n,onTabChange:B});case"notes":return(0,Os.jsx)(Xi,{tabColor:n});case"tasks":return(0,Os.jsx)(cl,{tabColor:n});case"library":return(0,Os.jsx)(vl,{tabColor:n,navigationParams:D});case"focus":return(0,Os.jsx)(Ml,{username:e,tabColor:n});case"achievements":return(0,Os.jsx)(Xl,{username:e,tabColor:n});case"profile":return(0,Os.jsx)(tc,{username:e,tabColor:n});case"tracker":return(0,Os.jsx)(pc,{username:e,tabColor:n});default:return(0,Os.jsx)("div",{children:"Tab not found"})}})()}),(0,Os.jsxs)(R,{mode:"wait",children:[T&&(0,Os.jsx)(Ss.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,Os.jsxs)(Ss.div,{className:"border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white p-6 w-full max-w-2xl",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:[(0,Os.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Os.jsx)("h2",{className:"font-mono text-xl font-bold",children:"Create New Note"}),(0,Os.jsx)(Ls,{icon:(0,Os.jsx)(Rs,{size:18}),onClick:()=>A(!1),color:"bg-red-400",hoverColor:"hover:bg-red-500"})]}),(0,Os.jsxs)("div",{className:"space-y-4",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"font-mono block mb-2",children:"Title"}),(0,Os.jsx)(Bs,{value:M.title,onChange:e=>F(c(c({},M),{},{title:e.target.value})),placeholder:"Note title"})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"font-mono block mb-2",children:"Content"}),(0,Os.jsx)(zs,{value:M.content,onChange:e=>F(c(c({},M),{},{content:e.target.value})),placeholder:"Write your note here...",rows:6})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"font-mono block mb-2",children:"Tags (comma separated)"}),(0,Os.jsx)(Bs,{value:M.tags,onChange:e=>F(c(c({},M),{},{tags:e.target.value})),placeholder:"tag1, tag2, tag3"})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"font-mono block mb-2",children:"Color"}),(0,Os.jsx)("div",{className:"flex gap-2",children:z.map(e=>(0,Os.jsx)(Ss.div,{className:"border-2 border-black w-8 h-8 cursor-pointer",style:{backgroundColor:e},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(c(c({},M),{},{color:e})),children:M.color===e&&(0,Os.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Os.jsx)("div",{className:"w-3 h-3 bg-black"})})},e))})]}),(0,Os.jsx)("div",{className:"flex justify-end pt-4",children:(0,Os.jsx)(Ls,{onClick:async()=>{if(M.title.trim()&&M.content.trim())try{const e={title:M.title,content:M.content,tags:M.tags?M.tags.split(",").map(e=>e.trim()).filter(e=>e):[],color:M.color||z[0],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};await i(e),F({title:"",content:"",tags:"",color:z[0]}),A(!1)}catch(e){alert("Failed to create note")}else alert("Please fill in both title and content")},color:"bg-green-400",hoverColor:"hover:bg-green-500",icon:(0,Os.jsx)(Is,{size:18}),children:"Save Note"})})]})]})}),I&&_&&(0,Os.jsx)(Ss.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,Os.jsxs)(Ss.div,{className:"border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white p-6 w-full max-w-2xl",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:[(0,Os.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Os.jsx)("h2",{className:"font-mono text-xl font-bold",children:"Edit Note"}),(0,Os.jsx)(Ls,{icon:(0,Os.jsx)(Rs,{size:18}),onClick:()=>{P(!1),O(null)},color:"bg-red-400",hoverColor:"hover:bg-red-500"})]}),(0,Os.jsxs)("div",{className:"space-y-4",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"font-mono block mb-2",children:"Title"}),(0,Os.jsx)(Bs,{value:_.title,onChange:e=>O(c(c({},_),{},{title:e.target.value})),placeholder:"Note title"})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"font-mono block mb-2",children:"Content"}),(0,Os.jsx)(zs,{value:_.content,onChange:e=>O(c(c({},_),{},{content:e.target.value})),placeholder:"Write your note here...",rows:6})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"font-mono block mb-2",children:"Tags (comma separated)"}),(0,Os.jsx)(Bs,{value:_.tags?_.tags.join(", "):"",onChange:e=>O(c(c({},_),{},{tags:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)})),placeholder:"tag1, tag2, tag3"})]}),(0,Os.jsxs)("div",{children:[(0,Os.jsx)("label",{className:"font-mono block mb-2",children:"Color"}),(0,Os.jsx)("div",{className:"flex gap-2",children:z.map(e=>(0,Os.jsx)(Ss.div,{className:"border-2 border-black w-8 h-8 cursor-pointer",style:{backgroundColor:e},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>O(c(c({},_),{},{color:e})),children:_.color===e&&(0,Os.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Os.jsx)("div",{className:"w-3 h-3 bg-black"})})},e))})]}),(0,Os.jsx)("div",{className:"flex justify-end pt-4",children:(0,Os.jsx)(Ls,{onClick:async()=>{if(_&&_.title.trim()&&_.content.trim())try{const e=c(c({},_),{},{tags:"string"===typeof _.tags?_.tags.split(",").map(e=>e.trim()).filter(e=>e):_.tags,updatedAt:(new Date).toISOString()}),t=_.id||_.filename;if(!t)return void alert("Cannot identify note to update");await l(t,e),P(!1),O(null)}catch(e){console.error("Update error:",e),alert("Failed to update note: "+(e.message||"Unknown error"))}else alert("Please fill in both title and content")},color:"bg-blue-400",hoverColor:"hover:bg-blue-500",icon:(0,Os.jsx)(Is,{size:18}),children:"Update Note"})})]})]})}),_&&!I&&(0,Os.jsx)(Ss.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,Os.jsxs)(Ss.div,{className:"border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto",style:{borderTopColor:_.color,borderTopWidth:"8px"},initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:[(0,Os.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Os.jsx)("h2",{className:"font-mono text-xl font-bold",children:_.title}),(0,Os.jsxs)("div",{className:"flex gap-2",children:[(0,Os.jsx)(Ls,{onClick:()=>P(!0),color:"bg-blue-400",hoverColor:"hover:bg-blue-500",icon:(0,Os.jsx)(Ps,{size:18})}),(0,Os.jsx)(Ls,{onClick:()=>{(async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.title,'"?')))try{const t=e.id||e.filename;await d(t),!_||_.id!==e.id&&_.filename!==e.filename||O(null)}catch(t){alert("Failed to delete note")}})(_),O(null)},color:"bg-red-400",hoverColor:"hover:bg-red-500",icon:(0,Os.jsx)(_s,{size:18})}),(0,Os.jsx)(Ls,{onClick:()=>O(null),color:"bg-gray-400",hoverColor:"hover:bg-gray-500",icon:(0,Os.jsx)(Rs,{size:18})})]})]}),(0,Os.jsx)("div",{className:"border-2 border-black bg-gray-50 p-4 min-h-[200px] whitespace-pre-wrap mb-4",children:_.content}),_.tags&&_.tags.length>0&&(0,Os.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:_.tags.map((e,t)=>(0,Os.jsxs)("span",{className:"text-sm bg-gray-200 border border-gray-400 px-2 py-1 font-mono",children:["#",e]},t))}),(0,Os.jsxs)("div",{className:"text-sm text-gray-500 flex justify-between",children:[(0,Os.jsxs)("div",{children:["Created: ",new Date(_.createdAt||_.created).toLocaleString()]}),(0,Os.jsxs)("div",{children:["Updated: ",new Date(_.updatedAt||_.updated).toLocaleString()]})]})]})}),k&&(0,Os.jsx)(Ss.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-10 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,Os.jsxs)(Ss.div,{className:"border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] bg-white p-6 w-full max-w-6xl max-h-[80vh] overflow-y-auto",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},children:[(0,Os.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Os.jsxs)("div",{children:[(0,Os.jsx)("h2",{className:"font-mono text-2xl font-bold",children:"\ud83c\udfc6 Achievements"}),(0,Os.jsxs)("div",{className:"flex gap-4 mt-2 text-sm font-mono",children:[(0,Os.jsxs)("span",{className:"text-green-600",children:["\u2713 ",v.completed," Completed"]}),(0,Os.jsxs)("span",{className:"text-blue-600",children:["\u26a1 ",v.inProgress," In Progress"]}),(0,Os.jsxs)("span",{className:"text-gray-500",children:["\ud83d\udd12 ",v.locked," Locked"]})]})]}),(0,Os.jsx)(Ls,{icon:(0,Os.jsx)(Rs,{size:18}),onClick:()=>C(!1),color:"bg-red-400",hoverColor:"hover:bg-red-500"})]}),w?(0,Os.jsx)("div",{className:"text-center py-8 font-mono",children:"Loading achievements..."}):b.length>0?(0,Os.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map((e,t)=>{var n;return(0,Os.jsx)(Us,{achievement:e},(null===(n=e.achievement)||void 0===n?void 0:n.id)||e.id||t)})}):(0,Os.jsxs)("div",{className:"text-center py-8",children:[(0,Os.jsx)("h3",{className:"font-mono text-lg font-bold mb-2",children:"No achievements yet"}),(0,Os.jsx)("p",{className:"text-gray-600",children:"Create some notes to unlock achievements!"})]})]})})]}),(0,Os.jsx)(mc,{})]})};const xc=function(){return(0,Os.jsx)(Fi,{children:(0,Os.jsx)("div",{className:"App",children:(0,Os.jsx)(hc,{})})})};o.createRoot(document.getElementById("root")).render((0,Os.jsx)(r.StrictMode,{children:(0,Os.jsx)(xc,{})}))})();
//# sourceMappingURL=main.5c09b647.js.map